{"version":3,"file":"../main.min.js","sources":["main.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n//! moment.js\n//! version : 2.26.0\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks() {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback(callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return (\n            input instanceof Array ||\n            Object.prototype.toString.call(input) === '[object Array]'\n        );\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return (\n            input != null &&\n            Object.prototype.toString.call(input) === '[object Object]'\n        );\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return Object.getOwnPropertyNames(obj).length === 0;\n        } else {\n            var k;\n            for (k in obj) {\n                if (hasOwnProp(obj, k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return (\n            typeof input === 'number' ||\n            Object.prototype.toString.call(input) === '[object Number]'\n        );\n    }\n\n    function isDate(input) {\n        return (\n            input instanceof Date ||\n            Object.prototype.toString.call(input) === '[object Date]'\n        );\n    }\n\n    function map(arr, fn) {\n        var res = [],\n            i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty: false,\n            unusedTokens: [],\n            unusedInput: [],\n            overflow: -2,\n            charsLeftOver: 0,\n            nullInput: false,\n            invalidEra: null,\n            invalidMonth: null,\n            invalidFormat: false,\n            userInvalidated: false,\n            iso: false,\n            parsedDateParts: [],\n            era: null,\n            meridiem: null,\n            rfc2822: false,\n            weekdayMismatch: false,\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this),\n                len = t.length >>> 0,\n                i;\n\n            for (i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m),\n                parsedParts = some.call(flags.parsedDateParts, function (i) {\n                    return i != null;\n                }),\n                isNowValid =\n                    !isNaN(m._d.getTime()) &&\n                    flags.overflow < 0 &&\n                    !flags.empty &&\n                    !flags.invalidEra &&\n                    !flags.invalidMonth &&\n                    !flags.invalidWeekday &&\n                    !flags.weekdayMismatch &&\n                    !flags.nullInput &&\n                    !flags.invalidFormat &&\n                    !flags.userInvalidated &&\n                    (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid =\n                    isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            } else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid(flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        } else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = (hooks.momentProperties = []),\n        updateInProgress = false;\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i = 0; i < momentProperties.length; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment(obj) {\n        return (\n            obj instanceof Moment || (obj != null && obj._isAMomentObject != null)\n        );\n    }\n\n    function warn(msg) {\n        if (\n            hooks.suppressDeprecationWarnings === false &&\n            typeof console !== 'undefined' &&\n            console.warn\n        ) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [],\n                    arg,\n                    i,\n                    key;\n                for (i = 0; i < arguments.length; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (key in arguments[0]) {\n                            if (hasOwnProp(arguments[0], key)) {\n                                arg += key + ': ' + arguments[0][key] + ', ';\n                            }\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(\n                    msg +\n                        '\\nArguments: ' +\n                        Array.prototype.slice.call(args).join('') +\n                        '\\n' +\n                        new Error().stack\n                );\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return (\n            (typeof Function !== 'undefined' && input instanceof Function) ||\n            Object.prototype.toString.call(input) === '[object Function]'\n        );\n    }\n\n    function set(config) {\n        var prop, i;\n        for (i in config) {\n            if (hasOwnProp(config, i)) {\n                prop = config[i];\n                if (isFunction(prop)) {\n                    this[i] = prop;\n                } else {\n                    this['_' + i] = prop;\n                }\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' +\n                /\\d{1,2}/.source\n        );\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig),\n            prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (\n                hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])\n            ) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i,\n                res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay: '[Today at] LT',\n        nextDay: '[Tomorrow at] LT',\n        nextWeek: 'dddd [at] LT',\n        lastDay: '[Yesterday at] LT',\n        lastWeek: '[Last] dddd [at] LT',\n        sameElse: 'L',\n    };\n\n    function calendar(key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (\n            (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) +\n            absNumber\n        );\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,\n        localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,\n        formatFunctions = {},\n        formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken(token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(\n                    func.apply(this, arguments),\n                    token\n                );\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens),\n            i,\n            length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '',\n                i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i])\n                    ? array[i].call(mom, format)\n                    : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] =\n            formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(\n                localFormattingTokens,\n                replaceLongDateFormatTokens\n            );\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var defaultLongDateFormat = {\n        LTS: 'h:mm:ss A',\n        LT: 'h:mm A',\n        L: 'MM/DD/YYYY',\n        LL: 'MMMM D, YYYY',\n        LLL: 'MMMM D, YYYY h:mm A',\n        LLLL: 'dddd, MMMM D, YYYY h:mm A',\n    };\n\n    function longDateFormat(key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper\n            .match(formattingTokens)\n            .map(function (tok) {\n                if (\n                    tok === 'MMMM' ||\n                    tok === 'MM' ||\n                    tok === 'DD' ||\n                    tok === 'dddd'\n                ) {\n                    return tok.slice(1);\n                }\n                return tok;\n            })\n            .join('');\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate() {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d',\n        defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal(number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future: 'in %s',\n        past: '%s ago',\n        s: 'a few seconds',\n        ss: '%d seconds',\n        m: 'a minute',\n        mm: '%d minutes',\n        h: 'an hour',\n        hh: '%d hours',\n        d: 'a day',\n        dd: '%d days',\n        w: 'a week',\n        ww: '%d weeks',\n        M: 'a month',\n        MM: '%d months',\n        y: 'a year',\n        yy: '%d years',\n    };\n\n    function relativeTime(number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return isFunction(output)\n            ? output(number, withoutSuffix, string, isFuture)\n            : output.replace(/%d/i, number);\n    }\n\n    function pastFuture(diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias(unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string'\n            ? aliases[units] || aliases[units.toLowerCase()]\n            : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [],\n            u;\n        for (u in unitsObj) {\n            if (hasOwnProp(unitsObj, u)) {\n                units.push({ unit: u, priority: priorities[u] });\n            }\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    function absFloor(number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function makeGetSet(unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get(mom, unit) {\n        return mom.isValid()\n            ? mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]()\n            : NaN;\n    }\n\n    function set$1(mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (\n                unit === 'FullYear' &&\n                isLeapYear(mom.year()) &&\n                mom.month() === 1 &&\n                mom.date() === 29\n            ) {\n                value = toInt(value);\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](\n                    value,\n                    mom.month(),\n                    daysInMonth(value, mom.month())\n                );\n            } else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet(units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n    function stringSet(units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units),\n                i;\n            for (i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    var match1 = /\\d/, //       0 - 9\n        match2 = /\\d\\d/, //      00 - 99\n        match3 = /\\d{3}/, //     000 - 999\n        match4 = /\\d{4}/, //    0000 - 9999\n        match6 = /[+-]?\\d{6}/, // -999999 - 999999\n        match1to2 = /\\d\\d?/, //       0 - 99\n        match3to4 = /\\d\\d\\d\\d?/, //     999 - 9999\n        match5to6 = /\\d\\d\\d\\d\\d\\d?/, //   99999 - 999999\n        match1to3 = /\\d{1,3}/, //       0 - 999\n        match1to4 = /\\d{1,4}/, //       0 - 9999\n        match1to6 = /[+-]?\\d{1,6}/, // -999999 - 999999\n        matchUnsigned = /\\d+/, //       0 - inf\n        matchSigned = /[+-]?\\d+/, //    -inf - inf\n        matchOffset = /Z|[+-]\\d\\d:?\\d\\d/gi, // +00:00 -00:00 +0000 -0000 or Z\n        matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi, // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n        matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/, // 123456789 123456789.123\n        // any word (or two) characters or numbers including two/three word month in arabic.\n        // includes scottish gaelic two word and hyphenated months\n        matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,\n        regexes;\n\n    regexes = {};\n\n    function addRegexToken(token, regex, strictRegex) {\n        regexes[token] = isFunction(regex)\n            ? regex\n            : function (isStrict, localeData) {\n                  return isStrict && strictRegex ? strictRegex : regex;\n              };\n    }\n\n    function getParseRegexForToken(token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(\n            s\n                .replace('\\\\', '')\n                .replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (\n                    matched,\n                    p1,\n                    p2,\n                    p3,\n                    p4\n                ) {\n                    return p1 || p2 || p3 || p4;\n                })\n        );\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken(token, callback) {\n        var i,\n            func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken(token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0,\n        MONTH = 1,\n        DATE = 2,\n        HOUR = 3,\n        MINUTE = 4,\n        SECOND = 5,\n        MILLISECOND = 6,\n        WEEK = 7,\n        WEEKDAY = 8;\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1\n            ? isLeapYear(year)\n                ? 29\n                : 28\n            : 31 - ((modMonth % 7) % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M', match1to2);\n    addRegexToken('MM', match1to2, match2);\n    addRegexToken('MMM', function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split(\n            '_'\n        ),\n        defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split(\n            '_'\n        ),\n        MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,\n        defaultMonthsShortRegex = matchWord,\n        defaultMonthsRegex = matchWord;\n\n    function localeMonths(m, format) {\n        if (!m) {\n            return isArray(this._months)\n                ? this._months\n                : this._months['standalone'];\n        }\n        return isArray(this._months)\n            ? this._months[m.month()]\n            : this._months[\n                  (this._months.isFormat || MONTHS_IN_FORMAT).test(format)\n                      ? 'format'\n                      : 'standalone'\n              ][m.month()];\n    }\n\n    function localeMonthsShort(m, format) {\n        if (!m) {\n            return isArray(this._monthsShort)\n                ? this._monthsShort\n                : this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort)\n            ? this._monthsShort[m.month()]\n            : this._monthsShort[\n                  MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'\n              ][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse(monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp(\n                    '^' + this.months(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n                this._shortMonthsParse[i] = new RegExp(\n                    '^' + this.monthsShort(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex =\n                    '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'MMMM' &&\n                this._longMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'MMM' &&\n                this._shortMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth(mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth(value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth() {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    function monthsShortRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict\n                ? this._monthsShortStrictRegex\n                : this._monthsShortRegex;\n        }\n    }\n\n    function monthsRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict\n                ? this._monthsStrictRegex\n                : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._monthsShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? zeroFill(y, 4) : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY', 4], 0, 'year');\n    addFormatToken(0, ['YYYYY', 5], 0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y', matchSigned);\n    addRegexToken('YY', match1to2, match2);\n    addRegexToken('YYYY', match1to4, match4);\n    addRegexToken('YYYYY', match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] =\n            input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear() {\n        return isLeapYear(this.year());\n    }\n\n    function createDate(y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate(y) {\n        var date, args;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear,\n            resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear,\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek,\n            resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear,\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w', match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W', match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (\n        input,\n        week,\n        config,\n        token\n    ) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek(mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow: 0, // Sunday is the first day of the week.\n        doy: 6, // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek() {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear() {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek(input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek(input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d', match1to2);\n    addRegexToken('e', match1to2);\n    addRegexToken('E', match1to2);\n    addRegexToken('dd', function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd', function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd', function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays(ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split(\n            '_'\n        ),\n        defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        defaultWeekdaysRegex = matchWord,\n        defaultWeekdaysShortRegex = matchWord,\n        defaultWeekdaysMinRegex = matchWord;\n\n    function localeWeekdays(m, format) {\n        var weekdays = isArray(this._weekdays)\n            ? this._weekdays\n            : this._weekdays[\n                  m && m !== true && this._weekdays.isFormat.test(format)\n                      ? 'format'\n                      : 'standalone'\n              ];\n        return m === true\n            ? shiftWeekdays(weekdays, this._week.dow)\n            : m\n            ? weekdays[m.day()]\n            : weekdays;\n    }\n\n    function localeWeekdaysShort(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : m\n            ? this._weekdaysShort[m.day()]\n            : this._weekdaysShort;\n    }\n\n    function localeWeekdaysMin(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : m\n            ? this._weekdaysMin[m.day()]\n            : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse(weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._shortWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._minWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n            }\n            if (!this._weekdaysParse[i]) {\n                regex =\n                    '^' +\n                    this.weekdays(mom, '') +\n                    '|^' +\n                    this.weekdaysShort(mom, '') +\n                    '|^' +\n                    this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'dddd' &&\n                this._fullWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'ddd' &&\n                this._shortWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'dd' &&\n                this._minWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    function weekdaysRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict\n                ? this._weekdaysStrictRegex\n                : this._weekdaysRegex;\n        }\n    }\n\n    function weekdaysShortRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict\n                ? this._weekdaysShortStrictRegex\n                : this._weekdaysShortRegex;\n        }\n    }\n\n    function weekdaysMinRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict\n                ? this._weekdaysMinStrictRegex\n                : this._weekdaysMinRegex;\n        }\n    }\n\n    function computeWeekdaysParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [],\n            shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom,\n            minp,\n            shortp,\n            longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = regexEscape(this.weekdaysMin(mom, ''));\n            shortp = regexEscape(this.weekdaysShort(mom, ''));\n            longp = regexEscape(this.weekdays(mom, ''));\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysMinStrictRegex = new RegExp(\n            '^(' + minPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return (\n            '' +\n            hFormat.apply(this) +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return (\n            '' +\n            this.hours() +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    function meridiem(token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(\n                this.hours(),\n                this.minutes(),\n                lowercase\n            );\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem(isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a', matchMeridiem);\n    addRegexToken('A', matchMeridiem);\n    addRegexToken('H', match1to2);\n    addRegexToken('h', match1to2);\n    addRegexToken('k', match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM(input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return (input + '').toLowerCase().charAt(0) === 'p';\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i,\n        // Setting the hour should keep the time, because the user explicitly\n        // specified which hour they want. So trying to maintain the same hour (in\n        // a new timezone) makes sense. Adding/subtracting hours does not follow\n        // this rule.\n        getSetHour = makeGetSet('Hours', true);\n\n    function localeMeridiem(hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse,\n    };\n\n    // internal storage for locale config files\n    var locales = {},\n        localeFamilies = {},\n        globalLocale;\n\n    function commonPrefix(arr1, arr2) {\n        var i,\n            minl = Math.min(arr1.length, arr2.length);\n        for (i = 0; i < minl; i += 1) {\n            if (arr1[i] !== arr2[i]) {\n                return i;\n            }\n        }\n        return minl;\n    }\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0,\n            j,\n            next,\n            locale,\n            split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (\n                    next &&\n                    next.length >= j &&\n                    commonPrefix(split, next) >= j - 1\n                ) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null,\n            aliasedRequire;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (\n            locales[name] === undefined &&\n            typeof module !== 'undefined' &&\n            module &&\n            module.exports\n        ) {\n            try {\n                oldLocale = globalLocale._abbr;\n                aliasedRequire = require;\n                aliasedRequire('./locale/' + name);\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {\n                // mark as not found to avoid repeating expensive file require call causing high CPU\n                // when trying to find en-US, en_US, en-us for every format call\n                locales[name] = null; // null means not found\n            }\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale(key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            } else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            } else {\n                if (typeof console !== 'undefined' && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn(\n                        'Locale ' + key + ' not found. Did you forget to load it?'\n                    );\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale(name, config) {\n        if (config !== null) {\n            var locale,\n                parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple(\n                    'defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'\n                );\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config,\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale,\n                tmpLocale,\n                parentConfig = baseConfig;\n\n            if (locales[name] != null && locales[name].parentLocale != null) {\n                // Update existing child locale in-place to avoid memory-leaks\n                locales[name].set(mergeConfigs(locales[name]._config, config));\n            } else {\n                // MERGE\n                tmpLocale = loadLocale(name);\n                if (tmpLocale != null) {\n                    parentConfig = tmpLocale._config;\n                }\n                config = mergeConfigs(parentConfig, config);\n                if (tmpLocale == null) {\n                    // updateLocale is called for creating a new locale\n                    // Set abbr so it will have a name (getters return\n                    // undefined otherwise).\n                    config.abbr = name;\n                }\n                locale = new Locale(config);\n                locale.parentLocale = locales[name];\n                locales[name] = locale;\n            }\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                    if (name === getSetGlobalLocale()) {\n                        getSetGlobalLocale(name);\n                    }\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale(key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow(m) {\n        var overflow,\n            a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH] < 0 || a[MONTH] > 11\n                    ? MONTH\n                    : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH])\n                    ? DATE\n                    : a[HOUR] < 0 ||\n                      a[HOUR] > 24 ||\n                      (a[HOUR] === 24 &&\n                          (a[MINUTE] !== 0 ||\n                              a[SECOND] !== 0 ||\n                              a[MILLISECOND] !== 0))\n                    ? HOUR\n                    : a[MINUTE] < 0 || a[MINUTE] > 59\n                    ? MINUTE\n                    : a[SECOND] < 0 || a[SECOND] > 59\n                    ? SECOND\n                    : a[MILLISECOND] < 0 || a[MILLISECOND] > 999\n                    ? MILLISECOND\n                    : -1;\n\n            if (\n                getParsingFlags(m)._overflowDayOfYear &&\n                (overflow < YEAR || overflow > DATE)\n            ) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/,\n        isoDates = [\n            ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n            ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n            ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n            ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n            ['YYYY-DDD', /\\d{4}-\\d{3}/],\n            ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n            ['YYYYYYMMDD', /[+-]\\d{10}/],\n            ['YYYYMMDD', /\\d{8}/],\n            ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n            ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n            ['YYYYDDD', /\\d{7}/],\n            ['YYYYMM', /\\d{6}/, false],\n            ['YYYY', /\\d{4}/, false],\n        ],\n        // iso time formats and regexes\n        isoTimes = [\n            ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n            ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n            ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n            ['HH:mm', /\\d\\d:\\d\\d/],\n            ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n            ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n            ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n            ['HHmm', /\\d\\d\\d\\d/],\n            ['HH', /\\d\\d/],\n        ],\n        aspNetJsonRegex = /^\\/?Date\\((-?\\d+)/i,\n        // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n        rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,\n        obsOffsets = {\n            UT: 0,\n            GMT: 0,\n            EDT: -4 * 60,\n            EST: -5 * 60,\n            CDT: -5 * 60,\n            CST: -6 * 60,\n            MDT: -6 * 60,\n            MST: -7 * 60,\n            PDT: -7 * 60,\n            PST: -8 * 60,\n        };\n\n    // date from iso format\n    function configFromISO(config) {\n        var i,\n            l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime,\n            dateFormat,\n            timeFormat,\n            tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    function extractFromRFC2822Strings(\n        yearStr,\n        monthStr,\n        dayStr,\n        hourStr,\n        minuteStr,\n        secondStr\n    ) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10),\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s\n            .replace(/\\([^)]*\\)|[\\n\\t]/g, ' ')\n            .replace(/(\\s\\s+)/g, ' ')\n            .replace(/^\\s\\s*/, '')\n            .replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an independent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(\n                    parsedInput[0],\n                    parsedInput[1],\n                    parsedInput[2]\n                ).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10),\n                m = hm % 100,\n                h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i)),\n            parsedArray;\n        if (match) {\n            parsedArray = extractFromRFC2822Strings(\n                match[4],\n                match[3],\n                match[2],\n                match[5],\n                match[6],\n                match[7]\n            );\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from 1) ASP.NET, 2) ISO, 3) RFC 2822 formats, or 4) optional fallback if parsing isn't strict\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        if (config._strict) {\n            config._isValid = false;\n        } else {\n            // Final attempt, use Input Fallback\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n            'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n            'discouraged and will be removed in an upcoming major release. Please refer to ' +\n            'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [\n                nowValue.getUTCFullYear(),\n                nowValue.getUTCMonth(),\n                nowValue.getUTCDate(),\n            ];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray(config) {\n        var i,\n            date,\n            input = [],\n            currentDate,\n            expectedWeekday,\n            yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (\n                config._dayOfYear > daysInYear(yearToUse) ||\n                config._dayOfYear === 0\n            ) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] =\n                config._a[i] == null ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (\n            config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0\n        ) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(\n            null,\n            input\n        );\n        expectedWeekday = config._useUTC\n            ? config._d.getUTCDay()\n            : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (\n            config._w &&\n            typeof config._w.d !== 'undefined' &&\n            config._w.d !== expectedWeekday\n        ) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(\n                w.GG,\n                config._a[YEAR],\n                weekOfYear(createLocal(), 1, 4).year\n            );\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i,\n            parsedInput,\n            tokens,\n            token,\n            skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0,\n            era;\n\n        tokens =\n            expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) ||\n                [])[0];\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(\n                    string.indexOf(parsedInput) + parsedInput.length\n                );\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                } else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            } else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver =\n            stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (\n            config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0\n        ) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(\n            config._locale,\n            config._a[HOUR],\n            config._meridiem\n        );\n\n        // handle era\n        era = getParsingFlags(config).era;\n        if (era !== null) {\n            config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);\n        }\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n    function meridiemFixWrap(locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n            scoreToBeat,\n            i,\n            currentScore,\n            validFormatFound,\n            bestFormatIsValid = false;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            validFormatFound = false;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (isValid(tempConfig)) {\n                validFormatFound = true;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (!bestFormatIsValid) {\n                if (\n                    scoreToBeat == null ||\n                    currentScore < scoreToBeat ||\n                    validFormatFound\n                ) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                    if (validFormatFound) {\n                        bestFormatIsValid = true;\n                    }\n                }\n            } else {\n                if (currentScore < scoreToBeat) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                }\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i),\n            dayOrDate = i.day === undefined ? i.date : i.day;\n        config._a = map(\n            [i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond],\n            function (obj) {\n                return obj && parseInt(obj, 10);\n            }\n        );\n\n        configFromArray(config);\n    }\n\n    function createFromConfig(config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig(config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({ nullInput: true });\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        } else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC(input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (format === true || format === false) {\n            strict = format;\n            format = undefined;\n        }\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if (\n            (isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)\n        ) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n            'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other < this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        ),\n        prototypeMax = deprecate(\n            'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other > this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +new Date();\n    };\n\n    var ordering = [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second',\n        'millisecond',\n    ];\n\n    function isDurationValid(m) {\n        var key,\n            unitHasDecimal = false,\n            i;\n        for (key in m) {\n            if (\n                hasOwnProp(m, key) &&\n                !(\n                    indexOf.call(ordering, key) !== -1 &&\n                    (m[key] == null || !isNaN(m[key]))\n                )\n            ) {\n                return false;\n            }\n        }\n\n        for (i = 0; i < ordering.length; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration(duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds =\n            +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days + weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months + quarters * 3 + years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration(obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if (\n                (dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))\n            ) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    // FORMATTING\n\n    function offset(token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset(),\n                sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return (\n                sign +\n                zeroFill(~~(offset / 60), 2) +\n                separator +\n                zeroFill(~~offset % 60, 2)\n            );\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z', matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher),\n            chunk,\n            parts,\n            minutes;\n\n        if (matches === null) {\n            return null;\n        }\n\n        chunk = matches[matches.length - 1] || [];\n        parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff =\n                (isMoment(input) || isDate(input)\n                    ? input.valueOf()\n                    : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset(m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset());\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset(input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(\n                        this,\n                        createDuration(input - offset, 'm'),\n                        1,\n                        false\n                    );\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone(input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC(keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal(keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset() {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            } else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset(input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime() {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted() {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {},\n            other;\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted =\n                this.isValid() && compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal() {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset() {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc() {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,\n        // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n        // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n        // and further modified to allow for strings containing both week and day\n        isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration(input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms: input._milliseconds,\n                d: input._days,\n                M: input._months,\n            };\n        } else if (isNumber(input) || !isNaN(+input)) {\n            duration = {};\n            if (key) {\n                duration[key] = +input;\n            } else {\n                duration.milliseconds = +input;\n            }\n        } else if ((match = aspNetRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: 0,\n                d: toInt(match[DATE]) * sign,\n                h: toInt(match[HOUR]) * sign,\n                m: toInt(match[MINUTE]) * sign,\n                s: toInt(match[SECOND]) * sign,\n                ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign, // the millisecond decimal point is included in the match\n            };\n        } else if ((match = isoRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: parseIso(match[2], sign),\n                M: parseIso(match[3], sign),\n                w: parseIso(match[4], sign),\n                d: parseIso(match[5], sign),\n                h: parseIso(match[6], sign),\n                m: parseIso(match[7], sign),\n                s: parseIso(match[8], sign),\n            };\n        } else if (duration == null) {\n            // checks for null or undefined\n            duration = {};\n        } else if (\n            typeof duration === 'object' &&\n            ('from' in duration || 'to' in duration)\n        ) {\n            diffRes = momentsDifference(\n                createLocal(duration.from),\n                createLocal(duration.to)\n            );\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        if (isDuration(input) && hasOwnProp(input, '_isValid')) {\n            ret._isValid = input._isValid;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso(inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months =\n            other.month() - base.month() + (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +base.clone().add(res.months, 'M');\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return { milliseconds: 0, months: 0 };\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(\n                    name,\n                    'moment().' +\n                        name +\n                        '(period, number) is deprecated. Please use moment().' +\n                        name +\n                        '(number, period). ' +\n                        'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'\n                );\n                tmp = val;\n                val = period;\n                period = tmp;\n            }\n\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract(mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add = createAdder(1, 'add'),\n        subtract = createAdder(-1, 'subtract');\n\n    function isString(input) {\n        return typeof input === 'string' || input instanceof String;\n    }\n\n    // type MomentInput = Moment | Date | string | number | (number | string)[] | MomentInputObject | void; // null | undefined\n    function isMomentInput(input) {\n        return (\n            isMoment(input) ||\n            isDate(input) ||\n            isString(input) ||\n            isNumber(input) ||\n            isNumberOrStringArray(input) ||\n            isMomentInputObject(input) ||\n            input === null ||\n            input === undefined\n        );\n    }\n\n    function isMomentInputObject(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'years',\n                'year',\n                'y',\n                'months',\n                'month',\n                'M',\n                'days',\n                'day',\n                'd',\n                'dates',\n                'date',\n                'D',\n                'hours',\n                'hour',\n                'h',\n                'minutes',\n                'minute',\n                'm',\n                'seconds',\n                'second',\n                's',\n                'milliseconds',\n                'millisecond',\n                'ms',\n            ],\n            i,\n            property;\n\n        for (i = 0; i < properties.length; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function isNumberOrStringArray(input) {\n        var arrayTest = isArray(input),\n            dataTypeTest = false;\n        if (arrayTest) {\n            dataTypeTest =\n                input.filter(function (item) {\n                    return !isNumber(item) && isString(input);\n                }).length === 0;\n        }\n        return arrayTest && dataTypeTest;\n    }\n\n    function isCalendarSpec(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'sameDay',\n                'nextDay',\n                'lastDay',\n                'nextWeek',\n                'lastWeek',\n                'sameElse',\n            ],\n            i,\n            property;\n\n        for (i = 0; i < properties.length; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6\n            ? 'sameElse'\n            : diff < -1\n            ? 'lastWeek'\n            : diff < 0\n            ? 'lastDay'\n            : diff < 1\n            ? 'sameDay'\n            : diff < 2\n            ? 'nextDay'\n            : diff < 7\n            ? 'nextWeek'\n            : 'sameElse';\n    }\n\n    function calendar$1(time, formats) {\n        // Support for single parameter, formats only overload to the calendar function\n        if (arguments.length === 1) {\n            if (isMomentInput(arguments[0])) {\n                time = arguments[0];\n                formats = undefined;\n            } else if (isCalendarSpec(arguments[0])) {\n                formats = arguments[0];\n                time = undefined;\n            }\n        }\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse',\n            output =\n                formats &&\n                (isFunction(formats[format])\n                    ? formats[format].call(this, now)\n                    : formats[format]);\n\n        return this.format(\n            output || this.localeData().calendar(format, this, createLocal(now))\n        );\n    }\n\n    function clone() {\n        return new Moment(this);\n    }\n\n    function isAfter(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween(from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (\n            (inclusivity[0] === '('\n                ? this.isAfter(localFrom, units)\n                : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')'\n                ? this.isBefore(localTo, units)\n                : !this.isAfter(localTo, units))\n        );\n    }\n\n    function isSame(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return (\n                this.clone().startOf(units).valueOf() <= inputMs &&\n                inputMs <= this.clone().endOf(units).valueOf()\n            );\n        }\n    }\n\n    function isSameOrAfter(input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore(input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff(input, units, asFloat) {\n        var that, zoneDelta, output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year':\n                output = monthDiff(this, that) / 12;\n                break;\n            case 'month':\n                output = monthDiff(this, that);\n                break;\n            case 'quarter':\n                output = monthDiff(this, that) / 3;\n                break;\n            case 'second':\n                output = (this - that) / 1e3;\n                break; // 1000\n            case 'minute':\n                output = (this - that) / 6e4;\n                break; // 1000 * 60\n            case 'hour':\n                output = (this - that) / 36e5;\n                break; // 1000 * 60 * 60\n            case 'day':\n                output = (this - that - zoneDelta) / 864e5;\n                break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week':\n                output = (this - that - zoneDelta) / 6048e5;\n                break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default:\n                output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff(a, b) {\n        if (a.date() < b.date()) {\n            // end-of-month calculations work correct when the start month has more\n            // days than the end month.\n            return -monthDiff(b, a);\n        }\n        // difference in months\n        var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2,\n            adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString() {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true,\n            m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(\n                m,\n                utc\n                    ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'\n                    : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'\n            );\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000)\n                    .toISOString()\n                    .replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(\n            m,\n            utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ'\n        );\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect() {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment',\n            zone = '',\n            prefix,\n            year,\n            datetime,\n            suffix;\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        prefix = '[' + func + '(\"]';\n        year = 0 <= this.year() && this.year() <= 9999 ? 'YYYY' : 'YYYYYY';\n        datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format(inputString) {\n        if (!inputString) {\n            inputString = this.isUtc()\n                ? hooks.defaultFormatUtc\n                : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ to: this, from: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow(withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ from: this, to: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow(withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale(key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData() {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000,\n        MS_PER_MINUTE = 60 * MS_PER_SECOND,\n        MS_PER_HOUR = 60 * MS_PER_MINUTE,\n        MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return ((dividend % divisor) + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(\n                    this.year(),\n                    this.month() - (this.month() % 3),\n                    1\n                );\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - this.weekday()\n                );\n                break;\n            case 'isoWeek':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - (this.isoWeekday() - 1)\n                );\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(\n                    time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                    MS_PER_HOUR\n                );\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month() - (this.month() % 3) + 3,\n                        1\n                    ) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - this.weekday() + 7\n                    ) - 1;\n                break;\n            case 'isoWeek':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - (this.isoWeekday() - 1) + 7\n                    ) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time +=\n                    MS_PER_HOUR -\n                    mod$1(\n                        time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                        MS_PER_HOUR\n                    ) -\n                    1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf() {\n        return this._d.valueOf() - (this._offset || 0) * 60000;\n    }\n\n    function unix() {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate() {\n        return new Date(this.valueOf());\n    }\n\n    function toArray() {\n        var m = this;\n        return [\n            m.year(),\n            m.month(),\n            m.date(),\n            m.hour(),\n            m.minute(),\n            m.second(),\n            m.millisecond(),\n        ];\n    }\n\n    function toObject() {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds(),\n        };\n    }\n\n    function toJSON() {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2() {\n        return isValid(this);\n    }\n\n    function parsingFlags() {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt() {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict,\n        };\n    }\n\n    addFormatToken('N', 0, 0, 'eraAbbr');\n    addFormatToken('NN', 0, 0, 'eraAbbr');\n    addFormatToken('NNN', 0, 0, 'eraAbbr');\n    addFormatToken('NNNN', 0, 0, 'eraName');\n    addFormatToken('NNNNN', 0, 0, 'eraNarrow');\n\n    addFormatToken('y', ['y', 1], 'yo', 'eraYear');\n    addFormatToken('y', ['yy', 2], 0, 'eraYear');\n    addFormatToken('y', ['yyy', 3], 0, 'eraYear');\n    addFormatToken('y', ['yyyy', 4], 0, 'eraYear');\n\n    addRegexToken('N', matchEraAbbr);\n    addRegexToken('NN', matchEraAbbr);\n    addRegexToken('NNN', matchEraAbbr);\n    addRegexToken('NNNN', matchEraName);\n    addRegexToken('NNNNN', matchEraNarrow);\n\n    addParseToken(['N', 'NN', 'NNN', 'NNNN', 'NNNNN'], function (\n        input,\n        array,\n        config,\n        token\n    ) {\n        var era = config._locale.erasParse(input, token, config._strict);\n        if (era) {\n            getParsingFlags(config).era = era;\n        } else {\n            getParsingFlags(config).invalidEra = input;\n        }\n    });\n\n    addRegexToken('y', matchUnsigned);\n    addRegexToken('yy', matchUnsigned);\n    addRegexToken('yyy', matchUnsigned);\n    addRegexToken('yyyy', matchUnsigned);\n    addRegexToken('yo', matchEraYearOrdinal);\n\n    addParseToken(['y', 'yy', 'yyy', 'yyyy'], YEAR);\n    addParseToken(['yo'], function (input, array, config, token) {\n        var match;\n        if (config._locale._eraYearOrdinalRegex) {\n            match = input.match(config._locale._eraYearOrdinalRegex);\n        }\n\n        if (config._locale.eraYearOrdinalParse) {\n            array[YEAR] = config._locale.eraYearOrdinalParse(input, match);\n        } else {\n            array[YEAR] = parseInt(input, 10);\n        }\n    });\n\n    function localeEras(m, format) {\n        var i,\n            l,\n            date,\n            eras = this._eras || getLocale('en')._eras;\n        for (i = 0, l = eras.length; i < l; ++i) {\n            switch (typeof eras[i].since) {\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].since).startOf('day');\n                    eras[i].since = date.valueOf();\n                    break;\n            }\n\n            switch (typeof eras[i].until) {\n                case 'undefined':\n                    eras[i].until = +Infinity;\n                    break;\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].until).startOf('day').valueOf();\n                    eras[i].until = date.valueOf();\n                    break;\n            }\n        }\n        return eras;\n    }\n\n    function localeErasParse(eraName, format, strict) {\n        var i,\n            l,\n            eras = this.eras(),\n            name,\n            abbr,\n            narrow;\n        eraName = eraName.toUpperCase();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            name = eras[i].name.toUpperCase();\n            abbr = eras[i].abbr.toUpperCase();\n            narrow = eras[i].narrow.toUpperCase();\n\n            if (strict) {\n                switch (format) {\n                    case 'N':\n                    case 'NN':\n                    case 'NNN':\n                        if (abbr === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNN':\n                        if (name === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNNN':\n                        if (narrow === eraName) {\n                            return eras[i];\n                        }\n                        break;\n                }\n            } else if ([name, abbr, narrow].indexOf(eraName) >= 0) {\n                return eras[i];\n            }\n        }\n    }\n\n    function localeErasConvertYear(era, year) {\n        var dir = era.since <= era.until ? +1 : -1;\n        if (year === undefined) {\n            return hooks(era.since).year();\n        } else {\n            return hooks(era.since).year() + (year - era.offset) * dir;\n        }\n    }\n\n    function getEraName() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].name;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].name;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraNarrow() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].narrow;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].narrow;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraAbbr() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].abbr;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].abbr;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraYear() {\n        var i,\n            l,\n            dir,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            dir = eras[i].since <= eras[i].until ? +1 : -1;\n\n            // truncate time\n            val = this.startOf('day').valueOf();\n\n            if (\n                (eras[i].since <= val && val <= eras[i].until) ||\n                (eras[i].until <= val && val <= eras[i].since)\n            ) {\n                return (\n                    (this.year() - hooks(eras[i].since).year()) * dir +\n                    eras[i].offset\n                );\n            }\n        }\n\n        return this.year();\n    }\n\n    function erasNameRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNameRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNameRegex : this._erasRegex;\n    }\n\n    function erasAbbrRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasAbbrRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasAbbrRegex : this._erasRegex;\n    }\n\n    function erasNarrowRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNarrowRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNarrowRegex : this._erasRegex;\n    }\n\n    function matchEraAbbr(isStrict, locale) {\n        return locale.erasAbbrRegex(isStrict);\n    }\n\n    function matchEraName(isStrict, locale) {\n        return locale.erasNameRegex(isStrict);\n    }\n\n    function matchEraNarrow(isStrict, locale) {\n        return locale.erasNarrowRegex(isStrict);\n    }\n\n    function matchEraYearOrdinal(isStrict, locale) {\n        return locale._eraYearOrdinalRegex || matchUnsigned;\n    }\n\n    function computeErasParse() {\n        var abbrPieces = [],\n            namePieces = [],\n            narrowPieces = [],\n            mixedPieces = [],\n            i,\n            l,\n            eras = this.eras();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            namePieces.push(regexEscape(eras[i].name));\n            abbrPieces.push(regexEscape(eras[i].abbr));\n            narrowPieces.push(regexEscape(eras[i].narrow));\n\n            mixedPieces.push(regexEscape(eras[i].name));\n            mixedPieces.push(regexEscape(eras[i].abbr));\n            mixedPieces.push(regexEscape(eras[i].narrow));\n        }\n\n        this._erasRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._erasNameRegex = new RegExp('^(' + namePieces.join('|') + ')', 'i');\n        this._erasAbbrRegex = new RegExp('^(' + abbrPieces.join('|') + ')', 'i');\n        this._erasNarrowRegex = new RegExp(\n            '^(' + narrowPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken(token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg', 'weekYear');\n    addWeekYearFormatToken('ggggg', 'weekYear');\n    addWeekYearFormatToken('GGGG', 'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n    // PARSING\n\n    addRegexToken('G', matchSigned);\n    addRegexToken('g', matchSigned);\n    addRegexToken('GG', match1to2, match2);\n    addRegexToken('gg', match1to2, match2);\n    addRegexToken('GGGG', match1to4, match4);\n    addRegexToken('gggg', match1to4, match4);\n    addRegexToken('GGGGG', match1to6, match6);\n    addRegexToken('ggggg', match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (\n        input,\n        week,\n        config,\n        token\n    ) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy\n        );\n    }\n\n    function getSetISOWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.isoWeek(),\n            this.isoWeekday(),\n            1,\n            4\n        );\n    }\n\n    function getISOWeeksInYear() {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getISOWeeksInISOWeekYear() {\n        return weeksInYear(this.isoWeekYear(), 1, 4);\n    }\n\n    function getWeeksInYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getWeeksInWeekYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter(input) {\n        return input == null\n            ? Math.ceil((this.month() + 1) / 3)\n            : this.month((input - 1) * 3 + (this.month() % 3));\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D', match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict\n            ? locale._dayOfMonthOrdinalParse || locale._ordinalParse\n            : locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD', match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear(input) {\n        var dayOfYear =\n            Math.round(\n                (this.clone().startOf('day') - this.clone().startOf('year')) / 864e5\n            ) + 1;\n        return input == null ? dayOfYear : this.add(input - dayOfYear, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m', match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s', match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S', match1to3, match1);\n    addRegexToken('SS', match1to3, match2);\n    addRegexToken('SSS', match1to3, match3);\n\n    var token, getSetMillisecond;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n\n    getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z', 0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr() {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName() {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add = add;\n    proto.calendar = calendar$1;\n    proto.clone = clone;\n    proto.diff = diff;\n    proto.endOf = endOf;\n    proto.format = format;\n    proto.from = from;\n    proto.fromNow = fromNow;\n    proto.to = to;\n    proto.toNow = toNow;\n    proto.get = stringGet;\n    proto.invalidAt = invalidAt;\n    proto.isAfter = isAfter;\n    proto.isBefore = isBefore;\n    proto.isBetween = isBetween;\n    proto.isSame = isSame;\n    proto.isSameOrAfter = isSameOrAfter;\n    proto.isSameOrBefore = isSameOrBefore;\n    proto.isValid = isValid$2;\n    proto.lang = lang;\n    proto.locale = locale;\n    proto.localeData = localeData;\n    proto.max = prototypeMax;\n    proto.min = prototypeMin;\n    proto.parsingFlags = parsingFlags;\n    proto.set = stringSet;\n    proto.startOf = startOf;\n    proto.subtract = subtract;\n    proto.toArray = toArray;\n    proto.toObject = toObject;\n    proto.toDate = toDate;\n    proto.toISOString = toISOString;\n    proto.inspect = inspect;\n    if (typeof Symbol !== 'undefined' && Symbol.for != null) {\n        proto[Symbol.for('nodejs.util.inspect.custom')] = function () {\n            return 'Moment<' + this.format() + '>';\n        };\n    }\n    proto.toJSON = toJSON;\n    proto.toString = toString;\n    proto.unix = unix;\n    proto.valueOf = valueOf;\n    proto.creationData = creationData;\n    proto.eraName = getEraName;\n    proto.eraNarrow = getEraNarrow;\n    proto.eraAbbr = getEraAbbr;\n    proto.eraYear = getEraYear;\n    proto.year = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week = proto.weeks = getSetWeek;\n    proto.isoWeek = proto.isoWeeks = getSetISOWeek;\n    proto.weeksInYear = getWeeksInYear;\n    proto.weeksInWeekYear = getWeeksInWeekYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;\n    proto.date = getSetDayOfMonth;\n    proto.day = proto.days = getSetDayOfWeek;\n    proto.weekday = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset = getSetOffset;\n    proto.utc = setOffsetToUTC;\n    proto.local = setOffsetToLocal;\n    proto.parseZone = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST = isDaylightSavingTime;\n    proto.isLocal = isLocal;\n    proto.isUtcOffset = isUtcOffset;\n    proto.isUtc = isUtc;\n    proto.isUTC = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates = deprecate(\n        'dates accessor is deprecated. Use date instead.',\n        getSetDayOfMonth\n    );\n    proto.months = deprecate(\n        'months accessor is deprecated. Use month instead',\n        getSetMonth\n    );\n    proto.years = deprecate(\n        'years accessor is deprecated. Use year instead',\n        getSetYear\n    );\n    proto.zone = deprecate(\n        'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',\n        getSetZone\n    );\n    proto.isDSTShifted = deprecate(\n        'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',\n        isDaylightSavingTimeShifted\n    );\n\n    function createUnix(input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone() {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat(string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar = calendar;\n    proto$1.longDateFormat = longDateFormat;\n    proto$1.invalidDate = invalidDate;\n    proto$1.ordinal = ordinal;\n    proto$1.preparse = preParsePostFormat;\n    proto$1.postformat = preParsePostFormat;\n    proto$1.relativeTime = relativeTime;\n    proto$1.pastFuture = pastFuture;\n    proto$1.set = set;\n    proto$1.eras = localeEras;\n    proto$1.erasParse = localeErasParse;\n    proto$1.erasConvertYear = localeErasConvertYear;\n    proto$1.erasAbbrRegex = erasAbbrRegex;\n    proto$1.erasNameRegex = erasNameRegex;\n    proto$1.erasNarrowRegex = erasNarrowRegex;\n\n    proto$1.months = localeMonths;\n    proto$1.monthsShort = localeMonthsShort;\n    proto$1.monthsParse = localeMonthsParse;\n    proto$1.monthsRegex = monthsRegex;\n    proto$1.monthsShortRegex = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays = localeWeekdays;\n    proto$1.weekdaysMin = localeWeekdaysMin;\n    proto$1.weekdaysShort = localeWeekdaysShort;\n    proto$1.weekdaysParse = localeWeekdaysParse;\n\n    proto$1.weekdaysRegex = weekdaysRegex;\n    proto$1.weekdaysShortRegex = weekdaysShortRegex;\n    proto$1.weekdaysMinRegex = weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1(format, index, field, setter) {\n        var locale = getLocale(),\n            utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl(format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i,\n            out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl(localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0,\n            i,\n            out = [];\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths(format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort(format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        eras: [\n            {\n                since: '0001-01-01',\n                until: +Infinity,\n                offset: 1,\n                name: 'Anno Domini',\n                narrow: 'AD',\n                abbr: 'AD',\n            },\n            {\n                since: '0000-12-31',\n                until: -Infinity,\n                offset: 1,\n                name: 'Before Christ',\n                narrow: 'BC',\n                abbr: 'BC',\n            },\n        ],\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal: function (number) {\n            var b = number % 10,\n                output =\n                    toInt((number % 100) / 10) === 1\n                        ? 'th'\n                        : b === 1\n                        ? 'st'\n                        : b === 2\n                        ? 'nd'\n                        : b === 3\n                        ? 'rd'\n                        : 'th';\n            return number + output;\n        },\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate(\n        'moment.lang is deprecated. Use moment.locale instead.',\n        getSetGlobalLocale\n    );\n    hooks.langData = deprecate(\n        'moment.langData is deprecated. Use moment.localeData instead.',\n        getLocale\n    );\n\n    var mathAbs = Math.abs;\n\n    function abs() {\n        var data = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days = mathAbs(this._days);\n        this._months = mathAbs(this._months);\n\n        data.milliseconds = mathAbs(data.milliseconds);\n        data.seconds = mathAbs(data.seconds);\n        data.minutes = mathAbs(data.minutes);\n        data.hours = mathAbs(data.hours);\n        data.months = mathAbs(data.months);\n        data.years = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1(duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days += direction * other._days;\n        duration._months += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1(input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1(input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil(number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble() {\n        var milliseconds = this._milliseconds,\n            days = this._days,\n            months = this._months,\n            data = this._data,\n            seconds,\n            minutes,\n            hours,\n            years,\n            monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (\n            !(\n                (milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0)\n            )\n        ) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds = absFloor(milliseconds / 1000);\n        data.seconds = seconds % 60;\n\n        minutes = absFloor(seconds / 60);\n        data.minutes = minutes % 60;\n\n        hours = absFloor(minutes / 60);\n        data.hours = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days = days;\n        data.months = months;\n        data.years = years;\n\n        return this;\n    }\n\n    function daysToMonths(days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return (days * 4800) / 146097;\n    }\n\n    function monthsToDays(months) {\n        // the reverse of daysToMonths\n        return (months * 146097) / 4800;\n    }\n\n    function as(units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days,\n            months,\n            milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':\n                    return months;\n                case 'quarter':\n                    return months / 3;\n                case 'year':\n                    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week':\n                    return days / 7 + milliseconds / 6048e5;\n                case 'day':\n                    return days + milliseconds / 864e5;\n                case 'hour':\n                    return days * 24 + milliseconds / 36e5;\n                case 'minute':\n                    return days * 1440 + milliseconds / 6e4;\n                case 'second':\n                    return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond':\n                    return Math.floor(days * 864e5) + milliseconds;\n                default:\n                    throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1() {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs(alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms'),\n        asSeconds = makeAs('s'),\n        asMinutes = makeAs('m'),\n        asHours = makeAs('h'),\n        asDays = makeAs('d'),\n        asWeeks = makeAs('w'),\n        asMonths = makeAs('M'),\n        asQuarters = makeAs('Q'),\n        asYears = makeAs('y');\n\n    function clone$1() {\n        return createDuration(this);\n    }\n\n    function get$2(units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds'),\n        seconds = makeGetter('seconds'),\n        minutes = makeGetter('minutes'),\n        hours = makeGetter('hours'),\n        days = makeGetter('days'),\n        months = makeGetter('months'),\n        years = makeGetter('years');\n\n    function weeks() {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round,\n        thresholds = {\n            ss: 44, // a few seconds to seconds\n            s: 45, // seconds to minute\n            m: 45, // minutes to hour\n            h: 22, // hours to day\n            d: 26, // days to month/week\n            w: null, // weeks to month\n            M: 11, // months to year\n        };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1(posNegDuration, withoutSuffix, thresholds, locale) {\n        var duration = createDuration(posNegDuration).abs(),\n            seconds = round(duration.as('s')),\n            minutes = round(duration.as('m')),\n            hours = round(duration.as('h')),\n            days = round(duration.as('d')),\n            months = round(duration.as('M')),\n            weeks = round(duration.as('w')),\n            years = round(duration.as('y')),\n            a =\n                (seconds <= thresholds.ss && ['s', seconds]) ||\n                (seconds < thresholds.s && ['ss', seconds]) ||\n                (minutes <= 1 && ['m']) ||\n                (minutes < thresholds.m && ['mm', minutes]) ||\n                (hours <= 1 && ['h']) ||\n                (hours < thresholds.h && ['hh', hours]) ||\n                (days <= 1 && ['d']) ||\n                (days < thresholds.d && ['dd', days]);\n\n        if (thresholds.w != null) {\n            a =\n                a ||\n                (weeks <= 1 && ['w']) ||\n                (weeks < thresholds.w && ['ww', weeks]);\n        }\n        a = a ||\n            (months <= 1 && ['M']) ||\n            (months < thresholds.M && ['MM', months]) ||\n            (years <= 1 && ['y']) || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding(roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof roundingFunction === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold(threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize(argWithSuffix, argThresholds) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var withSuffix = false,\n            th = thresholds,\n            locale,\n            output;\n\n        if (typeof argWithSuffix === 'object') {\n            argThresholds = argWithSuffix;\n            argWithSuffix = false;\n        }\n        if (typeof argWithSuffix === 'boolean') {\n            withSuffix = argWithSuffix;\n        }\n        if (typeof argThresholds === 'object') {\n            th = Object.assign({}, thresholds, argThresholds);\n            if (argThresholds.s != null && argThresholds.ss == null) {\n                th.ss = argThresholds.s - 1;\n            }\n        }\n\n        locale = this.localeData();\n        output = relativeTime$1(this, !withSuffix, th, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return (x > 0) - (x < 0) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000,\n            days = abs$1(this._days),\n            months = abs$1(this._months),\n            minutes,\n            hours,\n            years,\n            s,\n            total = this.asSeconds(),\n            totalSign,\n            ymSign,\n            daysSign,\n            hmsSign;\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes = absFloor(seconds / 60);\n        hours = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n\n        totalSign = total < 0 ? '-' : '';\n        ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return (\n            totalSign +\n            'P' +\n            (years ? ymSign + years + 'Y' : '') +\n            (months ? ymSign + months + 'M' : '') +\n            (days ? daysSign + days + 'D' : '') +\n            (hours || minutes || seconds ? 'T' : '') +\n            (hours ? hmsSign + hours + 'H' : '') +\n            (minutes ? hmsSign + minutes + 'M' : '') +\n            (seconds ? hmsSign + s + 'S' : '')\n        );\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid = isValid$1;\n    proto$2.abs = abs;\n    proto$2.add = add$1;\n    proto$2.subtract = subtract$1;\n    proto$2.as = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds = asSeconds;\n    proto$2.asMinutes = asMinutes;\n    proto$2.asHours = asHours;\n    proto$2.asDays = asDays;\n    proto$2.asWeeks = asWeeks;\n    proto$2.asMonths = asMonths;\n    proto$2.asQuarters = asQuarters;\n    proto$2.asYears = asYears;\n    proto$2.valueOf = valueOf$1;\n    proto$2._bubble = bubble;\n    proto$2.clone = clone$1;\n    proto$2.get = get$2;\n    proto$2.milliseconds = milliseconds;\n    proto$2.seconds = seconds;\n    proto$2.minutes = minutes;\n    proto$2.hours = hours;\n    proto$2.days = days;\n    proto$2.weeks = weeks;\n    proto$2.months = months;\n    proto$2.years = years;\n    proto$2.humanize = humanize;\n    proto$2.toISOString = toISOString$1;\n    proto$2.toString = toISOString$1;\n    proto$2.toJSON = toISOString$1;\n    proto$2.locale = locale;\n    proto$2.localeData = localeData;\n\n    proto$2.toIsoString = deprecate(\n        'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',\n        toISOString$1\n    );\n    proto$2.lang = lang;\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    //! moment.js\n\n    hooks.version = '2.26.0';\n\n    setHookCallback(createLocal);\n\n    hooks.fn = proto;\n    hooks.min = min;\n    hooks.max = max;\n    hooks.now = now;\n    hooks.utc = createUTC;\n    hooks.unix = createUnix;\n    hooks.months = listMonths;\n    hooks.isDate = isDate;\n    hooks.locale = getSetGlobalLocale;\n    hooks.invalid = createInvalid;\n    hooks.duration = createDuration;\n    hooks.isMoment = isMoment;\n    hooks.weekdays = listWeekdays;\n    hooks.parseZone = createInZone;\n    hooks.localeData = getLocale;\n    hooks.isDuration = isDuration;\n    hooks.monthsShort = listMonthsShort;\n    hooks.weekdaysMin = listWeekdaysMin;\n    hooks.defineLocale = defineLocale;\n    hooks.updateLocale = updateLocale;\n    hooks.locales = listLocales;\n    hooks.weekdaysShort = listWeekdaysShort;\n    hooks.normalizeUnits = normalizeUnits;\n    hooks.relativeTimeRounding = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat = getCalendarFormat;\n    hooks.prototype = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm', // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss', // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS', // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD', // <input type=\"date\" />\n        TIME: 'HH:mm', // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss', // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS', // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW', // <input type=\"week\" />\n        MONTH: 'YYYY-MM', // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n\n},{}],2:[function(require,module,exports){\n(function (global){\n/*******************************************************************************\n * Copyright (c) 2013 IBM Corp.\n *\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * and Eclipse Distribution License v1.0 which accompany this distribution.\n *\n * The Eclipse Public License is available at\n *    http://www.eclipse.org/legal/epl-v10.html\n * and the Eclipse Distribution License is available at\n *   http://www.eclipse.org/org/documents/edl-v10.php.\n *\n * Contributors:\n *    Andrew Banks - initial API and implementation and initial documentation\n *******************************************************************************/\n\n\n// Only expose a single object name in the global namespace.\n// Everything must go through this module. Global Paho module\n// only has a single public function, client, which returns\n// a Paho client object given connection details.\n\n/**\n * Send and receive messages using web browsers.\n * <p>\n * This programming interface lets a JavaScript client application use the MQTT V3.1 or\n * V3.1.1 protocol to connect to an MQTT-supporting messaging server.\n *\n * The function supported includes:\n * <ol>\n * <li>Connecting to and disconnecting from a server. The server is identified by its host name and port number.\n * <li>Specifying options that relate to the communications link with the server,\n * for example the frequency of keep-alive heartbeats, and whether SSL/TLS is required.\n * <li>Subscribing to and receiving messages from MQTT Topics.\n * <li>Publishing messages to MQTT Topics.\n * </ol>\n * <p>\n * The API consists of two main objects:\n * <dl>\n * <dt><b>{@link Paho.Client}</b></dt>\n * <dd>This contains methods that provide the functionality of the API,\n * including provision of callbacks that notify the application when a message\n * arrives from or is delivered to the messaging server,\n * or when the status of its connection to the messaging server changes.</dd>\n * <dt><b>{@link Paho.Message}</b></dt>\n * <dd>This encapsulates the payload of the message along with various attributes\n * associated with its delivery, in particular the destination to which it has\n * been (or is about to be) sent.</dd>\n * </dl>\n * <p>\n * The programming interface validates parameters passed to it, and will throw\n * an Error containing an error message intended for developer use, if it detects\n * an error with any parameter.\n * <p>\n * Example:\n *\n * <code><pre>\nvar client = new Paho.MQTT.Client(location.hostname, Number(location.port), \"clientId\");\nclient.onConnectionLost = onConnectionLost;\nclient.onMessageArrived = onMessageArrived;\nclient.connect({onSuccess:onConnect});\n\nfunction onConnect() {\n  // Once a connection has been made, make a subscription and send a message.\n  console.log(\"onConnect\");\n  client.subscribe(\"/World\");\n  var message = new Paho.MQTT.Message(\"Hello\");\n  message.destinationName = \"/World\";\n  client.send(message);\n};\nfunction onConnectionLost(responseObject) {\n  if (responseObject.errorCode !== 0)\n\tconsole.log(\"onConnectionLost:\"+responseObject.errorMessage);\n};\nfunction onMessageArrived(message) {\n  console.log(\"onMessageArrived:\"+message.payloadString);\n  client.disconnect();\n};\n * </pre></code>\n * @namespace Paho\n */\n\n/* jshint shadow:true */\n(function ExportLibrary(root, factory) {\n\tif(typeof exports === \"object\" && typeof module === \"object\"){\n\t\tmodule.exports = factory();\n\t} else if (typeof define === \"function\" && define.amd){\n\t\tdefine(factory);\n\t} else if (typeof exports === \"object\"){\n\t\texports = factory();\n\t} else {\n\t\t//if (typeof root.Paho === \"undefined\"){\n\t\t//\troot.Paho = {};\n\t\t//}\n\t\troot.Paho = factory();\n\t}\n})(this, function LibraryFactory(){\n\n\n\tvar PahoMQTT = (function (global) {\n\n\t// Private variables below, these are only visible inside the function closure\n\t// which is used to define the module.\n\tvar version = \"@VERSION@-@BUILDLEVEL@\";\n\n\t/**\n\t * @private\n\t */\n\tvar localStorage = global.localStorage || (function () {\n\t\tvar data = {};\n\n\t\treturn {\n\t\t\tsetItem: function (key, item) { data[key] = item; },\n\t\t\tgetItem: function (key) { return data[key]; },\n\t\t\tremoveItem: function (key) { delete data[key]; },\n\t\t};\n\t})();\n\n\t\t/**\n\t * Unique message type identifiers, with associated\n\t * associated integer values.\n\t * @private\n\t */\n\t\tvar MESSAGE_TYPE = {\n\t\t\tCONNECT: 1,\n\t\t\tCONNACK: 2,\n\t\t\tPUBLISH: 3,\n\t\t\tPUBACK: 4,\n\t\t\tPUBREC: 5,\n\t\t\tPUBREL: 6,\n\t\t\tPUBCOMP: 7,\n\t\t\tSUBSCRIBE: 8,\n\t\t\tSUBACK: 9,\n\t\t\tUNSUBSCRIBE: 10,\n\t\t\tUNSUBACK: 11,\n\t\t\tPINGREQ: 12,\n\t\t\tPINGRESP: 13,\n\t\t\tDISCONNECT: 14\n\t\t};\n\n\t\t// Collection of utility methods used to simplify module code\n\t\t// and promote the DRY pattern.\n\n\t\t/**\n\t * Validate an object's parameter names to ensure they\n\t * match a list of expected variables name for this option\n\t * type. Used to ensure option object passed into the API don't\n\t * contain erroneous parameters.\n\t * @param {Object} obj - User options object\n\t * @param {Object} keys - valid keys and types that may exist in obj.\n\t * @throws {Error} Invalid option parameter found.\n\t * @private\n\t */\n\t\tvar validate = function(obj, keys) {\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\tif (keys.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (typeof obj[key] !== keys[key])\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof obj[key], key]));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar errorStr = \"Unknown property, \" + key + \". Valid properties are:\";\n\t\t\t\t\t\tfor (var validKey in keys)\n\t\t\t\t\t\t\tif (keys.hasOwnProperty(validKey))\n\t\t\t\t\t\t\t\terrorStr = errorStr+\" \"+validKey;\n\t\t\t\t\t\tthrow new Error(errorStr);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Return a new function which runs the user function bound\n\t * to a fixed scope.\n\t * @param {function} User function\n\t * @param {object} Function scope\n\t * @return {function} User function bound to another scope\n\t * @private\n\t */\n\t\tvar scope = function (f, scope) {\n\t\t\treturn function () {\n\t\t\t\treturn f.apply(scope, arguments);\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * Unique message type identifiers, with associated\n\t * associated integer values.\n\t * @private\n\t */\n\t\tvar ERROR = {\n\t\t\tOK: {code:0, text:\"AMQJSC0000I OK.\"},\n\t\t\tCONNECT_TIMEOUT: {code:1, text:\"AMQJSC0001E Connect timed out.\"},\n\t\t\tSUBSCRIBE_TIMEOUT: {code:2, text:\"AMQJS0002E Subscribe timed out.\"},\n\t\t\tUNSUBSCRIBE_TIMEOUT: {code:3, text:\"AMQJS0003E Unsubscribe timed out.\"},\n\t\t\tPING_TIMEOUT: {code:4, text:\"AMQJS0004E Ping timed out.\"},\n\t\t\tINTERNAL_ERROR: {code:5, text:\"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}\"},\n\t\t\tCONNACK_RETURNCODE: {code:6, text:\"AMQJS0006E Bad Connack return code:{0} {1}.\"},\n\t\t\tSOCKET_ERROR: {code:7, text:\"AMQJS0007E Socket error:{0}.\"},\n\t\t\tSOCKET_CLOSE: {code:8, text:\"AMQJS0008I Socket closed.\"},\n\t\t\tMALFORMED_UTF: {code:9, text:\"AMQJS0009E Malformed UTF data:{0} {1} {2}.\"},\n\t\t\tUNSUPPORTED: {code:10, text:\"AMQJS0010E {0} is not supported by this browser.\"},\n\t\t\tINVALID_STATE: {code:11, text:\"AMQJS0011E Invalid state {0}.\"},\n\t\t\tINVALID_TYPE: {code:12, text:\"AMQJS0012E Invalid type {0} for {1}.\"},\n\t\t\tINVALID_ARGUMENT: {code:13, text:\"AMQJS0013E Invalid argument {0} for {1}.\"},\n\t\t\tUNSUPPORTED_OPERATION: {code:14, text:\"AMQJS0014E Unsupported operation.\"},\n\t\t\tINVALID_STORED_DATA: {code:15, text:\"AMQJS0015E Invalid data in local storage key={0} value={1}.\"},\n\t\t\tINVALID_MQTT_MESSAGE_TYPE: {code:16, text:\"AMQJS0016E Invalid MQTT message type {0}.\"},\n\t\t\tMALFORMED_UNICODE: {code:17, text:\"AMQJS0017E Malformed Unicode string:{0} {1}.\"},\n\t\t\tBUFFER_FULL: {code:18, text:\"AMQJS0018E Message buffer is full, maximum buffer size: {0}.\"},\n\t\t};\n\n\t\t/** CONNACK RC Meaning. */\n\t\tvar CONNACK_RC = {\n\t\t\t0:\"Connection Accepted\",\n\t\t\t1:\"Connection Refused: unacceptable protocol version\",\n\t\t\t2:\"Connection Refused: identifier rejected\",\n\t\t\t3:\"Connection Refused: server unavailable\",\n\t\t\t4:\"Connection Refused: bad user name or password\",\n\t\t\t5:\"Connection Refused: not authorized\"\n\t\t};\n\n\t/**\n\t * Format an error message text.\n\t * @private\n\t * @param {error} ERROR value above.\n\t * @param {substitutions} [array] substituted into the text.\n\t * @return the text with the substitutions made.\n\t */\n\t\tvar format = function(error, substitutions) {\n\t\t\tvar text = error.text;\n\t\t\tif (substitutions) {\n\t\t\t\tvar field,start;\n\t\t\t\tfor (var i=0; i<substitutions.length; i++) {\n\t\t\t\t\tfield = \"{\"+i+\"}\";\n\t\t\t\t\tstart = text.indexOf(field);\n\t\t\t\t\tif(start > 0) {\n\t\t\t\t\t\tvar part1 = text.substring(0,start);\n\t\t\t\t\t\tvar part2 = text.substring(start+field.length);\n\t\t\t\t\t\ttext = part1+substitutions[i]+part2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn text;\n\t\t};\n\n\t\t//MQTT protocol and version          6    M    Q    I    s    d    p    3\n\t\tvar MqttProtoIdentifierv3 = [0x00,0x06,0x4d,0x51,0x49,0x73,0x64,0x70,0x03];\n\t\t//MQTT proto/version for 311         4    M    Q    T    T    4\n\t\tvar MqttProtoIdentifierv4 = [0x00,0x04,0x4d,0x51,0x54,0x54,0x04];\n\n\t\t/**\n\t * Construct an MQTT wire protocol message.\n\t * @param type MQTT packet type.\n\t * @param options optional wire message attributes.\n\t *\n\t * Optional properties\n\t *\n\t * messageIdentifier: message ID in the range [0..65535]\n\t * payloadMessage:\tApplication Message - PUBLISH only\n\t * connectStrings:\tarray of 0 or more Strings to be put into the CONNECT payload\n\t * topics:\t\t\tarray of strings (SUBSCRIBE, UNSUBSCRIBE)\n\t * requestQoS:\t\tarray of QoS values [0..2]\n\t *\n\t * \"Flag\" properties\n\t * cleanSession:\ttrue if present / false if absent (CONNECT)\n\t * willMessage:  \ttrue if present / false if absent (CONNECT)\n\t * isRetained:\t\ttrue if present / false if absent (CONNECT)\n\t * userName:\t\ttrue if present / false if absent (CONNECT)\n\t * password:\t\ttrue if present / false if absent (CONNECT)\n\t * keepAliveInterval:\tinteger [0..65535]  (CONNECT)\n\t *\n\t * @private\n\t * @ignore\n\t */\n\t\tvar WireMessage = function (type, options) {\n\t\t\tthis.type = type;\n\t\t\tfor (var name in options) {\n\t\t\t\tif (options.hasOwnProperty(name)) {\n\t\t\t\t\tthis[name] = options[name];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tWireMessage.prototype.encode = function() {\n\t\t// Compute the first byte of the fixed header\n\t\t\tvar first = ((this.type & 0x0f) << 4);\n\n\t\t\t/*\n\t\t * Now calculate the length of the variable header + payload by adding up the lengths\n\t\t * of all the component parts\n\t\t */\n\n\t\t\tvar remLength = 0;\n\t\t\tvar topicStrLength = [];\n\t\t\tvar destinationNameLength = 0;\n\t\t\tvar willMessagePayloadBytes;\n\n\t\t\t// if the message contains a messageIdentifier then we need two bytes for that\n\t\t\tif (this.messageIdentifier !== undefined)\n\t\t\t\tremLength += 2;\n\n\t\t\tswitch(this.type) {\n\t\t\t// If this a Connect then we need to include 12 bytes for its header\n\t\t\tcase MESSAGE_TYPE.CONNECT:\n\t\t\t\tswitch(this.mqttVersion) {\n\t\t\t\tcase 3:\n\t\t\t\t\tremLength += MqttProtoIdentifierv3.length + 3;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tremLength += MqttProtoIdentifierv4.length + 3;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tremLength += UTF8Length(this.clientId) + 2;\n\t\t\t\tif (this.willMessage !== undefined) {\n\t\t\t\t\tremLength += UTF8Length(this.willMessage.destinationName) + 2;\n\t\t\t\t\t// Will message is always a string, sent as UTF-8 characters with a preceding length.\n\t\t\t\t\twillMessagePayloadBytes = this.willMessage.payloadBytes;\n\t\t\t\t\tif (!(willMessagePayloadBytes instanceof Uint8Array))\n\t\t\t\t\t\twillMessagePayloadBytes = new Uint8Array(payloadBytes);\n\t\t\t\t\tremLength += willMessagePayloadBytes.byteLength +2;\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tremLength += UTF8Length(this.userName) + 2;\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tremLength += UTF8Length(this.password) + 2;\n\t\t\t\tbreak;\n\n\t\t\t// Subscribe, Unsubscribe can both contain topic strings\n\t\t\tcase MESSAGE_TYPE.SUBSCRIBE:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tfor ( var i = 0; i < this.topics.length; i++) {\n\t\t\t\t\ttopicStrLength[i] = UTF8Length(this.topics[i]);\n\t\t\t\t\tremLength += topicStrLength[i] + 2;\n\t\t\t\t}\n\t\t\t\tremLength += this.requestedQos.length; // 1 byte for each topic's Qos\n\t\t\t\t// QoS on Subscribe only\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.UNSUBSCRIBE:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tfor ( var i = 0; i < this.topics.length; i++) {\n\t\t\t\t\ttopicStrLength[i] = UTF8Length(this.topics[i]);\n\t\t\t\t\tremLength += topicStrLength[i] + 2;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBREL:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tif (this.payloadMessage.duplicate) first |= 0x08;\n\t\t\t\tfirst  = first |= (this.payloadMessage.qos << 1);\n\t\t\t\tif (this.payloadMessage.retained) first |= 0x01;\n\t\t\t\tdestinationNameLength = UTF8Length(this.payloadMessage.destinationName);\n\t\t\t\tremLength += destinationNameLength + 2;\n\t\t\t\tvar payloadBytes = this.payloadMessage.payloadBytes;\n\t\t\t\tremLength += payloadBytes.byteLength;\n\t\t\t\tif (payloadBytes instanceof ArrayBuffer)\n\t\t\t\t\tpayloadBytes = new Uint8Array(payloadBytes);\n\t\t\t\telse if (!(payloadBytes instanceof Uint8Array))\n\t\t\t\t\tpayloadBytes = new Uint8Array(payloadBytes.buffer);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.DISCONNECT:\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Now we can allocate a buffer for the message\n\n\t\t\tvar mbi = encodeMBI(remLength);  // Convert the length to MQTT MBI format\n\t\t\tvar pos = mbi.length + 1;        // Offset of start of variable header\n\t\t\tvar buffer = new ArrayBuffer(remLength + pos);\n\t\t\tvar byteStream = new Uint8Array(buffer);    // view it as a sequence of bytes\n\n\t\t\t//Write the fixed header into the buffer\n\t\t\tbyteStream[0] = first;\n\t\t\tbyteStream.set(mbi,1);\n\n\t\t\t// If this is a PUBLISH then the variable header starts with a topic\n\t\t\tif (this.type == MESSAGE_TYPE.PUBLISH)\n\t\t\t\tpos = writeString(this.payloadMessage.destinationName, destinationNameLength, byteStream, pos);\n\t\t\t// If this is a CONNECT then the variable header contains the protocol name/version, flags and keepalive time\n\n\t\t\telse if (this.type == MESSAGE_TYPE.CONNECT) {\n\t\t\t\tswitch (this.mqttVersion) {\n\t\t\t\tcase 3:\n\t\t\t\t\tbyteStream.set(MqttProtoIdentifierv3, pos);\n\t\t\t\t\tpos += MqttProtoIdentifierv3.length;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tbyteStream.set(MqttProtoIdentifierv4, pos);\n\t\t\t\t\tpos += MqttProtoIdentifierv4.length;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar connectFlags = 0;\n\t\t\t\tif (this.cleanSession)\n\t\t\t\t\tconnectFlags = 0x02;\n\t\t\t\tif (this.willMessage !== undefined ) {\n\t\t\t\t\tconnectFlags |= 0x04;\n\t\t\t\t\tconnectFlags |= (this.willMessage.qos<<3);\n\t\t\t\t\tif (this.willMessage.retained) {\n\t\t\t\t\t\tconnectFlags |= 0x20;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tconnectFlags |= 0x80;\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tconnectFlags |= 0x40;\n\t\t\t\tbyteStream[pos++] = connectFlags;\n\t\t\t\tpos = writeUint16 (this.keepAliveInterval, byteStream, pos);\n\t\t\t}\n\n\t\t\t// Output the messageIdentifier - if there is one\n\t\t\tif (this.messageIdentifier !== undefined)\n\t\t\t\tpos = writeUint16 (this.messageIdentifier, byteStream, pos);\n\n\t\t\tswitch(this.type) {\n\t\t\tcase MESSAGE_TYPE.CONNECT:\n\t\t\t\tpos = writeString(this.clientId, UTF8Length(this.clientId), byteStream, pos);\n\t\t\t\tif (this.willMessage !== undefined) {\n\t\t\t\t\tpos = writeString(this.willMessage.destinationName, UTF8Length(this.willMessage.destinationName), byteStream, pos);\n\t\t\t\t\tpos = writeUint16(willMessagePayloadBytes.byteLength, byteStream, pos);\n\t\t\t\t\tbyteStream.set(willMessagePayloadBytes, pos);\n\t\t\t\t\tpos += willMessagePayloadBytes.byteLength;\n\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tpos = writeString(this.userName, UTF8Length(this.userName), byteStream, pos);\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tpos = writeString(this.password, UTF8Length(this.password), byteStream, pos);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t// PUBLISH has a text or binary payload, if text do not add a 2 byte length field, just the UTF characters.\n\t\t\t\tbyteStream.set(payloadBytes, pos);\n\n\t\t\t\tbreak;\n\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBREC:\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBREL:\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBCOMP:\n\t\t\t\t//    \t    \tbreak;\n\n\t\t\tcase MESSAGE_TYPE.SUBSCRIBE:\n\t\t\t\t// SUBSCRIBE has a list of topic strings and request QoS\n\t\t\t\tfor (var i=0; i<this.topics.length; i++) {\n\t\t\t\t\tpos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n\t\t\t\t\tbyteStream[pos++] = this.requestedQos[i];\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.UNSUBSCRIBE:\n\t\t\t\t// UNSUBSCRIBE has a list of topic strings\n\t\t\t\tfor (var i=0; i<this.topics.length; i++)\n\t\t\t\t\tpos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t// Do nothing.\n\t\t\t}\n\n\t\t\treturn buffer;\n\t\t};\n\n\t\tfunction decodeMessage(input,pos) {\n\t\t\tvar startingPos = pos;\n\t\t\tvar first = input[pos];\n\t\t\tvar type = first >> 4;\n\t\t\tvar messageInfo = first &= 0x0f;\n\t\t\tpos += 1;\n\n\n\t\t\t// Decode the remaining length (MBI format)\n\n\t\t\tvar digit;\n\t\t\tvar remLength = 0;\n\t\t\tvar multiplier = 1;\n\t\t\tdo {\n\t\t\t\tif (pos == input.length) {\n\t\t\t\t\treturn [null,startingPos];\n\t\t\t\t}\n\t\t\t\tdigit = input[pos++];\n\t\t\t\tremLength += ((digit & 0x7F) * multiplier);\n\t\t\t\tmultiplier *= 128;\n\t\t\t} while ((digit & 0x80) !== 0);\n\n\t\t\tvar endPos = pos+remLength;\n\t\t\tif (endPos > input.length) {\n\t\t\t\treturn [null,startingPos];\n\t\t\t}\n\n\t\t\tvar wireMessage = new WireMessage(type);\n\t\t\tswitch(type) {\n\t\t\tcase MESSAGE_TYPE.CONNACK:\n\t\t\t\tvar connectAcknowledgeFlags = input[pos++];\n\t\t\t\tif (connectAcknowledgeFlags & 0x01)\n\t\t\t\t\twireMessage.sessionPresent = true;\n\t\t\t\twireMessage.returnCode = input[pos++];\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tvar qos = (messageInfo >> 1) & 0x03;\n\n\t\t\t\tvar len = readUint16(input, pos);\n\t\t\t\tpos += 2;\n\t\t\t\tvar topicName = parseUTF8(input, pos, len);\n\t\t\t\tpos += len;\n\t\t\t\t// If QoS 1 or 2 there will be a messageIdentifier\n\t\t\t\tif (qos > 0) {\n\t\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\t\tpos += 2;\n\t\t\t\t}\n\n\t\t\t\tvar message = new Message(input.subarray(pos, endPos));\n\t\t\t\tif ((messageInfo & 0x01) == 0x01)\n\t\t\t\t\tmessage.retained = true;\n\t\t\t\tif ((messageInfo & 0x08) == 0x08)\n\t\t\t\t\tmessage.duplicate =  true;\n\t\t\t\tmessage.qos = qos;\n\t\t\t\tmessage.destinationName = topicName;\n\t\t\t\twireMessage.payloadMessage = message;\n\t\t\t\tbreak;\n\n\t\t\tcase  MESSAGE_TYPE.PUBACK:\n\t\t\tcase  MESSAGE_TYPE.PUBREC:\n\t\t\tcase  MESSAGE_TYPE.PUBREL:\n\t\t\tcase  MESSAGE_TYPE.PUBCOMP:\n\t\t\tcase  MESSAGE_TYPE.UNSUBACK:\n\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\tbreak;\n\n\t\t\tcase  MESSAGE_TYPE.SUBACK:\n\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\tpos += 2;\n\t\t\t\twireMessage.returnCode = input.subarray(pos, endPos);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn [wireMessage,endPos];\n\t\t}\n\n\t\tfunction writeUint16(input, buffer, offset) {\n\t\t\tbuffer[offset++] = input >> 8;      //MSB\n\t\t\tbuffer[offset++] = input % 256;     //LSB\n\t\t\treturn offset;\n\t\t}\n\n\t\tfunction writeString(input, utf8Length, buffer, offset) {\n\t\t\toffset = writeUint16(utf8Length, buffer, offset);\n\t\t\tstringToUTF8(input, buffer, offset);\n\t\t\treturn offset + utf8Length;\n\t\t}\n\n\t\tfunction readUint16(buffer, offset) {\n\t\t\treturn 256*buffer[offset] + buffer[offset+1];\n\t\t}\n\n\t\t/**\n\t * Encodes an MQTT Multi-Byte Integer\n\t * @private\n\t */\n\t\tfunction encodeMBI(number) {\n\t\t\tvar output = new Array(1);\n\t\t\tvar numBytes = 0;\n\n\t\t\tdo {\n\t\t\t\tvar digit = number % 128;\n\t\t\t\tnumber = number >> 7;\n\t\t\t\tif (number > 0) {\n\t\t\t\t\tdigit |= 0x80;\n\t\t\t\t}\n\t\t\t\toutput[numBytes++] = digit;\n\t\t\t} while ( (number > 0) && (numBytes<4) );\n\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Takes a String and calculates its length in bytes when encoded in UTF8.\n\t * @private\n\t */\n\t\tfunction UTF8Length(input) {\n\t\t\tvar output = 0;\n\t\t\tfor (var i = 0; i<input.length; i++)\n\t\t\t{\n\t\t\t\tvar charCode = input.charCodeAt(i);\n\t\t\t\tif (charCode > 0x7FF)\n\t\t\t\t{\n\t\t\t\t\t// Surrogate pair means its a 4 byte character\n\t\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF)\n\t\t\t\t\t{\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\toutput++;\n\t\t\t\t\t}\n\t\t\t\t\toutput +=3;\n\t\t\t\t}\n\t\t\t\telse if (charCode > 0x7F)\n\t\t\t\t\toutput +=2;\n\t\t\t\telse\n\t\t\t\t\toutput++;\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Takes a String and writes it into an array as UTF8 encoded bytes.\n\t * @private\n\t */\n\t\tfunction stringToUTF8(input, output, start) {\n\t\t\tvar pos = start;\n\t\t\tfor (var i = 0; i<input.length; i++) {\n\t\t\t\tvar charCode = input.charCodeAt(i);\n\n\t\t\t\t// Check for a surrogate pair.\n\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF) {\n\t\t\t\t\tvar lowCharCode = input.charCodeAt(++i);\n\t\t\t\t\tif (isNaN(lowCharCode)) {\n\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UNICODE, [charCode, lowCharCode]));\n\t\t\t\t\t}\n\t\t\t\t\tcharCode = ((charCode - 0xD800)<<10) + (lowCharCode - 0xDC00) + 0x10000;\n\n\t\t\t\t}\n\n\t\t\t\tif (charCode <= 0x7F) {\n\t\t\t\t\toutput[pos++] = charCode;\n\t\t\t\t} else if (charCode <= 0x7FF) {\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x1F | 0xC0;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t} else if (charCode <= 0xFFFF) {\n\t\t\t\t\toutput[pos++] = charCode>>12 & 0x0F | 0xE0;\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t} else {\n\t\t\t\t\toutput[pos++] = charCode>>18 & 0x07 | 0xF0;\n\t\t\t\t\toutput[pos++] = charCode>>12 & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\tfunction parseUTF8(input, offset, length) {\n\t\t\tvar output = \"\";\n\t\t\tvar utf16;\n\t\t\tvar pos = offset;\n\n\t\t\twhile (pos < offset+length)\n\t\t\t{\n\t\t\t\tvar byte1 = input[pos++];\n\t\t\t\tif (byte1 < 128)\n\t\t\t\t\tutf16 = byte1;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar byte2 = input[pos++]-128;\n\t\t\t\t\tif (byte2 < 0)\n\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16),\"\"]));\n\t\t\t\t\tif (byte1 < 0xE0)             // 2 byte character\n\t\t\t\t\t\tutf16 = 64*(byte1-0xC0) + byte2;\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tvar byte3 = input[pos++]-128;\n\t\t\t\t\t\tif (byte3 < 0)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16)]));\n\t\t\t\t\t\tif (byte1 < 0xF0)        // 3 byte character\n\t\t\t\t\t\t\tutf16 = 4096*(byte1-0xE0) + 64*byte2 + byte3;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar byte4 = input[pos++]-128;\n\t\t\t\t\t\t\tif (byte4 < 0)\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n\t\t\t\t\t\t\tif (byte1 < 0xF8)        // 4 byte character\n\t\t\t\t\t\t\t\tutf16 = 262144*(byte1-0xF0) + 4096*byte2 + 64*byte3 + byte4;\n\t\t\t\t\t\t\telse                     // longer encodings are not supported\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (utf16 > 0xFFFF)   // 4 byte character - express as a surrogate pair\n\t\t\t\t{\n\t\t\t\t\tutf16 -= 0x10000;\n\t\t\t\t\toutput += String.fromCharCode(0xD800 + (utf16 >> 10)); // lead character\n\t\t\t\t\tutf16 = 0xDC00 + (utf16 & 0x3FF);  // trail character\n\t\t\t\t}\n\t\t\t\toutput += String.fromCharCode(utf16);\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Repeat keepalive requests, monitor responses.\n\t * @ignore\n\t */\n\t\tvar Pinger = function(client, keepAliveInterval) {\n\t\t\tthis._client = client;\n\t\t\tthis._keepAliveInterval = keepAliveInterval*1000;\n\t\t\tthis.isReset = false;\n\n\t\t\tvar pingReq = new WireMessage(MESSAGE_TYPE.PINGREQ).encode();\n\n\t\t\tvar doTimeout = function (pinger) {\n\t\t\t\treturn function () {\n\t\t\t\t\treturn doPing.apply(pinger);\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t/** @ignore */\n\t\t\tvar doPing = function() {\n\t\t\t\tif (!this.isReset) {\n\t\t\t\t\tthis._client._trace(\"Pinger.doPing\", \"Timed out\");\n\t\t\t\t\tthis._client._disconnected( ERROR.PING_TIMEOUT.code , format(ERROR.PING_TIMEOUT));\n\t\t\t\t} else {\n\t\t\t\t\tthis.isReset = false;\n\t\t\t\t\tthis._client._trace(\"Pinger.doPing\", \"send PINGREQ\");\n\t\t\t\t\tthis._client.socket.send(pingReq);\n\t\t\t\t\tthis.timeout = setTimeout(doTimeout(this), this._keepAliveInterval);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.reset = function() {\n\t\t\t\tthis.isReset = true;\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\tif (this._keepAliveInterval > 0)\n\t\t\t\t\tthis.timeout = setTimeout(doTimeout(this), this._keepAliveInterval);\n\t\t\t};\n\n\t\t\tthis.cancel = function() {\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * Monitor request completion.\n\t * @ignore\n\t */\n\t\tvar Timeout = function(client, timeoutSeconds, action, args) {\n\t\t\tif (!timeoutSeconds)\n\t\t\t\ttimeoutSeconds = 30;\n\n\t\t\tvar doTimeout = function (action, client, args) {\n\t\t\t\treturn function () {\n\t\t\t\t\treturn action.apply(client, args);\n\t\t\t\t};\n\t\t\t};\n\t\t\tthis.timeout = setTimeout(doTimeout(action, client, args), timeoutSeconds * 1000);\n\n\t\t\tthis.cancel = function() {\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t};\n\t\t};\n\n\t/**\n\t * Internal implementation of the Websockets MQTT V3.1 client.\n\t *\n\t * @name Paho.ClientImpl @constructor\n\t * @param {String} host the DNS nameof the webSocket host.\n\t * @param {Number} port the port number for that host.\n\t * @param {String} clientId the MQ client identifier.\n\t */\n\t\tvar ClientImpl = function (uri, host, port, path, clientId) {\n\t\t// Check dependencies are satisfied in this browser.\n\t\t\tif (!(\"WebSocket\" in global && global.WebSocket !== null)) {\n\t\t\t\tthrow new Error(format(ERROR.UNSUPPORTED, [\"WebSocket\"]));\n\t\t\t}\n\t\t\tif (!(\"ArrayBuffer\" in global && global.ArrayBuffer !== null)) {\n\t\t\t\tthrow new Error(format(ERROR.UNSUPPORTED, [\"ArrayBuffer\"]));\n\t\t\t}\n\t\t\tthis._trace(\"Paho.Client\", uri, host, port, path, clientId);\n\n\t\t\tthis.host = host;\n\t\t\tthis.port = port;\n\t\t\tthis.path = path;\n\t\t\tthis.uri = uri;\n\t\t\tthis.clientId = clientId;\n\t\t\tthis._wsuri = null;\n\n\t\t\t// Local storagekeys are qualified with the following string.\n\t\t\t// The conditional inclusion of path in the key is for backward\n\t\t\t// compatibility to when the path was not configurable and assumed to\n\t\t\t// be /mqtt\n\t\t\tthis._localKey=host+\":\"+port+(path!=\"/mqtt\"?\":\"+path:\"\")+\":\"+clientId+\":\";\n\n\t\t\t// Create private instance-only message queue\n\t\t\t// Internal queue of messages to be sent, in sending order.\n\t\t\tthis._msg_queue = [];\n\t\t\tthis._buffered_msg_queue = [];\n\n\t\t\t// Messages we have sent and are expecting a response for, indexed by their respective message ids.\n\t\t\tthis._sentMessages = {};\n\n\t\t\t// Messages we have received and acknowleged and are expecting a confirm message for\n\t\t\t// indexed by their respective message ids.\n\t\t\tthis._receivedMessages = {};\n\n\t\t\t// Internal list of callbacks to be executed when messages\n\t\t\t// have been successfully sent over web socket, e.g. disconnect\n\t\t\t// when it doesn't have to wait for ACK, just message is dispatched.\n\t\t\tthis._notify_msg_sent = {};\n\n\t\t\t// Unique identifier for SEND messages, incrementing\n\t\t\t// counter as messages are sent.\n\t\t\tthis._message_identifier = 1;\n\n\t\t\t// Used to determine the transmission sequence of stored sent messages.\n\t\t\tthis._sequence = 0;\n\n\n\t\t\t// Load the local state, if any, from the saved version, only restore state relevant to this client.\n\t\t\tfor (var key in localStorage)\n\t\t\t\tif (   key.indexOf(\"Sent:\"+this._localKey) === 0 || key.indexOf(\"Received:\"+this._localKey) === 0)\n\t\t\t\t\tthis.restore(key);\n\t\t};\n\n\t\t// Messaging Client public instance members.\n\t\tClientImpl.prototype.host = null;\n\t\tClientImpl.prototype.port = null;\n\t\tClientImpl.prototype.path = null;\n\t\tClientImpl.prototype.uri = null;\n\t\tClientImpl.prototype.clientId = null;\n\n\t\t// Messaging Client private instance members.\n\t\tClientImpl.prototype.socket = null;\n\t\t/* true once we have received an acknowledgement to a CONNECT packet. */\n\t\tClientImpl.prototype.connected = false;\n\t\t/* The largest message identifier allowed, may not be larger than 2**16 but\n\t\t * if set smaller reduces the maximum number of outbound messages allowed.\n\t\t */\n\t\tClientImpl.prototype.maxMessageIdentifier = 65536;\n\t\tClientImpl.prototype.connectOptions = null;\n\t\tClientImpl.prototype.hostIndex = null;\n\t\tClientImpl.prototype.onConnected = null;\n\t\tClientImpl.prototype.onConnectionLost = null;\n\t\tClientImpl.prototype.onMessageDelivered = null;\n\t\tClientImpl.prototype.onMessageArrived = null;\n\t\tClientImpl.prototype.traceFunction = null;\n\t\tClientImpl.prototype._msg_queue = null;\n\t\tClientImpl.prototype._buffered_msg_queue = null;\n\t\tClientImpl.prototype._connectTimeout = null;\n\t\t/* The sendPinger monitors how long we allow before we send data to prove to the server that we are alive. */\n\t\tClientImpl.prototype.sendPinger = null;\n\t\t/* The receivePinger monitors how long we allow before we require evidence that the server is alive. */\n\t\tClientImpl.prototype.receivePinger = null;\n\t\tClientImpl.prototype._reconnectInterval = 1; // Reconnect Delay, starts at 1 second\n\t\tClientImpl.prototype._reconnecting = false;\n\t\tClientImpl.prototype._reconnectTimeout = null;\n\t\tClientImpl.prototype.disconnectedPublishing = false;\n\t\tClientImpl.prototype.disconnectedBufferSize = 5000;\n\n\t\tClientImpl.prototype.receiveBuffer = null;\n\n\t\tClientImpl.prototype._traceBuffer = null;\n\t\tClientImpl.prototype._MAX_TRACE_ENTRIES = 100;\n\n\t\tClientImpl.prototype.connect = function (connectOptions) {\n\t\t\tvar connectOptionsMasked = this._traceMask(connectOptions, \"password\");\n\t\t\tthis._trace(\"Client.connect\", connectOptionsMasked, this.socket, this.connected);\n\n\t\t\tif (this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n\t\t\tif (this.socket)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n\n\t\t\tif (this._reconnecting) {\n\t\t\t// connect() function is called while reconnect is in progress.\n\t\t\t// Terminate the auto reconnect process to use new connect options.\n\t\t\t\tthis._reconnectTimeout.cancel();\n\t\t\t\tthis._reconnectTimeout = null;\n\t\t\t\tthis._reconnecting = false;\n\t\t\t}\n\n\t\t\tthis.connectOptions = connectOptions;\n\t\t\tthis._reconnectInterval = 1;\n\t\t\tthis._reconnecting = false;\n\t\t\tif (connectOptions.uris) {\n\t\t\t\tthis.hostIndex = 0;\n\t\t\t\tthis._doConnect(connectOptions.uris[0]);\n\t\t\t} else {\n\t\t\t\tthis._doConnect(this.uri);\n\t\t\t}\n\n\t\t};\n\n\t\tClientImpl.prototype.subscribe = function (filter, subscribeOptions) {\n\t\t\tthis._trace(\"Client.subscribe\", filter, subscribeOptions);\n\n\t\t\tif (!this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\n            var wireMessage = new WireMessage(MESSAGE_TYPE.SUBSCRIBE);\n            wireMessage.topics = filter.constructor === Array ? filter : [filter];\n            if (subscribeOptions.qos === undefined)\n                subscribeOptions.qos = 0;\n            wireMessage.requestedQos = [];\n            for (var i = 0; i < wireMessage.topics.length; i++)\n                wireMessage.requestedQos[i] = subscribeOptions.qos;\n\n\t\t\tif (subscribeOptions.onSuccess) {\n\t\t\t\twireMessage.onSuccess = function(grantedQos) {subscribeOptions.onSuccess({invocationContext:subscribeOptions.invocationContext,grantedQos:grantedQos});};\n\t\t\t}\n\n\t\t\tif (subscribeOptions.onFailure) {\n\t\t\t\twireMessage.onFailure = function(errorCode) {subscribeOptions.onFailure({invocationContext:subscribeOptions.invocationContext,errorCode:errorCode, errorMessage:format(errorCode)});};\n\t\t\t}\n\n\t\t\tif (subscribeOptions.timeout) {\n\t\t\t\twireMessage.timeOut = new Timeout(this, subscribeOptions.timeout, subscribeOptions.onFailure,\n\t\t\t\t\t[{invocationContext:subscribeOptions.invocationContext,\n\t\t\t\t\t\terrorCode:ERROR.SUBSCRIBE_TIMEOUT.code,\n\t\t\t\t\t\terrorMessage:format(ERROR.SUBSCRIBE_TIMEOUT)}]);\n\t\t\t}\n\n\t\t\t// All subscriptions return a SUBACK.\n\t\t\tthis._requires_ack(wireMessage);\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype.unsubscribe = function(filter, unsubscribeOptions) {\n\t\t\tthis._trace(\"Client.unsubscribe\", filter, unsubscribeOptions);\n\n\t\t\tif (!this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\n            var wireMessage = new WireMessage(MESSAGE_TYPE.UNSUBSCRIBE);\n            wireMessage.topics = filter.constructor === Array ? filter : [filter];\n\n\t\t\tif (unsubscribeOptions.onSuccess) {\n\t\t\t\twireMessage.callback = function() {unsubscribeOptions.onSuccess({invocationContext:unsubscribeOptions.invocationContext});};\n\t\t\t}\n\t\t\tif (unsubscribeOptions.timeout) {\n\t\t\t\twireMessage.timeOut = new Timeout(this, unsubscribeOptions.timeout, unsubscribeOptions.onFailure,\n\t\t\t\t\t[{invocationContext:unsubscribeOptions.invocationContext,\n\t\t\t\t\t\terrorCode:ERROR.UNSUBSCRIBE_TIMEOUT.code,\n\t\t\t\t\t\terrorMessage:format(ERROR.UNSUBSCRIBE_TIMEOUT)}]);\n\t\t\t}\n\n\t\t\t// All unsubscribes return a SUBACK.\n\t\t\tthis._requires_ack(wireMessage);\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\tClientImpl.prototype.send = function (message) {\n\t\t\tthis._trace(\"Client.send\", message);\n\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.PUBLISH);\n\t\t\twireMessage.payloadMessage = message;\n\n\t\t\tif (this.connected) {\n\t\t\t// Mark qos 1 & 2 message as \"ACK required\"\n\t\t\t// For qos 0 message, invoke onMessageDelivered callback if there is one.\n\t\t\t// Then schedule the message.\n\t\t\t\tif (message.qos > 0) {\n\t\t\t\t\tthis._requires_ack(wireMessage);\n\t\t\t\t} else if (this.onMessageDelivered) {\n\t\t\t\t\tthis._notify_msg_sent[wireMessage] = this.onMessageDelivered(wireMessage.payloadMessage);\n\t\t\t\t}\n\t\t\t\tthis._schedule_message(wireMessage);\n\t\t\t} else {\n\t\t\t// Currently disconnected, will not schedule this message\n\t\t\t// Check if reconnecting is in progress and disconnected publish is enabled.\n\t\t\t\tif (this._reconnecting && this.disconnectedPublishing) {\n\t\t\t\t// Check the limit which include the \"required ACK\" messages\n\t\t\t\t\tvar messageCount = Object.keys(this._sentMessages).length + this._buffered_msg_queue.length;\n\t\t\t\t\tif (messageCount > this.disconnectedBufferSize) {\n\t\t\t\t\t\tthrow new Error(format(ERROR.BUFFER_FULL, [this.disconnectedBufferSize]));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (message.qos > 0) {\n\t\t\t\t\t\t// Mark this message as \"ACK required\"\n\t\t\t\t\t\t\tthis._requires_ack(wireMessage);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twireMessage.sequence = ++this._sequence;\n\t\t\t\t\t\t\t// Add messages in fifo order to array, by adding to start\n\t\t\t\t\t\t\tthis._buffered_msg_queue.unshift(wireMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.disconnect = function () {\n\t\t\tthis._trace(\"Client.disconnect\");\n\n\t\t\tif (this._reconnecting) {\n\t\t\t// disconnect() function is called while reconnect is in progress.\n\t\t\t// Terminate the auto reconnect process.\n\t\t\t\tthis._reconnectTimeout.cancel();\n\t\t\t\tthis._reconnectTimeout = null;\n\t\t\t\tthis._reconnecting = false;\n\t\t\t}\n\n\t\t\tif (!this.socket)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connecting or connected\"]));\n\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.DISCONNECT);\n\n\t\t\t// Run the disconnected call back as soon as the message has been sent,\n\t\t\t// in case of a failure later on in the disconnect processing.\n\t\t\t// as a consequence, the _disconected call back may be run several times.\n\t\t\tthis._notify_msg_sent[wireMessage] = scope(this._disconnected, this);\n\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\tClientImpl.prototype.getTraceLog = function () {\n\t\t\tif ( this._traceBuffer !== null ) {\n\t\t\t\tthis._trace(\"Client.getTraceLog\", new Date());\n\t\t\t\tthis._trace(\"Client.getTraceLog in flight messages\", this._sentMessages.length);\n\t\t\t\tfor (var key in this._sentMessages)\n\t\t\t\t\tthis._trace(\"_sentMessages \",key, this._sentMessages[key]);\n\t\t\t\tfor (var key in this._receivedMessages)\n\t\t\t\t\tthis._trace(\"_receivedMessages \",key, this._receivedMessages[key]);\n\n\t\t\t\treturn this._traceBuffer;\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.startTrace = function () {\n\t\t\tif ( this._traceBuffer === null ) {\n\t\t\t\tthis._traceBuffer = [];\n\t\t\t}\n\t\t\tthis._trace(\"Client.startTrace\", new Date(), version);\n\t\t};\n\n\t\tClientImpl.prototype.stopTrace = function () {\n\t\t\tdelete this._traceBuffer;\n\t\t};\n\n\t\tClientImpl.prototype._doConnect = function (wsurl) {\n\t\t// When the socket is open, this client will send the CONNECT WireMessage using the saved parameters.\n\t\t\tif (this.connectOptions.useSSL) {\n\t\t\t\tvar uriParts = wsurl.split(\":\");\n\t\t\t\turiParts[0] = \"wss\";\n\t\t\t\twsurl = uriParts.join(\":\");\n\t\t\t}\n\t\t\tthis._wsuri = wsurl;\n\t\t\tthis.connected = false;\n\n\n\n\t\t\tif (this.connectOptions.mqttVersion < 4) {\n\t\t\t\tthis.socket = new WebSocket(wsurl, [\"mqttv3.1\"]);\n\t\t\t} else {\n\t\t\t\tthis.socket = new WebSocket(wsurl, [\"mqtt\"]);\n\t\t\t}\n\t\t\tthis.socket.binaryType = \"arraybuffer\";\n\t\t\tthis.socket.onopen = scope(this._on_socket_open, this);\n\t\t\tthis.socket.onmessage = scope(this._on_socket_message, this);\n\t\t\tthis.socket.onerror = scope(this._on_socket_error, this);\n\t\t\tthis.socket.onclose = scope(this._on_socket_close, this);\n\n\t\t\tthis.sendPinger = new Pinger(this, this.connectOptions.keepAliveInterval);\n\t\t\tthis.receivePinger = new Pinger(this, this.connectOptions.keepAliveInterval);\n\t\t\tif (this._connectTimeout) {\n\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\tthis._connectTimeout = null;\n\t\t\t}\n\t\t\tthis._connectTimeout = new Timeout(this, this.connectOptions.timeout, this._disconnected,  [ERROR.CONNECT_TIMEOUT.code, format(ERROR.CONNECT_TIMEOUT)]);\n\t\t};\n\n\n\t\t// Schedule a new message to be sent over the WebSockets\n\t\t// connection. CONNECT messages cause WebSocket connection\n\t\t// to be started. All other messages are queued internally\n\t\t// until this has happened. When WS connection starts, process\n\t\t// all outstanding messages.\n\t\tClientImpl.prototype._schedule_message = function (message) {\n\t\t\t// Add messages in fifo order to array, by adding to start\n\t\t\tthis._msg_queue.unshift(message);\n\t\t\t// Process outstanding messages in the queue if we have an  open socket, and have received CONNACK.\n\t\t\tif (this.connected) {\n\t\t\t\tthis._process_queue();\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.store = function(prefix, wireMessage) {\n\t\t\tvar storedMessage = {type:wireMessage.type, messageIdentifier:wireMessage.messageIdentifier, version:1};\n\n\t\t\tswitch(wireMessage.type) {\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tif(wireMessage.pubRecReceived)\n\t\t\t\t\tstoredMessage.pubRecReceived = true;\n\n\t\t\t\t// Convert the payload to a hex string.\n\t\t\t\tstoredMessage.payloadMessage = {};\n\t\t\t\tvar hex = \"\";\n\t\t\t\tvar messageBytes = wireMessage.payloadMessage.payloadBytes;\n\t\t\t\tfor (var i=0; i<messageBytes.length; i++) {\n\t\t\t\t\tif (messageBytes[i] <= 0xF)\n\t\t\t\t\t\thex = hex+\"0\"+messageBytes[i].toString(16);\n\t\t\t\t\telse\n\t\t\t\t\t\thex = hex+messageBytes[i].toString(16);\n\t\t\t\t}\n\t\t\t\tstoredMessage.payloadMessage.payloadHex = hex;\n\n\t\t\t\tstoredMessage.payloadMessage.qos = wireMessage.payloadMessage.qos;\n\t\t\t\tstoredMessage.payloadMessage.destinationName = wireMessage.payloadMessage.destinationName;\n\t\t\t\tif (wireMessage.payloadMessage.duplicate)\n\t\t\t\t\tstoredMessage.payloadMessage.duplicate = true;\n\t\t\t\tif (wireMessage.payloadMessage.retained)\n\t\t\t\t\tstoredMessage.payloadMessage.retained = true;\n\n\t\t\t\t// Add a sequence number to sent messages.\n\t\t\t\tif ( prefix.indexOf(\"Sent:\") === 0 ) {\n\t\t\t\t\tif ( wireMessage.sequence === undefined )\n\t\t\t\t\t\twireMessage.sequence = ++this._sequence;\n\t\t\t\t\tstoredMessage.sequence = wireMessage.sequence;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(format(ERROR.INVALID_STORED_DATA, [prefix+this._localKey+wireMessage.messageIdentifier, storedMessage]));\n\t\t\t}\n\t\t\tlocalStorage.setItem(prefix+this._localKey+wireMessage.messageIdentifier, JSON.stringify(storedMessage));\n\t\t};\n\n\t\tClientImpl.prototype.restore = function(key) {\n\t\t\tvar value = localStorage.getItem(key);\n\t\t\tvar storedMessage = JSON.parse(value);\n\n\t\t\tvar wireMessage = new WireMessage(storedMessage.type, storedMessage);\n\n\t\t\tswitch(storedMessage.type) {\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t// Replace the payload message with a Message object.\n\t\t\t\tvar hex = storedMessage.payloadMessage.payloadHex;\n\t\t\t\tvar buffer = new ArrayBuffer((hex.length)/2);\n\t\t\t\tvar byteStream = new Uint8Array(buffer);\n\t\t\t\tvar i = 0;\n\t\t\t\twhile (hex.length >= 2) {\n\t\t\t\t\tvar x = parseInt(hex.substring(0, 2), 16);\n\t\t\t\t\thex = hex.substring(2, hex.length);\n\t\t\t\t\tbyteStream[i++] = x;\n\t\t\t\t}\n\t\t\t\tvar payloadMessage = new Message(byteStream);\n\n\t\t\t\tpayloadMessage.qos = storedMessage.payloadMessage.qos;\n\t\t\t\tpayloadMessage.destinationName = storedMessage.payloadMessage.destinationName;\n\t\t\t\tif (storedMessage.payloadMessage.duplicate)\n\t\t\t\t\tpayloadMessage.duplicate = true;\n\t\t\t\tif (storedMessage.payloadMessage.retained)\n\t\t\t\t\tpayloadMessage.retained = true;\n\t\t\t\twireMessage.payloadMessage = payloadMessage;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(format(ERROR.INVALID_STORED_DATA, [key, value]));\n\t\t\t}\n\n\t\t\tif (key.indexOf(\"Sent:\"+this._localKey) === 0) {\n\t\t\t\twireMessage.payloadMessage.duplicate = true;\n\t\t\t\tthis._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t} else if (key.indexOf(\"Received:\"+this._localKey) === 0) {\n\t\t\t\tthis._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype._process_queue = function () {\n\t\t\tvar message = null;\n\n\t\t\t// Send all queued messages down socket connection\n\t\t\twhile ((message = this._msg_queue.pop())) {\n\t\t\t\tthis._socket_send(message);\n\t\t\t\t// Notify listeners that message was successfully sent\n\t\t\t\tif (this._notify_msg_sent[message]) {\n\t\t\t\t\tthis._notify_msg_sent[message]();\n\t\t\t\t\tdelete this._notify_msg_sent[message];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Expect an ACK response for this message. Add message to the set of in progress\n\t * messages and set an unused identifier in this message.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._requires_ack = function (wireMessage) {\n\t\t\tvar messageCount = Object.keys(this._sentMessages).length;\n\t\t\tif (messageCount > this.maxMessageIdentifier)\n\t\t\t\tthrow Error (\"Too many messages:\"+messageCount);\n\n\t\t\twhile(this._sentMessages[this._message_identifier] !== undefined) {\n\t\t\t\tthis._message_identifier++;\n\t\t\t}\n\t\t\twireMessage.messageIdentifier = this._message_identifier;\n\t\t\tthis._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\tif (wireMessage.type === MESSAGE_TYPE.PUBLISH) {\n\t\t\t\tthis.store(\"Sent:\", wireMessage);\n\t\t\t}\n\t\t\tif (this._message_identifier === this.maxMessageIdentifier) {\n\t\t\t\tthis._message_identifier = 1;\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Called when the underlying websocket has been opened.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._on_socket_open = function () {\n\t\t// Create the CONNECT message object.\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.CONNECT, this.connectOptions);\n\t\t\twireMessage.clientId = this.clientId;\n\t\t\tthis._socket_send(wireMessage);\n\t\t};\n\n\t\t/**\n\t * Called when the underlying websocket has received a complete packet.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._on_socket_message = function (event) {\n\t\t\tthis._trace(\"Client._on_socket_message\", event.data);\n\t\t\tvar messages = this._deframeMessages(event.data);\n\t\t\tfor (var i = 0; i < messages.length; i+=1) {\n\t\t\t\tthis._handleMessage(messages[i]);\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype._deframeMessages = function(data) {\n\t\t\tvar byteArray = new Uint8Array(data);\n\t\t\tvar messages = [];\n\t\t\tif (this.receiveBuffer) {\n\t\t\t\tvar newData = new Uint8Array(this.receiveBuffer.length+byteArray.length);\n\t\t\t\tnewData.set(this.receiveBuffer);\n\t\t\t\tnewData.set(byteArray,this.receiveBuffer.length);\n\t\t\t\tbyteArray = newData;\n\t\t\t\tdelete this.receiveBuffer;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tvar offset = 0;\n\t\t\t\twhile(offset < byteArray.length) {\n\t\t\t\t\tvar result = decodeMessage(byteArray,offset);\n\t\t\t\t\tvar wireMessage = result[0];\n\t\t\t\t\toffset = result[1];\n\t\t\t\t\tif (wireMessage !== null) {\n\t\t\t\t\t\tmessages.push(wireMessage);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (offset < byteArray.length) {\n\t\t\t\t\tthis.receiveBuffer = byteArray.subarray(offset);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tvar errorStack = ((error.hasOwnProperty(\"stack\") == \"undefined\") ? error.stack.toString() : \"No Error Stack Available\");\n\t\t\t\tthis._disconnected(ERROR.INTERNAL_ERROR.code , format(ERROR.INTERNAL_ERROR, [error.message,errorStack]));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn messages;\n\t\t};\n\n\t\tClientImpl.prototype._handleMessage = function(wireMessage) {\n\n\t\t\tthis._trace(\"Client._handleMessage\", wireMessage);\n\n\t\t\ttry {\n\t\t\t\tswitch(wireMessage.type) {\n\t\t\t\tcase MESSAGE_TYPE.CONNACK:\n\t\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\t\tif (this._reconnectTimeout)\n\t\t\t\t\t\tthis._reconnectTimeout.cancel();\n\n\t\t\t\t\t// If we have started using clean session then clear up the local state.\n\t\t\t\t\tif (this.connectOptions.cleanSession) {\n\t\t\t\t\t\tfor (var key in this._sentMessages) {\n\t\t\t\t\t\t\tvar sentMessage = this._sentMessages[key];\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+sentMessage.messageIdentifier);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._sentMessages = {};\n\n\t\t\t\t\t\tfor (var key in this._receivedMessages) {\n\t\t\t\t\t\t\tvar receivedMessage = this._receivedMessages[key];\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"Received:\"+this._localKey+receivedMessage.messageIdentifier);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._receivedMessages = {};\n\t\t\t\t\t}\n\t\t\t\t\t// Client connected and ready for business.\n\t\t\t\t\tif (wireMessage.returnCode === 0) {\n\n\t\t\t\t\t\tthis.connected = true;\n\t\t\t\t\t\t// Jump to the end of the list of uris and stop looking for a good host.\n\n\t\t\t\t\t\tif (this.connectOptions.uris)\n\t\t\t\t\t\t\tthis.hostIndex = this.connectOptions.uris.length;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._disconnected(ERROR.CONNACK_RETURNCODE.code , format(ERROR.CONNACK_RETURNCODE, [wireMessage.returnCode, CONNACK_RC[wireMessage.returnCode]]));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Resend messages.\n\t\t\t\t\tvar sequencedMessages = [];\n\t\t\t\t\tfor (var msgId in this._sentMessages) {\n\t\t\t\t\t\tif (this._sentMessages.hasOwnProperty(msgId))\n\t\t\t\t\t\t\tsequencedMessages.push(this._sentMessages[msgId]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Also schedule qos 0 buffered messages if any\n\t\t\t\t\tif (this._buffered_msg_queue.length > 0) {\n\t\t\t\t\t\tvar msg = null;\n\t\t\t\t\t\twhile ((msg = this._buffered_msg_queue.pop())) {\n\t\t\t\t\t\t\tsequencedMessages.push(msg);\n\t\t\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\t\t\tthis._notify_msg_sent[msg] = this.onMessageDelivered(msg.payloadMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Sort sentMessages into the original sent order.\n\t\t\t\t\tvar sequencedMessages = sequencedMessages.sort(function(a,b) {return a.sequence - b.sequence;} );\n\t\t\t\t\tfor (var i=0, len=sequencedMessages.length; i<len; i++) {\n\t\t\t\t\t\tvar sentMessage = sequencedMessages[i];\n\t\t\t\t\t\tif (sentMessage.type == MESSAGE_TYPE.PUBLISH && sentMessage.pubRecReceived) {\n\t\t\t\t\t\t\tvar pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {messageIdentifier:sentMessage.messageIdentifier});\n\t\t\t\t\t\t\tthis._schedule_message(pubRelMessage);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._schedule_message(sentMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Execute the connectOptions.onSuccess callback if there is one.\n\t\t\t\t\t// Will also now return if this connection was the result of an automatic\n\t\t\t\t\t// reconnect and which URI was successfully connected to.\n\t\t\t\t\tif (this.connectOptions.onSuccess) {\n\t\t\t\t\t\tthis.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});\n\t\t\t\t\t}\n\n\t\t\t\t\tvar reconnected = false;\n\t\t\t\t\tif (this._reconnecting) {\n\t\t\t\t\t\treconnected = true;\n\t\t\t\t\t\tthis._reconnectInterval = 1;\n\t\t\t\t\t\tthis._reconnecting = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Execute the onConnected callback if there is one.\n\t\t\t\t\tthis._connected(reconnected, this._wsuri);\n\n\t\t\t\t\t// Process all queued messages now that the connection is established.\n\t\t\t\t\tthis._process_queue();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t\tthis._receivePublish(wireMessage);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t// If this is a re flow of a PUBACK after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\t\tthis.onMessageDelivered(sentMessage.payloadMessage);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBREC:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t// If this is a re flow of a PUBREC after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tsentMessage.pubRecReceived = true;\n\t\t\t\t\t\tvar pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\t\t\tthis.store(\"Sent:\", sentMessage);\n\t\t\t\t\t\tthis._schedule_message(pubRelMessage);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBREL:\n\t\t\t\t\tvar receivedMessage = this._receivedMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tlocalStorage.removeItem(\"Received:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\t// If this is a re flow of a PUBREL after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (receivedMessage) {\n\t\t\t\t\t\tthis._receiveMessage(receivedMessage);\n\t\t\t\t\t\tdelete this._receivedMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\t\t\t\t\t// Always flow PubComp, we may have previously flowed PubComp but the server lost it and restarted.\n\t\t\t\t\tvar pubCompMessage = new WireMessage(MESSAGE_TYPE.PUBCOMP, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\t\tthis._schedule_message(pubCompMessage);\n\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBCOMP:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\tthis.onMessageDelivered(sentMessage.payloadMessage);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.SUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tif(sentMessage.timeOut)\n\t\t\t\t\t\t\tsentMessage.timeOut.cancel();\n\t\t\t\t\t\t// This will need to be fixed when we add multiple topic support\n\t\t\t\t\t\tif (wireMessage.returnCode[0] === 0x80) {\n\t\t\t\t\t\t\tif (sentMessage.onFailure) {\n\t\t\t\t\t\t\t\tsentMessage.onFailure(wireMessage.returnCode);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (sentMessage.onSuccess) {\n\t\t\t\t\t\t\tsentMessage.onSuccess(wireMessage.returnCode);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.UNSUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tif (sentMessage.timeOut)\n\t\t\t\t\t\t\tsentMessage.timeOut.cancel();\n\t\t\t\t\t\tif (sentMessage.callback) {\n\t\t\t\t\t\t\tsentMessage.callback();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PINGRESP:\n\t\t\t\t/* The sendPinger or receivePinger may have sent a ping, the receivePinger has already been reset. */\n\t\t\t\t\tthis.sendPinger.reset();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.DISCONNECT:\n\t\t\t\t// Clients do not expect to receive disconnect packets.\n\t\t\t\t\tthis._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code , format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code , format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tvar errorStack = ((error.hasOwnProperty(\"stack\") == \"undefined\") ? error.stack.toString() : \"No Error Stack Available\");\n\t\t\t\tthis._disconnected(ERROR.INTERNAL_ERROR.code , format(ERROR.INTERNAL_ERROR, [error.message,errorStack]));\n\t\t\t\treturn;\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._on_socket_error = function (error) {\n\t\t\tif (!this._reconnecting) {\n\t\t\t\tthis._disconnected(ERROR.SOCKET_ERROR.code , format(ERROR.SOCKET_ERROR, [error.data]));\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._on_socket_close = function () {\n\t\t\tif (!this._reconnecting) {\n\t\t\t\tthis._disconnected(ERROR.SOCKET_CLOSE.code , format(ERROR.SOCKET_CLOSE));\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._socket_send = function (wireMessage) {\n\n\t\t\tif (wireMessage.type == 1) {\n\t\t\t\tvar wireMessageMasked = this._traceMask(wireMessage, \"password\");\n\t\t\t\tthis._trace(\"Client._socket_send\", wireMessageMasked);\n\t\t\t}\n\t\t\telse this._trace(\"Client._socket_send\", wireMessage);\n\n\t\t\tthis.socket.send(wireMessage.encode());\n\t\t\t/* We have proved to the server we are alive. */\n\t\t\tthis.sendPinger.reset();\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._receivePublish = function (wireMessage) {\n\t\t\tswitch(wireMessage.payloadMessage.qos) {\n\t\t\tcase \"undefined\":\n\t\t\tcase 0:\n\t\t\t\tthis._receiveMessage(wireMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\tvar pubAckMessage = new WireMessage(MESSAGE_TYPE.PUBACK, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\tthis._schedule_message(pubAckMessage);\n\t\t\t\tthis._receiveMessage(wireMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tthis._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t\tthis.store(\"Received:\", wireMessage);\n\t\t\t\tvar pubRecMessage = new WireMessage(MESSAGE_TYPE.PUBREC, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\tthis._schedule_message(pubRecMessage);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(\"Invaild qos=\" + wireMessage.payloadMessage.qos);\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._receiveMessage = function (wireMessage) {\n\t\t\tif (this.onMessageArrived) {\n\t\t\t\tthis.onMessageArrived(wireMessage.payloadMessage);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Client has connected.\n\t * @param {reconnect} [boolean] indicate if this was a result of reconnect operation.\n\t * @param {uri} [string] fully qualified WebSocket URI of the server.\n\t */\n\t\tClientImpl.prototype._connected = function (reconnect, uri) {\n\t\t// Execute the onConnected callback if there is one.\n\t\t\tif (this.onConnected)\n\t\t\t\tthis.onConnected(reconnect, uri);\n\t\t};\n\n\t\t/**\n\t * Attempts to reconnect the client to the server.\n   * For each reconnect attempt, will double the reconnect interval\n   * up to 128 seconds.\n\t */\n\t\tClientImpl.prototype._reconnect = function () {\n\t\t\tthis._trace(\"Client._reconnect\");\n\t\t\tif (!this.connected) {\n\t\t\t\tthis._reconnecting = true;\n\t\t\t\tthis.sendPinger.cancel();\n\t\t\t\tthis.receivePinger.cancel();\n\t\t\t\tif (this._reconnectInterval < 128)\n\t\t\t\t\tthis._reconnectInterval = this._reconnectInterval * 2;\n\t\t\t\tif (this.connectOptions.uris) {\n\t\t\t\t\tthis.hostIndex = 0;\n\t\t\t\t\tthis._doConnect(this.connectOptions.uris[0]);\n\t\t\t\t} else {\n\t\t\t\t\tthis._doConnect(this.uri);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Client has disconnected either at its own request or because the server\n\t * or network disconnected it. Remove all non-durable state.\n\t * @param {errorCode} [number] the error number.\n\t * @param {errorText} [string] the error text.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._disconnected = function (errorCode, errorText) {\n\t\t\tthis._trace(\"Client._disconnected\", errorCode, errorText);\n\n\t\t\tif (errorCode !== undefined && this._reconnecting) {\n\t\t\t\t//Continue automatic reconnect process\n\t\t\t\tthis._reconnectTimeout = new Timeout(this, this._reconnectInterval, this._reconnect);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.sendPinger.cancel();\n\t\t\tthis.receivePinger.cancel();\n\t\t\tif (this._connectTimeout) {\n\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\tthis._connectTimeout = null;\n\t\t\t}\n\n\t\t\t// Clear message buffers.\n\t\t\tthis._msg_queue = [];\n\t\t\tthis._buffered_msg_queue = [];\n\t\t\tthis._notify_msg_sent = {};\n\n\t\t\tif (this.socket) {\n\t\t\t// Cancel all socket callbacks so that they cannot be driven again by this socket.\n\t\t\t\tthis.socket.onopen = null;\n\t\t\t\tthis.socket.onmessage = null;\n\t\t\t\tthis.socket.onerror = null;\n\t\t\t\tthis.socket.onclose = null;\n\t\t\t\tif (this.socket.readyState === 1)\n\t\t\t\t\tthis.socket.close();\n\t\t\t\tdelete this.socket;\n\t\t\t}\n\n\t\t\tif (this.connectOptions.uris && this.hostIndex < this.connectOptions.uris.length-1) {\n\t\t\t// Try the next host.\n\t\t\t\tthis.hostIndex++;\n\t\t\t\tthis._doConnect(this.connectOptions.uris[this.hostIndex]);\n\t\t\t} else {\n\n\t\t\t\tif (errorCode === undefined) {\n\t\t\t\t\terrorCode = ERROR.OK.code;\n\t\t\t\t\terrorText = format(ERROR.OK);\n\t\t\t\t}\n\n\t\t\t\t// Run any application callbacks last as they may attempt to reconnect and hence create a new socket.\n\t\t\t\tif (this.connected) {\n\t\t\t\t\tthis.connected = false;\n\t\t\t\t\t// Execute the connectionLostCallback if there is one, and we were connected.\n\t\t\t\t\tif (this.onConnectionLost) {\n\t\t\t\t\t\tthis.onConnectionLost({errorCode:errorCode, errorMessage:errorText, reconnect:this.connectOptions.reconnect, uri:this._wsuri});\n\t\t\t\t\t}\n\t\t\t\t\tif (errorCode !== ERROR.OK.code && this.connectOptions.reconnect) {\n\t\t\t\t\t// Start automatic reconnect process for the very first time since last successful connect.\n\t\t\t\t\t\tthis._reconnectInterval = 1;\n\t\t\t\t\t\tthis._reconnect();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t// Otherwise we never had a connection, so indicate that the connect has failed.\n\t\t\t\t\tif (this.connectOptions.mqttVersion === 4 && this.connectOptions.mqttVersionExplicit === false) {\n\t\t\t\t\t\tthis._trace(\"Failed to connect V4, dropping back to V3\");\n\t\t\t\t\t\tthis.connectOptions.mqttVersion = 3;\n\t\t\t\t\t\tif (this.connectOptions.uris) {\n\t\t\t\t\t\t\tthis.hostIndex = 0;\n\t\t\t\t\t\t\tthis._doConnect(this.connectOptions.uris[0]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._doConnect(this.uri);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(this.connectOptions.onFailure) {\n\t\t\t\t\t\tthis.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext, errorCode:errorCode, errorMessage:errorText});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._trace = function () {\n\t\t// Pass trace message back to client's callback function\n\t\t\tif (this.traceFunction) {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tfor (var i in args)\n\t\t\t\t{\n\t\t\t\t\tif (typeof args[i] !== \"undefined\")\n\t\t\t\t\t\targs.splice(i, 1, JSON.stringify(args[i]));\n\t\t\t\t}\n\t\t\t\tvar record = args.join(\"\");\n\t\t\t\tthis.traceFunction ({severity: \"Debug\", message: record\t});\n\t\t\t}\n\n\t\t\t//buffer style trace\n\t\t\tif ( this._traceBuffer !== null ) {\n\t\t\t\tfor (var i = 0, max = arguments.length; i < max; i++) {\n\t\t\t\t\tif ( this._traceBuffer.length == this._MAX_TRACE_ENTRIES ) {\n\t\t\t\t\t\tthis._traceBuffer.shift();\n\t\t\t\t\t}\n\t\t\t\t\tif (i === 0) this._traceBuffer.push(arguments[i]);\n\t\t\t\t\telse if (typeof arguments[i] === \"undefined\" ) this._traceBuffer.push(arguments[i]);\n\t\t\t\t\telse this._traceBuffer.push(\"  \"+JSON.stringify(arguments[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._traceMask = function (traceObject, masked) {\n\t\t\tvar traceObjectMasked = {};\n\t\t\tfor (var attr in traceObject) {\n\t\t\t\tif (traceObject.hasOwnProperty(attr)) {\n\t\t\t\t\tif (attr == masked)\n\t\t\t\t\t\ttraceObjectMasked[attr] = \"******\";\n\t\t\t\t\telse\n\t\t\t\t\t\ttraceObjectMasked[attr] = traceObject[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn traceObjectMasked;\n\t\t};\n\n\t\t// ------------------------------------------------------------------------\n\t\t// Public Programming interface.\n\t\t// ------------------------------------------------------------------------\n\n\t\t/**\n\t * The JavaScript application communicates to the server using a {@link Paho.Client} object.\n\t * <p>\n\t * Most applications will create just one Client object and then call its connect() method,\n\t * however applications can create more than one Client object if they wish.\n\t * In this case the combination of host, port and clientId attributes must be different for each Client object.\n\t * <p>\n\t * The send, subscribe and unsubscribe methods are implemented as asynchronous JavaScript methods\n\t * (even though the underlying protocol exchange might be synchronous in nature).\n\t * This means they signal their completion by calling back to the application,\n\t * via Success or Failure callback functions provided by the application on the method in question.\n\t * Such callbacks are called at most once per method invocation and do not persist beyond the lifetime\n\t * of the script that made the invocation.\n\t * <p>\n\t * In contrast there are some callback functions, most notably <i>onMessageArrived</i>,\n\t * that are defined on the {@link Paho.Client} object.\n\t * These may get called multiple times, and aren't directly related to specific method invocations made by the client.\n\t *\n\t * @name Paho.Client\n\t *\n\t * @constructor\n\t *\n\t * @param {string} host - the address of the messaging server, as a fully qualified WebSocket URI, as a DNS name or dotted decimal IP address.\n\t * @param {number} port - the port number to connect to - only required if host is not a URI\n\t * @param {string} path - the path on the host to connect to - only used if host is not a URI. Default: '/mqtt'.\n\t * @param {string} clientId - the Messaging client identifier, between 1 and 23 characters in length.\n\t *\n\t * @property {string} host - <i>read only</i> the server's DNS hostname or dotted decimal IP address.\n\t * @property {number} port - <i>read only</i> the server's port.\n\t * @property {string} path - <i>read only</i> the server's path.\n\t * @property {string} clientId - <i>read only</i> used when connecting to the server.\n\t * @property {function} onConnectionLost - called when a connection has been lost.\n\t *                            after a connect() method has succeeded.\n\t *                            Establish the call back used when a connection has been lost. The connection may be\n\t *                            lost because the client initiates a disconnect or because the server or network\n\t *                            cause the client to be disconnected. The disconnect call back may be called without\n\t *                            the connectionComplete call back being invoked if, for example the client fails to\n\t *                            connect.\n\t *                            A single response object parameter is passed to the onConnectionLost callback containing the following fields:\n\t *                            <ol>\n\t *                            <li>errorCode\n\t *                            <li>errorMessage\n\t *                            </ol>\n\t * @property {function} onMessageDelivered - called when a message has been delivered.\n\t *                            All processing that this Client will ever do has been completed. So, for example,\n\t *                            in the case of a Qos=2 message sent by this client, the PubComp flow has been received from the server\n\t *                            and the message has been removed from persistent storage before this callback is invoked.\n\t *                            Parameters passed to the onMessageDelivered callback are:\n\t *                            <ol>\n\t *                            <li>{@link Paho.Message} that was delivered.\n\t *                            </ol>\n\t * @property {function} onMessageArrived - called when a message has arrived in this Paho.client.\n\t *                            Parameters passed to the onMessageArrived callback are:\n\t *                            <ol>\n\t *                            <li>{@link Paho.Message} that has arrived.\n\t *                            </ol>\n\t * @property {function} onConnected - called when a connection is successfully made to the server.\n\t *                                  after a connect() method.\n\t *                                  Parameters passed to the onConnected callback are:\n\t *                                  <ol>\n\t *                                  <li>reconnect (boolean) - If true, the connection was the result of a reconnect.</li>\n\t *                                  <li>URI (string) - The URI used to connect to the server.</li>\n\t *                                  </ol>\n\t * @property {boolean} disconnectedPublishing - if set, will enable disconnected publishing in\n\t *                                            in the event that the connection to the server is lost.\n\t * @property {number} disconnectedBufferSize - Used to set the maximum number of messages that the disconnected\n\t *                                             buffer will hold before rejecting new messages. Default size: 5000 messages\n\t * @property {function} trace - called whenever trace is called. TODO\n\t */\n\t\tvar Client = function (host, port, path, clientId) {\n\n\t\t\tvar uri;\n\n\t\t\tif (typeof host !== \"string\")\n\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof host, \"host\"]));\n\n\t\t\tif (arguments.length == 2) {\n\t\t\t// host: must be full ws:// uri\n\t\t\t// port: clientId\n\t\t\t\tclientId = port;\n\t\t\t\turi = host;\n\t\t\t\tvar match = uri.match(/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/);\n\t\t\t\tif (match) {\n\t\t\t\t\thost = match[4]||match[2];\n\t\t\t\t\tport = parseInt(match[7]);\n\t\t\t\t\tpath = match[8];\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[host,\"host\"]));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (arguments.length == 3) {\n\t\t\t\t\tclientId = path;\n\t\t\t\t\tpath = \"/mqtt\";\n\t\t\t\t}\n\t\t\t\tif (typeof port !== \"number\" || port < 0)\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof port, \"port\"]));\n\t\t\t\tif (typeof path !== \"string\")\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof path, \"path\"]));\n\n\t\t\t\tvar ipv6AddSBracket = (host.indexOf(\":\") !== -1 && host.slice(0,1) !== \"[\" && host.slice(-1) !== \"]\");\n\t\t\t\turi = \"ws://\"+(ipv6AddSBracket?\"[\"+host+\"]\":host)+\":\"+port+path;\n\t\t\t}\n\n\t\t\tvar clientIdLength = 0;\n\t\t\tfor (var i = 0; i<clientId.length; i++) {\n\t\t\t\tvar charCode = clientId.charCodeAt(i);\n\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF)  {\n\t\t\t\t\ti++; // Surrogate pair.\n\t\t\t\t}\n\t\t\t\tclientIdLength++;\n\t\t\t}\n\t\t\tif (typeof clientId !== \"string\" || clientIdLength > 65535)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [clientId, \"clientId\"]));\n\n\t\t\tvar client = new ClientImpl(uri, host, port, path, clientId);\n\n\t\t\t//Public Properties\n\t\t\tObject.defineProperties(this,{\n\t\t\t\t\"host\":{\n\t\t\t\t\tget: function() { return host; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"port\":{\n\t\t\t\t\tget: function() { return port; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"path\":{\n\t\t\t\t\tget: function() { return path; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"uri\":{\n\t\t\t\t\tget: function() { return uri; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"clientId\":{\n\t\t\t\t\tget: function() { return client.clientId; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"onConnected\":{\n\t\t\t\t\tget: function() { return client.onConnected; },\n\t\t\t\t\tset: function(newOnConnected) {\n\t\t\t\t\t\tif (typeof newOnConnected === \"function\")\n\t\t\t\t\t\t\tclient.onConnected = newOnConnected;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnConnected, \"onConnected\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"disconnectedPublishing\":{\n\t\t\t\t\tget: function() { return client.disconnectedPublishing; },\n\t\t\t\t\tset: function(newDisconnectedPublishing) {\n\t\t\t\t\t\tclient.disconnectedPublishing = newDisconnectedPublishing;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"disconnectedBufferSize\":{\n\t\t\t\t\tget: function() { return client.disconnectedBufferSize; },\n\t\t\t\t\tset: function(newDisconnectedBufferSize) {\n\t\t\t\t\t\tclient.disconnectedBufferSize = newDisconnectedBufferSize;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onConnectionLost\":{\n\t\t\t\t\tget: function() { return client.onConnectionLost; },\n\t\t\t\t\tset: function(newOnConnectionLost) {\n\t\t\t\t\t\tif (typeof newOnConnectionLost === \"function\")\n\t\t\t\t\t\t\tclient.onConnectionLost = newOnConnectionLost;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnConnectionLost, \"onConnectionLost\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onMessageDelivered\":{\n\t\t\t\t\tget: function() { return client.onMessageDelivered; },\n\t\t\t\t\tset: function(newOnMessageDelivered) {\n\t\t\t\t\t\tif (typeof newOnMessageDelivered === \"function\")\n\t\t\t\t\t\t\tclient.onMessageDelivered = newOnMessageDelivered;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageDelivered, \"onMessageDelivered\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onMessageArrived\":{\n\t\t\t\t\tget: function() { return client.onMessageArrived; },\n\t\t\t\t\tset: function(newOnMessageArrived) {\n\t\t\t\t\t\tif (typeof newOnMessageArrived === \"function\")\n\t\t\t\t\t\t\tclient.onMessageArrived = newOnMessageArrived;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageArrived, \"onMessageArrived\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"trace\":{\n\t\t\t\t\tget: function() { return client.traceFunction; },\n\t\t\t\t\tset: function(trace) {\n\t\t\t\t\t\tif(typeof trace === \"function\"){\n\t\t\t\t\t\t\tclient.traceFunction = trace;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof trace, \"onTrace\"]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t/**\n\t\t * Connect this Messaging client to its server.\n\t\t *\n\t\t * @name Paho.Client#connect\n\t\t * @function\n\t\t * @param {object} connectOptions - Attributes used with the connection.\n\t\t * @param {number} connectOptions.timeout - If the connect has not succeeded within this\n\t\t *                    number of seconds, it is deemed to have failed.\n\t\t *                    The default is 30 seconds.\n\t\t * @param {string} connectOptions.userName - Authentication username for this connection.\n\t\t * @param {string} connectOptions.password - Authentication password for this connection.\n\t\t * @param {Paho.Message} connectOptions.willMessage - sent by the server when the client\n\t\t *                    disconnects abnormally.\n\t\t * @param {number} connectOptions.keepAliveInterval - the server disconnects this client if\n\t\t *                    there is no activity for this number of seconds.\n\t\t *                    The default value of 60 seconds is assumed if not set.\n\t\t * @param {boolean} connectOptions.cleanSession - if true(default) the client and server\n\t\t *                    persistent state is deleted on successful connect.\n\t\t * @param {boolean} connectOptions.useSSL - if present and true, use an SSL Websocket connection.\n\t\t * @param {object} connectOptions.invocationContext - passed to the onSuccess callback or onFailure callback.\n\t\t * @param {function} connectOptions.onSuccess - called when the connect acknowledgement\n\t\t *                    has been received from the server.\n\t\t * A single response object parameter is passed to the onSuccess callback containing the following fields:\n\t\t * <ol>\n\t\t * <li>invocationContext as passed in to the onSuccess method in the connectOptions.\n\t\t * </ol>\n\t * @param {function} connectOptions.onFailure - called when the connect request has failed or timed out.\n\t\t * A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t * <ol>\n\t\t * <li>invocationContext as passed in to the onFailure method in the connectOptions.\n\t\t * <li>errorCode a number indicating the nature of the error.\n\t\t * <li>errorMessage text describing the error.\n\t\t * </ol>\n\t * @param {array} connectOptions.hosts - If present this contains either a set of hostnames or fully qualified\n\t\t * WebSocket URIs (ws://iot.eclipse.org:80/ws), that are tried in order in place\n\t\t * of the host and port paramater on the construtor. The hosts are tried one at at time in order until\n\t\t * one of then succeeds.\n\t * @param {array} connectOptions.ports - If present the set of ports matching the hosts. If hosts contains URIs, this property\n\t\t * is not used.\n\t * @param {boolean} connectOptions.reconnect - Sets whether the client will automatically attempt to reconnect\n\t * to the server if the connection is lost.\n\t *<ul>\n\t *<li>If set to false, the client will not attempt to automatically reconnect to the server in the event that the\n\t * connection is lost.</li>\n\t *<li>If set to true, in the event that the connection is lost, the client will attempt to reconnect to the server.\n\t * It will initially wait 1 second before it attempts to reconnect, for every failed reconnect attempt, the delay\n\t * will double until it is at 2 minutes at which point the delay will stay at 2 minutes.</li>\n\t *</ul>\n\t * @param {number} connectOptions.mqttVersion - The version of MQTT to use to connect to the MQTT Broker.\n\t *<ul>\n\t *<li>3 - MQTT V3.1</li>\n\t *<li>4 - MQTT V3.1.1</li>\n\t *</ul>\n\t * @param {boolean} connectOptions.mqttVersionExplicit - If set to true, will force the connection to use the\n\t * selected MQTT Version or will fail to connect.\n\t * @param {array} connectOptions.uris - If present, should contain a list of fully qualified WebSocket uris\n\t * (e.g. ws://iot.eclipse.org:80/ws), that are tried in order in place of the host and port parameter of the construtor.\n\t * The uris are tried one at a time in order until one of them succeeds. Do not use this in conjunction with hosts as\n\t * the hosts array will be converted to uris and will overwrite this property.\n\t\t * @throws {InvalidState} If the client is not in disconnected state. The client must have received connectionLost\n\t\t * or disconnected before calling connect for a second or subsequent time.\n\t\t */\n\t\t\tthis.connect = function (connectOptions) {\n\t\t\t\tconnectOptions = connectOptions || {} ;\n\t\t\t\tvalidate(connectOptions,  {timeout:\"number\",\n\t\t\t\t\tuserName:\"string\",\n\t\t\t\t\tpassword:\"string\",\n\t\t\t\t\twillMessage:\"object\",\n\t\t\t\t\tkeepAliveInterval:\"number\",\n\t\t\t\t\tcleanSession:\"boolean\",\n\t\t\t\t\tuseSSL:\"boolean\",\n\t\t\t\t\tinvocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\thosts:\"object\",\n\t\t\t\t\tports:\"object\",\n\t\t\t\t\treconnect:\"boolean\",\n\t\t\t\t\tmqttVersion:\"number\",\n\t\t\t\t\tmqttVersionExplicit:\"boolean\",\n\t\t\t\t\turis: \"object\"});\n\n\t\t\t\t// If no keep alive interval is set, assume 60 seconds.\n\t\t\t\tif (connectOptions.keepAliveInterval === undefined)\n\t\t\t\t\tconnectOptions.keepAliveInterval = 60;\n\n\t\t\t\tif (connectOptions.mqttVersion > 4 || connectOptions.mqttVersion < 3) {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.mqttVersion, \"connectOptions.mqttVersion\"]));\n\t\t\t\t}\n\n\t\t\t\tif (connectOptions.mqttVersion === undefined) {\n\t\t\t\t\tconnectOptions.mqttVersionExplicit = false;\n\t\t\t\t\tconnectOptions.mqttVersion = 4;\n\t\t\t\t} else {\n\t\t\t\t\tconnectOptions.mqttVersionExplicit = true;\n\t\t\t\t}\n\n\t\t\t\t//Check that if password is set, so is username\n\t\t\t\tif (connectOptions.password !== undefined && connectOptions.userName === undefined)\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.password, \"connectOptions.password\"]));\n\n\t\t\t\tif (connectOptions.willMessage) {\n\t\t\t\t\tif (!(connectOptions.willMessage instanceof Message))\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [connectOptions.willMessage, \"connectOptions.willMessage\"]));\n\t\t\t\t\t// The will message must have a payload that can be represented as a string.\n\t\t\t\t\t// Cause the willMessage to throw an exception if this is not the case.\n\t\t\t\t\tconnectOptions.willMessage.stringPayload = null;\n\n\t\t\t\t\tif (typeof connectOptions.willMessage.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.willMessage.destinationName, \"connectOptions.willMessage.destinationName\"]));\n\t\t\t\t}\n\t\t\t\tif (typeof connectOptions.cleanSession === \"undefined\")\n\t\t\t\t\tconnectOptions.cleanSession = true;\n\t\t\t\tif (connectOptions.hosts) {\n\n\t\t\t\t\tif (!(connectOptions.hosts instanceof Array) )\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n\t\t\t\t\tif (connectOptions.hosts.length <1 )\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n\n\t\t\t\t\tvar usingURIs = false;\n\t\t\t\t\tfor (var i = 0; i<connectOptions.hosts.length; i++) {\n\t\t\t\t\t\tif (typeof connectOptions.hosts[i] !== \"string\")\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\tif (/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/.test(connectOptions.hosts[i])) {\n\t\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\t\tusingURIs = true;\n\t\t\t\t\t\t\t} else if (!usingURIs) {\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (usingURIs) {\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!usingURIs) {\n\t\t\t\t\t\tif (!connectOptions.ports)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\t\t\t\t\t\tif (!(connectOptions.ports instanceof Array) )\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\t\t\t\t\t\tif (connectOptions.hosts.length !== connectOptions.ports.length)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\n\t\t\t\t\t\tconnectOptions.uris = [];\n\n\t\t\t\t\t\tfor (var i = 0; i<connectOptions.hosts.length; i++) {\n\t\t\t\t\t\t\tif (typeof connectOptions.ports[i] !== \"number\" || connectOptions.ports[i] < 0)\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.ports[i], \"connectOptions.ports[\"+i+\"]\"]));\n\t\t\t\t\t\t\tvar host = connectOptions.hosts[i];\n\t\t\t\t\t\t\tvar port = connectOptions.ports[i];\n\n\t\t\t\t\t\t\tvar ipv6 = (host.indexOf(\":\") !== -1);\n\t\t\t\t\t\t\turi = \"ws://\"+(ipv6?\"[\"+host+\"]\":host)+\":\"+port+path;\n\t\t\t\t\t\t\tconnectOptions.uris.push(uri);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconnectOptions.uris = connectOptions.hosts;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclient.connect(connectOptions);\n\t\t\t};\n\n\t\t\t/**\n\t\t * Subscribe for messages, request receipt of a copy of messages sent to the destinations described by the filter.\n\t\t *\n\t\t * @name Paho.Client#subscribe\n\t\t * @function\n\t\t * @param {string} filter describing the destinations to receive messages from.\n\t\t * <br>\n\t\t * @param {object} subscribeOptions - used to control the subscription\n\t\t *\n\t\t * @param {number} subscribeOptions.qos - the maximum qos of any publications sent\n\t\t *                                  as a result of making this subscription.\n\t\t * @param {object} subscribeOptions.invocationContext - passed to the onSuccess callback\n\t\t *                                  or onFailure callback.\n\t\t * @param {function} subscribeOptions.onSuccess - called when the subscribe acknowledgement\n\t\t *                                  has been received from the server.\n\t\t *                                  A single response object parameter is passed to the onSuccess callback containing the following fields:\n\t\t *                                  <ol>\n\t\t *                                  <li>invocationContext if set in the subscribeOptions.\n\t\t *                                  </ol>\n\t\t * @param {function} subscribeOptions.onFailure - called when the subscribe request has failed or timed out.\n\t\t *                                  A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t *                                  <ol>\n\t\t *                                  <li>invocationContext - if set in the subscribeOptions.\n\t\t *                                  <li>errorCode - a number indicating the nature of the error.\n\t\t *                                  <li>errorMessage - text describing the error.\n\t\t *                                  </ol>\n\t\t * @param {number} subscribeOptions.timeout - which, if present, determines the number of\n\t\t *                                  seconds after which the onFailure calback is called.\n\t\t *                                  The presence of a timeout does not prevent the onSuccess\n\t\t *                                  callback from being called when the subscribe completes.\n\t\t * @throws {InvalidState} if the client is not in connected state.\n\t\t */\n\t\t\tthis.subscribe = function (filter, subscribeOptions) {\n\t\t\t\tif (typeof filter !== \"string\" && filter.constructor !== Array)\n\t\t\t\t\tthrow new Error(\"Invalid argument:\"+filter);\n\t\t\t\tsubscribeOptions = subscribeOptions || {} ;\n\t\t\t\tvalidate(subscribeOptions,  {qos:\"number\",\n\t\t\t\t\tinvocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\ttimeout:\"number\"\n\t\t\t\t});\n\t\t\t\tif (subscribeOptions.timeout && !subscribeOptions.onFailure)\n\t\t\t\t\tthrow new Error(\"subscribeOptions.timeout specified with no onFailure callback.\");\n\t\t\t\tif (typeof subscribeOptions.qos !== \"undefined\" && !(subscribeOptions.qos === 0 || subscribeOptions.qos === 1 || subscribeOptions.qos === 2 ))\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [subscribeOptions.qos, \"subscribeOptions.qos\"]));\n\t\t\t\tclient.subscribe(filter, subscribeOptions);\n\t\t\t};\n\n\t\t/**\n\t\t * Unsubscribe for messages, stop receiving messages sent to destinations described by the filter.\n\t\t *\n\t\t * @name Paho.Client#unsubscribe\n\t\t * @function\n\t\t * @param {string} filter - describing the destinations to receive messages from.\n\t\t * @param {object} unsubscribeOptions - used to control the subscription\n\t\t * @param {object} unsubscribeOptions.invocationContext - passed to the onSuccess callback\n\t\t\t\t\t\t\t\t\t\t\t  or onFailure callback.\n\t\t * @param {function} unsubscribeOptions.onSuccess - called when the unsubscribe acknowledgement has been received from the server.\n\t\t *                                    A single response object parameter is passed to the\n\t\t *                                    onSuccess callback containing the following fields:\n\t\t *                                    <ol>\n\t\t *                                    <li>invocationContext - if set in the unsubscribeOptions.\n\t\t *                                    </ol>\n\t\t * @param {function} unsubscribeOptions.onFailure called when the unsubscribe request has failed or timed out.\n\t\t *                                    A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t *                                    <ol>\n\t\t *                                    <li>invocationContext - if set in the unsubscribeOptions.\n\t\t *                                    <li>errorCode - a number indicating the nature of the error.\n\t\t *                                    <li>errorMessage - text describing the error.\n\t\t *                                    </ol>\n\t\t * @param {number} unsubscribeOptions.timeout - which, if present, determines the number of seconds\n\t\t *                                    after which the onFailure callback is called. The presence of\n\t\t *                                    a timeout does not prevent the onSuccess callback from being\n\t\t *                                    called when the unsubscribe completes\n\t\t * @throws {InvalidState} if the client is not in connected state.\n\t\t */\n\t\t\tthis.unsubscribe = function (filter, unsubscribeOptions) {\n\t\t\t\tif (typeof filter !== \"string\" && filter.constructor !== Array)\n\t\t\t\t\tthrow new Error(\"Invalid argument:\"+filter);\n\t\t\t\tunsubscribeOptions = unsubscribeOptions || {} ;\n\t\t\t\tvalidate(unsubscribeOptions,  {invocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\ttimeout:\"number\"\n\t\t\t\t});\n\t\t\t\tif (unsubscribeOptions.timeout && !unsubscribeOptions.onFailure)\n\t\t\t\t\tthrow new Error(\"unsubscribeOptions.timeout specified with no onFailure callback.\");\n\t\t\t\tclient.unsubscribe(filter, unsubscribeOptions);\n\t\t\t};\n\n\t\t\t/**\n\t\t * Send a message to the consumers of the destination in the Message.\n\t\t *\n\t\t * @name Paho.Client#send\n\t\t * @function\n\t\t * @param {string|Paho.Message} topic - <b>mandatory</b> The name of the destination to which the message is to be sent.\n\t\t * \t\t\t\t\t   - If it is the only parameter, used as Paho.Message object.\n\t\t * @param {String|ArrayBuffer} payload - The message data to be sent.\n\t\t * @param {number} qos The Quality of Service used to deliver the message.\n\t\t * \t\t<dl>\n\t\t * \t\t\t<dt>0 Best effort (default).\n\t\t *     \t\t\t<dt>1 At least once.\n\t\t *     \t\t\t<dt>2 Exactly once.\n\t\t * \t\t</dl>\n\t\t * @param {Boolean} retained If true, the message is to be retained by the server and delivered\n\t\t *                     to both current and future subscriptions.\n\t\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t\t *                     A received message has the retained boolean set to true if the message was published\n\t\t *                     with the retained boolean set to true\n\t\t *                     and the subscrption was made after the message has been published.\n\t\t * @throws {InvalidState} if the client is not connected.\n\t\t */\n\t\t\tthis.send = function (topic,payload,qos,retained) {\n\t\t\t\tvar message ;\n\n\t\t\t\tif(arguments.length === 0){\n\t\t\t\t\tthrow new Error(\"Invalid argument.\"+\"length\");\n\n\t\t\t\t}else if(arguments.length == 1) {\n\n\t\t\t\t\tif (!(topic instanceof Message) && (typeof topic !== \"string\"))\n\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+ typeof topic);\n\n\t\t\t\t\tmessage = topic;\n\t\t\t\t\tif (typeof message.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[message.destinationName,\"Message.destinationName\"]));\n\t\t\t\t\tclient.send(message);\n\n\t\t\t\t}else {\n\t\t\t\t//parameter checking in Message object\n\t\t\t\t\tmessage = new Message(payload);\n\t\t\t\t\tmessage.destinationName = topic;\n\t\t\t\t\tif(arguments.length >= 3)\n\t\t\t\t\t\tmessage.qos = qos;\n\t\t\t\t\tif(arguments.length >= 4)\n\t\t\t\t\t\tmessage.retained = retained;\n\t\t\t\t\tclient.send(message);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t * Publish a message to the consumers of the destination in the Message.\n\t\t * Synonym for Paho.Mqtt.Client#send\n\t\t *\n\t\t * @name Paho.Client#publish\n\t\t * @function\n\t\t * @param {string|Paho.Message} topic - <b>mandatory</b> The name of the topic to which the message is to be published.\n\t\t * \t\t\t\t\t   - If it is the only parameter, used as Paho.Message object.\n\t\t * @param {String|ArrayBuffer} payload - The message data to be published.\n\t\t * @param {number} qos The Quality of Service used to deliver the message.\n\t\t * \t\t<dl>\n\t\t * \t\t\t<dt>0 Best effort (default).\n\t\t *     \t\t\t<dt>1 At least once.\n\t\t *     \t\t\t<dt>2 Exactly once.\n\t\t * \t\t</dl>\n\t\t * @param {Boolean} retained If true, the message is to be retained by the server and delivered\n\t\t *                     to both current and future subscriptions.\n\t\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t\t *                     A received message has the retained boolean set to true if the message was published\n\t\t *                     with the retained boolean set to true\n\t\t *                     and the subscrption was made after the message has been published.\n\t\t * @throws {InvalidState} if the client is not connected.\n\t\t */\n\t\t\tthis.publish = function(topic,payload,qos,retained) {\n\t\t\t\tvar message ;\n\n\t\t\t\tif(arguments.length === 0){\n\t\t\t\t\tthrow new Error(\"Invalid argument.\"+\"length\");\n\n\t\t\t\t}else if(arguments.length == 1) {\n\n\t\t\t\t\tif (!(topic instanceof Message) && (typeof topic !== \"string\"))\n\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+ typeof topic);\n\n\t\t\t\t\tmessage = topic;\n\t\t\t\t\tif (typeof message.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[message.destinationName,\"Message.destinationName\"]));\n\t\t\t\t\tclient.send(message);\n\n\t\t\t\t}else {\n\t\t\t\t\t//parameter checking in Message object\n\t\t\t\t\tmessage = new Message(payload);\n\t\t\t\t\tmessage.destinationName = topic;\n\t\t\t\t\tif(arguments.length >= 3)\n\t\t\t\t\t\tmessage.qos = qos;\n\t\t\t\t\tif(arguments.length >= 4)\n\t\t\t\t\t\tmessage.retained = retained;\n\t\t\t\t\tclient.send(message);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t * Normal disconnect of this Messaging client from its server.\n\t\t *\n\t\t * @name Paho.Client#disconnect\n\t\t * @function\n\t\t * @throws {InvalidState} if the client is already disconnected.\n\t\t */\n\t\t\tthis.disconnect = function () {\n\t\t\t\tclient.disconnect();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Get the contents of the trace log.\n\t\t *\n\t\t * @name Paho.Client#getTraceLog\n\t\t * @function\n\t\t * @return {Object[]} tracebuffer containing the time ordered trace records.\n\t\t */\n\t\t\tthis.getTraceLog = function () {\n\t\t\t\treturn client.getTraceLog();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Start tracing.\n\t\t *\n\t\t * @name Paho.Client#startTrace\n\t\t * @function\n\t\t */\n\t\t\tthis.startTrace = function () {\n\t\t\t\tclient.startTrace();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Stop tracing.\n\t\t *\n\t\t * @name Paho.Client#stopTrace\n\t\t * @function\n\t\t */\n\t\t\tthis.stopTrace = function () {\n\t\t\t\tclient.stopTrace();\n\t\t\t};\n\n\t\t\tthis.isConnected = function() {\n\t\t\t\treturn client.connected;\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * An application message, sent or received.\n\t * <p>\n\t * All attributes may be null, which implies the default values.\n\t *\n\t * @name Paho.Message\n\t * @constructor\n\t * @param {String|ArrayBuffer} payload The message data to be sent.\n\t * <p>\n\t * @property {string} payloadString <i>read only</i> The payload as a string if the payload consists of valid UTF-8 characters.\n\t * @property {ArrayBuffer} payloadBytes <i>read only</i> The payload as an ArrayBuffer.\n\t * <p>\n\t * @property {string} destinationName <b>mandatory</b> The name of the destination to which the message is to be sent\n\t *                    (for messages about to be sent) or the name of the destination from which the message has been received.\n\t *                    (for messages received by the onMessage function).\n\t * <p>\n\t * @property {number} qos The Quality of Service used to deliver the message.\n\t * <dl>\n\t *     <dt>0 Best effort (default).\n\t *     <dt>1 At least once.\n\t *     <dt>2 Exactly once.\n\t * </dl>\n\t * <p>\n\t * @property {Boolean} retained If true, the message is to be retained by the server and delivered\n\t *                     to both current and future subscriptions.\n\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t *                     A received message has the retained boolean set to true if the message was published\n\t *                     with the retained boolean set to true\n\t *                     and the subscrption was made after the message has been published.\n\t * <p>\n\t * @property {Boolean} duplicate <i>read only</i> If true, this message might be a duplicate of one which has already been received.\n\t *                     This is only set on messages received from the server.\n\t *\n\t */\n\t\tvar Message = function (newPayload) {\n\t\t\tvar payload;\n\t\t\tif (   typeof newPayload === \"string\" ||\n\t\tnewPayload instanceof ArrayBuffer ||\n\t\t(ArrayBuffer.isView(newPayload) && !(newPayload instanceof DataView))\n\t\t\t) {\n\t\t\t\tpayload = newPayload;\n\t\t\t} else {\n\t\t\t\tthrow (format(ERROR.INVALID_ARGUMENT, [newPayload, \"newPayload\"]));\n\t\t\t}\n\n\t\t\tvar destinationName;\n\t\t\tvar qos = 0;\n\t\t\tvar retained = false;\n\t\t\tvar duplicate = false;\n\n\t\t\tObject.defineProperties(this,{\n\t\t\t\t\"payloadString\":{\n\t\t\t\t\tenumerable : true,\n\t\t\t\t\tget : function () {\n\t\t\t\t\t\tif (typeof payload === \"string\")\n\t\t\t\t\t\t\treturn payload;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn parseUTF8(payload, 0, payload.length);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"payloadBytes\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\tif (typeof payload === \"string\") {\n\t\t\t\t\t\t\tvar buffer = new ArrayBuffer(UTF8Length(payload));\n\t\t\t\t\t\t\tvar byteStream = new Uint8Array(buffer);\n\t\t\t\t\t\t\tstringToUTF8(payload, byteStream, 0);\n\n\t\t\t\t\t\t\treturn byteStream;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn payload;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"destinationName\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return destinationName; },\n\t\t\t\t\tset: function(newDestinationName) {\n\t\t\t\t\t\tif (typeof newDestinationName === \"string\")\n\t\t\t\t\t\t\tdestinationName = newDestinationName;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [newDestinationName, \"newDestinationName\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"qos\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return qos; },\n\t\t\t\t\tset: function(newQos) {\n\t\t\t\t\t\tif (newQos === 0 || newQos === 1 || newQos === 2 )\n\t\t\t\t\t\t\tqos = newQos;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+newQos);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"retained\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return retained; },\n\t\t\t\t\tset: function(newRetained) {\n\t\t\t\t\t\tif (typeof newRetained === \"boolean\")\n\t\t\t\t\t\t\tretained = newRetained;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [newRetained, \"newRetained\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"topic\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return destinationName; },\n\t\t\t\t\tset: function(newTopic) {destinationName=newTopic;}\n\t\t\t\t},\n\t\t\t\t\"duplicate\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return duplicate; },\n\t\t\t\t\tset: function(newDuplicate) {duplicate=newDuplicate;}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t// Module contents.\n\t\treturn {\n\t\t\tClient: Client,\n\t\t\tMessage: Message\n\t\t};\n\t// eslint-disable-next-line no-nested-ternary\n\t})(typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n\treturn PahoMQTT;\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],3:[function(require,module,exports){\nvar IDX=36, HEX='';\nwhile (IDX--) HEX += IDX.toString(36);\n\nmodule.exports = function (len) {\n\tvar str='', num = len || 11;\n\twhile (num--) str += HEX[Math.random() * 36 | 0];\n\treturn str;\n}\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nvar _header = _interopRequireDefault(require(\"./modules/events/header\"));\n\nvar _cardAdd = require(\"./modules/events/cardAdd\");\n\nvar _loadWidgets = _interopRequireDefault(require(\"./modules/events/loadWidgets\"));\n\nvar _evetDocument = _interopRequireDefault(require(\"./modules/events/evetDocument\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(0, _loadWidgets[\"default\"])();\n(0, _header[\"default\"])();\n(0, _cardAdd.addCardEvents)();\n(0, _evetDocument[\"default\"])();\n\n},{\"./modules/events/cardAdd\":7,\"./modules/events/evetDocument\":8,\"./modules/events/header\":9,\"./modules/events/loadWidgets\":11}],5:[function(require,module,exports){\n\"use strict\";\n\nvar _localStorage = require(\"./localStorage\");\n\nvar _connections = require(\"./connections\");\n\nvar _toast = _interopRequireDefault(require(\"./toast\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar Paho = require(\"paho-mqtt\");\n\nvar client = null;\n\nvar disabledHeader = function disabledHeader(status) {\n  document.getElementById(\"input-broker\").disabled = status;\n  document.getElementById(\"username-broker\").disabled = status;\n  document.getElementById(\"pwd-broker\").disabled = status;\n  document.getElementById(\"client-id-broker\").disabled = status;\n  var btnConnect = document.getElementById(\"btn-connect\");\n\n  if (status) {\n    btnConnect.classList.remove(\"btn_connect\");\n    btnConnect.classList.add(\"btn_connected\");\n    btnConnect.innerText = \"Connected\";\n  } else {\n    btnConnect.classList.add(\"btn_connect\");\n    btnConnect.classList.remove(\"btn_connected\");\n    btnConnect.innerText = \"Connect\";\n  }\n};\n\nvar getConnectionSetting = function getConnectionSetting(user) {\n  var connectionSettings = {\n    onSuccess: onConnect,\n    cleanSession: true,\n    onFailure: function onFailure(error) {\n      console.log(error);\n      disabledHeader(false);\n      (0, _toast[\"default\"])(\"Fail Connection\", \"#FF2400\");\n      alert(\"Fail Connection\", error.errorMessage);\n    },\n    useSSL: true\n  };\n\n  if (user.username) {\n    connectionSettings.userName = user.username;\n  }\n\n  if (user.pwd) {\n    connectionSettings.password = user.pwd;\n  }\n\n  return connectionSettings;\n};\n\nfunction onConnect() {\n  console.log(\"Connected\");\n  (0, _toast[\"default\"])(\"Connected\", \"#348017\");\n  (0, _connections.subscriptions)(client);\n  (0, _connections.publishers)(client);\n} // called when the client loses its connection\n\n\nfunction onConnectionLost(responseObject) {\n  if (responseObject.errorCode !== 0) {\n    disabledHeader(false);\n    (0, _toast[\"default\"])(\"Fail Connection\", \"#FF2400\");\n    console.error(\"onConnectionLost:\", responseObject.errorMessage);\n  }\n} // called when a message arrives\n\n\nfunction onMessageArrived(message) {\n  (0, _connections.messageArrived)(message);\n}\n/********************************************** */\n\n\nvar mqtt = function mqtt(disconnect) {\n  var user = (0, _localStorage.getUserStorage)();\n  var host = (0, _localStorage.getHostStorage)();\n\n  if (client != null && disconnect) {\n    console.log(\"Disconnected\");\n    (0, _toast[\"default\"])(\"Disconnected\", \"#254117\");\n    client.disconnect();\n    client = null;\n    disabledHeader(false);\n  } else {\n    client = new Paho.Client(host.host, Number(host.port), user.clientId);\n    disabledHeader(true);\n    client.onConnectionLost = onConnectionLost;\n    client.onMessageArrived = onMessageArrived;\n    client.connect(getConnectionSetting(user));\n  }\n};\n\nmodule.exports = mqtt;\n\n},{\"./connections\":6,\"./localStorage\":18,\"./toast\":19,\"paho-mqtt\":2}],6:[function(require,module,exports){\n\"use strict\";\n\nvar _localStorage = require(\"./localStorage\");\n\nvar _toast = _interopRequireDefault(require(\"./toast\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar Paho = require(\"paho-mqtt\");\n\nvar topicsSubscribeList = {};\nvar widgetsList = {};\nvar client = null;\n\nvar saveTopicSubscribe = function saveTopicSubscribe(widget) {\n  if (widget.topic.subscribe.topic) {\n    if (topicsSubscribeList[widget.topic.subscribe.topic]) {\n      topicsSubscribeList[widget.topic.subscribe.topic].push(widget);\n    } else {\n      topicsSubscribeList[widget.topic.subscribe.topic] = [widget];\n    }\n  }\n\n  widgetsList[widget._id] = widget;\n};\n\nvar loadSubscriptions = function loadSubscriptions() {\n  var listWidgets = (0, _localStorage.getAllWidget)();\n\n  for (var index = 0; index < listWidgets.length; index++) {\n    var widget = listWidgets[index];\n    if (widget.topic.subscribe.topic) client.subscribe(widget.topic.subscribe.topic);\n    saveTopicSubscribe(widget);\n  }\n};\n\nvar subscriptions = function subscriptions(c) {\n  client = c;\n\n  if (client) {\n    loadSubscriptions();\n  } else {\n    console.log(\"Can`t subscribe\");\n    (0, _toast[\"default\"])(\"Fail to subscriptions\", \"tomato\");\n  }\n};\n\nvar subscription = function subscription() {\n  if (client) {\n    console.log(\"Actualizar elements\");\n    loadSubscriptions();\n  }\n};\n\nvar eventPublish = function eventPublish(e) {\n  if (!client || !e.target.dataset.widget) return;\n  var card = document.getElementById(\"body-\" + e.target.dataset.id);\n  var data = card.dataset;\n  var id = data.id.trim();\n  var widget = widgetsList[id];\n  if (!widget) return console.log(\"No widget exist\");\n  if (!widget.topic.publish.topic) return console.log(\"No have to topic to publish\");\n  var value = \"\";\n\n  if (widget.thing == \"value\" || widget.icon.input) {\n    console.log(\"input\", widget.icon.input);\n\n    if (widget.icon.input == \"textarea\") {\n      var input = document.getElementById(\"input-\".concat(id));\n      value = input.textContent;\n    } else if (widget.thing == \"value\") {\n      var text = document.getElementById(\"value-\".concat(id));\n      value = text.textContent;\n    } else {\n      var _input = document.getElementById(\"input-\".concat(id));\n\n      value = _input.value;\n      console.log(\"input\", value);\n    }\n  } else {\n    value = widget.value == widget.topic.publish.payloadOn ? widget.topic.publish.payloadOff : widget.topic.publish.payloadOn;\n  }\n\n  if (!value) return console.log(\"No have value to send\");\n  var message = new Paho.Message(value);\n  message.retained = true;\n  message.qos = 1;\n  message.destinationName = widget.topic.publish.topic;\n  client.send(message);\n};\n\nvar publishers = function publishers(c) {\n  client = c;\n  document.addEventListener(\"click\", function (e) {\n    return eventPublish(e);\n  });\n  document.addEventListener(\"change\", function (e) {\n    return eventPublish(e);\n  });\n};\n\nvar updateCard = function updateCard(widget, message) {\n  var id = widget._id;\n  var status = document.getElementById(\"card-btn-status-\".concat(id));\n  if (!status || !status.checked) return console.log(\"no activated widget\", id);\n  var icon = document.getElementById(\"card-icon-\".concat(id));\n  var changeValue = false;\n\n  if (message.payloadString == widget.topic.subscribe.payloadOn) {\n    if (widget.icon.icon) {\n      icon.style.color = widget.thingColor.colorOn;\n      icon.classList.add(widget.icon.iconOn);\n      if (widget.icon.iconOff) icon.classList.remove(widget.icon.iconOff);\n\n      if (widget[\"class\"]) {\n        icon.classList.add(widget[\"class\"]);\n      }\n\n      changeValue = true;\n    }\n  } else if (message.payloadString == widget.topic.subscribe.payloadOff) {\n    if (widget.icon.icon) {\n      icon.style.color = widget.thingColor.colorOff;\n\n      if (widget.icon.iconOff) {\n        icon.classList.add(widget.icon.iconOff);\n        icon.classList.remove(widget.icon.iconOn);\n      }\n\n      if (widget[\"class\"]) {\n        icon.classList.remove(widget[\"class\"]);\n      }\n\n      changeValue = true;\n    }\n  }\n\n  if (widget.icon.input && message.destinationName == widget.topic.subscribe.topic) {\n    var input = document.getElementById(\"input-\".concat(id));\n    input.value = message.payloadString;\n  }\n\n  if (widget.thing.match(\"value\")) {\n    var value = document.getElementById(\"value-\".concat(id));\n    var subfije = document.getElementById(\"subfije-\".concat(id));\n    value.textContent = message.payloadString;\n    subfije.textContent = widget.subfije;\n  }\n\n  if (changeValue) widget.value = message.payloadString;\n};\n\nvar loggersUpdate = function loggersUpdate(message) {\n  var loggers = document.querySelectorAll(\".logger\");\n  loggers.forEach(function (log) {\n    updateLogger(log, message);\n  });\n};\n\nvar updateLogger = function updateLogger(log, message) {\n  var status = document.getElementById(\"card-btn-status-\".concat(log.dataset.id));\n  if (!status.checked) return;\n  log.textContent = \"From: \".concat(message.destinationName, \": \").concat(message.payloadString, \"\\t\").concat((0, _moment[\"default\"])().format(\"LTS\"), \"\\n\").concat(log.textContent);\n};\n\nvar messageArrived = function messageArrived(message) {\n  console.log(\"From\", message.destinationName);\n  console.log(\"onMessageArrived:\" + message.payloadString);\n  if (!message.payloadString) return console.log(\"Message empty\");\n  loggersUpdate(message);\n  if (!topicsSubscribeList[message.destinationName]) return console.log(\"No one is subscribe to: \", message.destinationName);\n  topicsSubscribeList[message.destinationName].forEach(function (widget) {\n    console.log(\"To upload widget\", widget._id);\n    updateCard(widget, message);\n  });\n};\n\nmodule.exports = {\n  subscriptions: subscriptions,\n  subscription: subscription,\n  publishers: publishers,\n  messageArrived: messageArrived\n};\n\n},{\"./localStorage\":18,\"./toast\":19,\"moment\":1,\"paho-mqtt\":2}],7:[function(require,module,exports){\n\"use strict\";\n\nvar _uid = _interopRequireDefault(require(\"uid\"));\n\nvar _loadWidget = require(\"../events/loadWidget\");\n\nvar _localStorage = require(\"../localStorage\");\n\nvar _connections = _interopRequireDefault(require(\"../connections\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar removeCardAddFromUI = function removeCardAddFromUI() {\n  var modal = document.getElementById(\"modal-container\");\n  modal ? document.body.removeChild(modal) : null;\n};\n\nvar getColorPickerModalOn = function getColorPickerModalOn() {\n  return document.getElementById(\"modal-color-on\").value;\n};\n\nvar getElementIconFromModal = function getElementIconFromModal() {\n  return document.getElementById(\"modal-icon\");\n};\n\nvar getIconFromModal = function getIconFromModal() {\n  var iconFeature = {};\n  var icon = getElementIconFromModal();\n\n  if (icon.firstElementChild) {\n    iconFeature.input = getDataIcon().input;\n  } else {\n    var iconsList = icon.classList;\n\n    for (var index = 0; index < iconsList.length; index++) {\n      var element = iconsList[index];\n      var hasIcon = element.search(/icon-/);\n      var hasIcon2 = element.search(/icn-m/);\n\n      if (hasIcon != -1 || hasIcon2 != -1) {\n        var icons = getDataIcon();\n        iconFeature.icon = icons.iconOn;\n        iconFeature.iconOn = icons.iconOn;\n        iconFeature.iconOff = icons.iconOff ? icons.iconOff : \"\";\n      }\n    }\n  }\n\n  return iconFeature;\n};\n\nvar getParametersFromCard = function getParametersFromCard() {\n  var modal = document.getElementById(\"modal\");\n  var pinInput = document.getElementById(\"modal-pin\");\n  var boardInput = document.getElementById(\"modal-board\");\n  var colorOnInput = document.getElementById(\"modal-color-on\");\n  var colorOffInput = document.getElementById(\"modal-color-off\");\n  var subfijeInput = document.getElementById(\"modal-subfije\");\n  var thingInput = document.getElementById(\"modal-thing\");\n  var status = document.getElementById(\"modal-subscribe\");\n  var subscribeInput = document.getElementById(\"topic-subscribe\");\n  var publishInput = document.getElementById(\"topic-publish\");\n  var payloadSubscribeOn = document.getElementById(\"payload-subscribe-on\");\n  var payloadSubscribeOff = document.getElementById(\"payload-subscribe-off\");\n  var payloadPublishOn = document.getElementById(\"payload-publish-on\");\n  var payloadPublishOff = document.getElementById(\"payload-publish-off\");\n  var descriptionInput = document.getElementById(\"modal-input-description\");\n  if (!modal) return;\n  var dataModal = modal.dataset;\n  var statusModal = dataModal.edit == \"0\" ? false : true;\n  var id = statusModal ? dataModal.id : (0, _uid[\"default\"])(25);\n  var widget = {\n    id: \"widget-\".concat(id),\n    _id: id,\n    pin: pinInput.value,\n    board: boardInput.value,\n    icon: getIconFromModal(),\n    \"class\": getDataIcon()[\"class\"],\n    subfije: subfijeInput.value,\n    status: status.checked,\n    thing: thingInput.value,\n    description: descriptionInput.value,\n    value: status.checked ? payloadSubscribeOn.value : payloadSubscribeOff.value,\n    thingColor: {\n      colorOn: colorOnInput.value,\n      colorOff: colorOffInput.value\n    },\n    topic: {\n      subscribe: {\n        topic: subscribeInput.value,\n        payloadOn: payloadSubscribeOn.value,\n        payloadOff: payloadSubscribeOff.value\n      },\n      publish: {\n        topic: publishInput.value,\n        payloadOn: payloadPublishOn.value,\n        payloadOff: payloadPublishOff.value\n      }\n    }\n  };\n  return {\n    widget: widget,\n    edit: statusModal ? statusModal : false\n  };\n};\n\nvar getDataIcon = function getDataIcon() {\n  var selectIcon = document.getElementById(\"modal-thing\");\n  var text = selectIcon.value.toLocaleLowerCase();\n  var childrens = selectIcon.children;\n\n  for (var index = 0; index < childrens.length; index++) {\n    var element = childrens[index];\n\n    if (element.value.match(text)) {\n      return element.dataset;\n    }\n  }\n\n  return \"\";\n};\n\nvar btnsEventsCardAdd = function btnsEventsCardAdd() {\n  addEventListener(\"click\", function (e) {\n    var btn = e.target.id;\n    eventsModal();\n\n    if (btn == \"modal-cancel\") {\n      e.preventDefault();\n      removeCardAddFromUI();\n    } else if (btn == \"modal-ok\") {\n      e.preventDefault();\n      var data = getParametersFromCard();\n      if (!data) return;\n      var widget = data.widget,\n          edit = data.edit;\n      removeCardAddFromUI();\n\n      if (edit) {\n        (0, _loadWidget.updateWidgetUI)(widget);\n        (0, _localStorage.updateWidget)(widget);\n\n        _connections[\"default\"].subscription();\n      } else {\n        (0, _loadWidget.loadWidgetUI)(widget);\n        (0, _localStorage.insertWidget)(widget);\n\n        _connections[\"default\"].subscription();\n      }\n    }\n  });\n};\n\nvar btnChange = function btnChange() {\n  var btnAdd = document.getElementById(\"modal-ok\");\n  btnAdd.textContent = \"Actualizar\";\n};\n\nvar renderModal = function renderModal(widget) {\n  var html = require(\"../html/htmlCardAdd\");\n\n  var modalContainer = document.createElement(\"DIV\");\n  modalContainer.setAttribute(\"id\", \"modal-container\");\n  modalContainer.innerHTML = html(widget);\n  document.body.appendChild(modalContainer);\n  btnsEventsCardAdd();\n  widget ? btnChange() : null;\n};\n\nvar btnAddCard = function btnAddCard() {\n  document.addEventListener(\"click\", function (e) {\n    if (e.target.id == \"add-widget\") {\n      e.preventDefault();\n      renderModal();\n    }\n\n    if (e.target.classList.contains(\"modal\")) {\n      removeCardAddFromUI();\n    }\n  });\n};\n\nvar eventsModal = function eventsModal() {\n  addEventListener(\"change\", function (e) {\n    changeColorIconModal(e);\n    changeIconModal(e);\n  });\n};\n\nvar changeColorIconModal = function changeColorIconModal(e) {\n  if (e.target.id == \"modal-color-on\") {\n    var color = getColorPickerModalOn();\n    var icon = getElementIconFromModal();\n    icon.style.color = color;\n  }\n};\n\nvar loadIconModal = function loadIconModal(data) {\n  var icon = getElementIconFromModal();\n\n  for (var index = 0; index < icon.classList.length; index++) {\n    var element = icon.classList[index].trim();\n    var hasIcon = element.search(/icon-/);\n    var hasIcon2 = element.search(/icn-m/);\n\n    if (hasIcon != -1 || hasIcon2 != -1) {\n      icon.classList.remove(element);\n\n      if (data.iconOn) {\n        icon.innerText = \"\";\n\n        if (data.iconOn.match(\"icon-text\")) {\n          icon.innerHTML =\n          /*html*/\n          \"<h1>Value</h1>\";\n        }\n\n        icon.classList.add(data.iconOn);\n      }\n    } else if (data.iconOn) {\n      icon.classList.add(data.iconOn);\n    }\n\n    if (data.input) {\n      if (data.input == \"textarea\") {\n        icon.innerText = \"\";\n        icon.innerHTML =\n        /*html*/\n        \"<textarea class=\\\"logger\\\" cols=\\\"30\\\" rows=\\\"10\\\" disabled></textarea>\";\n      } else {\n        icon.innerText = \"\";\n        icon.innerHTML =\n        /*html*/\n        \"<input type=\\\"\".concat(data.input, \"\\\" disabled>\");\n      }\n    }\n\n    if (data.color) document.getElementById(\"modal-color-on\").value = data.color;\n    icon.style.color = data.color != \"\" ? data.color : getColorPickerModalOn();\n  }\n};\n\nvar changeIconModal = function changeIconModal(e) {\n  if (e.target.id == \"modal-thing\") {\n    var listThings = document.getElementById(\"modal-thing\");\n    var dataset = listThings.options[e.target.selectedIndex].dataset;\n    loadIconModal(dataset);\n  }\n};\n\nvar addCardEvents = function addCardEvents() {\n  btnAddCard();\n};\n\nmodule.exports = {\n  addCardEvents: addCardEvents,\n  renderModal: renderModal,\n  removeCardAddFromUI: removeCardAddFromUI\n};\n\n},{\"../connections\":6,\"../events/loadWidget\":10,\"../html/htmlCardAdd\":16,\"../localStorage\":18,\"uid\":3}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _menuCard = require(\"./menuCard\");\n\nvar _cardAdd = require(\"./cardAdd\");\n\nvar _toast = _interopRequireDefault(require(\"../toast\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar clearInput = function clearInput(e) {\n  if (e.target.tagName.match(\"INPUT\")) {\n    e.target.value = \"\";\n  }\n};\n\nvar invalidTopic = function invalidTopic(e) {\n  if (e.target.id == \"topic-subscribe\" || e.target.id == \"topic-publish\") {\n    if (e.target.value.indexOf(\"#\") != -1 || e.target.value.indexOf(\"+\") != -1 || e.target.value.indexOf(\" \") != -1) {\n      (0, _toast[\"default\"])(e.target.value.indexOf(\" \") != -1 ? \"Can't be empty\" : \"No wildcard supported\", \"#C11B17\");\n      e.target.classList.add(\"warning\");\n    } else {\n      e.target.classList.remove(\"warning\");\n    }\n  }\n};\n\nvar _default = function _default() {\n  document.addEventListener(\"keyup\", function (e) {\n    if (e.keyCode == 27) {\n      (0, _menuCard.removeMenu)();\n      (0, _cardAdd.removeCardAddFromUI)();\n      clearInput(e);\n    }\n\n    invalidTopic(e);\n  });\n};\n\nexports[\"default\"] = _default;\n\n},{\"../toast\":19,\"./cardAdd\":7,\"./menuCard\":12}],9:[function(require,module,exports){\n\"use strict\";\n\nvar _connection = _interopRequireDefault(require(\"../connection\"));\n\nvar _localStorage = require(\"../localStorage\");\n\nvar _host = _interopRequireDefault(require(\"../host\"));\n\nvar _generateClientId = _interopRequireDefault(require(\"../generateClientId\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Save Host\n */\nvar saveData = function saveData() {\n  document.getElementById(\"btn-connect\").addEventListener(\"click\", function (e) {\n    e.preventDefault();\n    saveHostUI();\n    saveUserUI();\n    var status = e.target.classList.contains(\"btn_connect\") == true ? false : true;\n    (0, _connection[\"default\"])(status);\n  });\n};\n\nvar saveHostUI = function saveHostUI() {\n  var hostInput = document.getElementById(\"input-broker\");\n\n  if (hostInput.value.trim() == \"\") {\n    alert(\"No host\");\n    hostInput.focus();\n    return;\n  }\n\n  (0, _localStorage.saveHostStorage)((0, _host[\"default\"])(hostInput.value.trim()));\n};\n\nvar saveUserUI = function saveUserUI() {\n  var user = {};\n  var username = document.getElementById(\"username-broker\");\n  var pwd = document.getElementById(\"pwd-broker\");\n  var clientId = document.getElementById(\"client-id-broker\");\n\n  if (username.value.trim() != \"\") {\n    user.username = username.value.trim();\n  }\n\n  if (pwd.value.trim() != \"\") {\n    user.pwd = pwd.value.trim();\n  }\n\n  if (clientId.value.trim() == \"\") {\n    user.clientId = (0, _generateClientId[\"default\"])();\n    clientId.value = user.clientId;\n  } else {\n    user.clientId = clientId.value.trim();\n  }\n\n  (0, _localStorage.saveUserStorage)(user);\n};\n/**\n * Load host from localStorage if exits\n */\n\n\nvar getHostStorageLocal = function getHostStorageLocal() {\n  var host = (0, _localStorage.getHostStorage)();\n\n  if (host != null) {\n    document.getElementById(\"input-broker\").value = \"\".concat(host.host, \":\").concat(host.port);\n  }\n};\n\nvar getClientStorageLocal = function getClientStorageLocal() {\n  var userLocal = (0, _localStorage.getUserStorage)();\n  var username = document.getElementById(\"username-broker\");\n  var pwd = document.getElementById(\"pwd-broker\");\n  var clientId = document.getElementById(\"client-id-broker\");\n\n  if (userLocal != null) {\n    username.value = userLocal.username ? userLocal.username : \"\";\n    pwd.value = userLocal.pwd ? userLocal.pwd : \"\";\n    clientId.value = userLocal.clientId ? userLocal.clientId : (0, _generateClientId[\"default\"])();\n  } else {\n    clientId.value = (0, _generateClientId[\"default\"])();\n  }\n};\n\nvar getLoadSaveClient = function getLoadSaveClient() {\n  getHostStorageLocal();\n  getClientStorageLocal();\n};\n\nvar headerEvents = function headerEvents() {\n  saveData();\n  getLoadSaveClient();\n};\n\nmodule.exports = headerEvents;\n\n},{\"../connection\":5,\"../generateClientId\":13,\"../host\":14,\"../localStorage\":18}],10:[function(require,module,exports){\n\"use strict\";\n\nvar _localStorage = require(\"../localStorage\");\n\nvar _htmlCard = _interopRequireDefault(require(\"../html/htmlCard\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\ndocument.addEventListener(\"click\", function (e) {\n  if (e.target.id.indexOf(\"card-btn-status-\") != -1) {\n    var data = e.target.dataset;\n    var id = data.id;\n    var widgets = (0, _localStorage.getAllWidget)();\n    widgets.forEach(function (widget) {\n      if (widget.id == \"widget-\".concat(id)) {\n        widget.status = e.target.checked;\n        (0, _localStorage.updateWidget)(widget);\n        if (widget.icon.input) disabeInputCard(widget._id);\n      }\n    });\n  }\n});\n\nvar disabeInputCard = function disabeInputCard(id) {\n  var input = document.getElementById(\"input-\".concat(id));\n  input.disabled = !input.disabled;\n};\n\nvar createCard = function createCard(data, child) {\n  var mainElement = document.getElementById(\"main\");\n  var cardElement = document.createElement(\"article\");\n  cardElement.setAttribute(\"id\", \"card-\".concat(data.id));\n  cardElement.setAttribute(\"class\", \"card\");\n  cardElement.setAttribute(\"data-id\", data._id);\n  var html = (0, _htmlCard[\"default\"])(data);\n  cardElement.innerHTML = html;\n  child ? mainElement.replaceChild(cardElement, child) : mainElement.appendChild(cardElement);\n};\n\nvar updateWidgetUI = function updateWidgetUI(data) {\n  var oldChild = document.getElementById(\"card-\".concat(data.id));\n  createCard(data, oldChild);\n};\n\nvar loadWidgetUI = function loadWidgetUI(data) {\n  createCard(data);\n};\n\nmodule.exports = {\n  loadWidgetUI: loadWidgetUI,\n  updateWidgetUI: updateWidgetUI\n};\n\n},{\"../html/htmlCard\":15,\"../localStorage\":18}],11:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _localStorage = require(\"../localStorage\");\n\nvar _loadWidget = require(\"./loadWidget\");\n\nvar _menuCard = require(\"./menuCard\");\n\nvar loadAllWidgets = function loadAllWidgets() {\n  var listWidgets = (0, _localStorage.getAllWidget)();\n  listWidgets.forEach(function (element) {\n    (0, _loadWidget.loadWidgetUI)(element);\n  });\n  (0, _menuCard.menuEvent)();\n};\n\nvar _default = loadAllWidgets;\nexports[\"default\"] = _default;\n\n},{\"../localStorage\":18,\"./loadWidget\":10,\"./menuCard\":12}],12:[function(require,module,exports){\n\"use strict\";\n\nvar _localStorage = require(\"../localStorage\");\n\nvar _toast = _interopRequireDefault(require(\"../toast\"));\n\nvar _connections = _interopRequireDefault(require(\"../connections\"));\n\nvar _cardAdd = require(\"./cardAdd\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar deleteCard = function deleteCard(id) {\n  var card = document.getElementById(\"card-widget-\".concat(id));\n  var main = document.getElementById(\"main\");\n  main.removeChild(card);\n  (0, _localStorage.removeWidget)(id);\n  (0, _toast[\"default\"])(\"Widget deleted\");\n};\n\nvar removeMenu = function removeMenu() {\n  var menus = document.querySelectorAll(\".card__header__menu__container\");\n  menus.forEach(function (menu) {\n    menu.classList.add(\"hidden\");\n  });\n};\n\nvar menuEvent = function menuEvent() {\n  addEventListener(\"click\", function (e) {\n    if (e.target.dataset.menu) {\n      if (e.target.dataset.menu == \"menu\") {\n        var menu = document.getElementById(\"card-menu-list-\".concat(e.target.dataset.id));\n        menu.classList.toggle(\"hidden\");\n      } else if (e.target.dataset.menu == \"edit\") {\n        var widgets = (0, _localStorage.getAllWidget)();\n        widgets.forEach(function (widget) {\n          if (widget._id == e.target.dataset.id) {\n            removeMenu();\n            (0, _cardAdd.renderModal)(widget);\n          }\n        });\n      } else if (e.target.dataset.menu == \"delete\") {\n        deleteCard(e.target.dataset.id);\n\n        _connections[\"default\"].subscription();\n      }\n    }\n\n    if (e.target.classList.contains(\"main\")) {\n      removeMenu();\n    }\n  });\n};\n\nmodule.exports = {\n  menuEvent: menuEvent,\n  removeMenu: removeMenu\n};\n\n},{\"../connections\":6,\"../localStorage\":18,\"../toast\":19,\"./cardAdd\":7}],13:[function(require,module,exports){\n\"use strict\";\n\nvar _uid = _interopRequireDefault(require(\"uid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.exports = function () {\n  return \"xizuth-\" + (0, _uid[\"default\"])();\n};\n\n},{\"uid\":3}],14:[function(require,module,exports){\n\"use strict\";\n\n/**\n * Get host from UI\n */\nvar getHost = function getHost(host) {\n  if (host == null || host == \"\") {\n    throw \"Without HOST\";\n  }\n\n  var positionPort = host.indexOf(\":\");\n  var port = 8080;\n\n  if (positionPort != -1) {\n    port = Number(host.slice(positionPort + 1));\n  }\n\n  return {\n    host: host.slice(0, positionPort),\n    port: port\n  };\n};\n\nmodule.exports = getHost;\n\n},{}],15:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.getInput = void 0;\n\nvar getInput = function getInput(data) {\n  var input = \"\";\n\n  if (data.icon.input == \"textarea\") {\n    input = \"<textarea class=\\\"\".concat(data[\"class\"] ? data[\"class\"] : \"\", \"\\\" data-id=\\\"\").concat(data._id, \"\\\" data-widget=\\\"widget\\\" cols=\\\"30\\\" rows=\\\"10\\\" id=\\\"input-\").concat(data._id, \"\\\" \").concat(!data.status || data.thing == \"logger\" ? \"disabled\" : \"\", \"></textarea>\");\n  } else {\n    input = \"<input class=\\\"input-data\\\" data-input=\\\"\".concat(data.icon.input, \"\\\" type=\\\"\").concat(data.icon.input, \"\\\" id=\\\"input-\").concat(data._id, \"\\\" data-id=\\\"\").concat(data._id, \"\\\" \").concat(!data.status ? \"disabled\" : \"\", \" data-widget=\\\"widget\\\">\");\n  }\n\n  return input;\n};\n\nexports.getInput = getInput;\n\nvar _default = function _default(data) {\n  return (\n    /*html*/\n    \" \\n<header class=\\\"card__header\\\">\\n    <h3 class=\\\"card__header__pin cursor\\\" id=\\\"card-pin\\\">\".concat(data.pin, \"</h3>\\n    <h3 class=\\\"card__header__pin cursor\\\" id=\\\"card-board\\\">\").concat(data.board, \"</h3>\\n    <i class=\\\"card__header__menu icon-menu\\\" data-id=\\\"\").concat(data._id, \"\\\" data-menu=\\\"menu\\\" id=\\\"card-menu-btn-\").concat(data._id, \"\\\"></i>\\n    <ul class=\\\"card__header__menu__container  hidden\\\" data-id=\\\"\").concat(data._id, \"\\\" id=\\\"card-menu-list-\").concat(data._id, \"\\\">\\n      <li class=\\\"card__header__menu__item pointer\\\" data-id=\\\"\").concat(data._id, \"\\\" data-menu=\\\"edit\\\">Edit</li>\\n      <li class=\\\"card__header__menu__item pointer\\\" data-id=\\\"\").concat(data._id, \"\\\" data-menu=\\\"delete\\\">Delete</li>\\n    </ul>\\n</header>\\n<div class=\\\"card__body\\\" id=\\\"body-\").concat(data._id, \"\\\" data-id=\\\"\").concat(data._id, \" \\\">\\n    <div style=\\\"color: \").concat(data.status ? data.thingColor.colorOn : data.thingColor.colorOff, \";\\\" class=\\\"card__body__icon pointer icons-size \").concat(data.icon.icon ? data.icon.icon : \"\", \"\\\" id=\\\"card-icon-\").concat(data._id, \"\\\" data-id=\\\"\").concat(data._id, \"\\\" data-widget=\\\"widget\\\" >\\n      \").concat(data.icon.input ? getInput(data) : \"\", \"\\n      <span id=\\\"value-\").concat(data._id, \"\\\" data-id=\\\"\").concat(data._id, \"\\\" data-widget=\\\"widget\\\">\").concat(data.thing == \"value\" ? \"-\" : \"\", \"</span> \\n      <span id=\\\"subfije-\").concat(data._id, \"\\\" data-id=\\\"\").concat(data._id, \"\\\" data-widget=\\\"widget\\\">\").concat(data.subfije ? data.subfije : \"\", \"</span>\\n    </div>\\n      <h2 class=\\\"card__body__description pointer\\\" title=\\\"Description: \").concat(data.description, \"\\\" id=\\\"card-description-\").concat(data._id, \"\\\" data-id=\\\"\").concat(data._id, \"\\\" data-widget=\\\"widget\\\">\").concat(data.description, \"</h2>\\n    </div>\\n<footer class=\\\"card__footer\\\">\\n  <div class=\\\"card__footer__topic\\\"><input class=\\\"card__footer__url\\\" type=\\\"url\\\" title=\\\"Subscribe to: \").concat(data.topic.subscribe.topic, \"\\\" disabled placeholder=\\\"\").concat(data.topic.subscribe.topic ? data.topic.subscribe.topic : \"no topic subscribe\", \"\\\" value=\\\"\").concat(data.topic.subscribe.topic, \"\\\" id=\\\"card-topic-subscribe-\").concat(data.topic.subscribe.topic, \"\\\"/><input class=\\\"card__footer__url\\\" type=\\\"url\\\" title=\\\"Publish to: \").concat(data.topic.publish.topic, \"\\\" disabled placeholder=\\\"\").concat(data.topic.publish.topic ? data.topic.publish.topic : \"no topic publish\", \"\\\" id=\\\"card-topic-publish-\").concat(data.id, \"\\\" value=\\\"\").concat(data.topic.publish.topic, \"\\\"/> \\n  </div>\\n    <div class=\\\"card__footer__btn\\\"> <label class=\\\"switch\\\"><input type=\\\"checkbox\\\" \").concat(data.status ? \"checked\" : \"\", \" data-id=\\\"\").concat(data._id, \"\\\" id=\\\"card-btn-status-\").concat(data._id, \"\\\"/><span class=\\\"slider round\\\"></span></label>\\n    </div>\\n</footer>\\n\")\n  );\n};\n\nexports[\"default\"] = _default;\n\n},{}],16:[function(require,module,exports){\n\"use strict\";\n\nvar html = require(\"./htmlCard\");\n\nvar getInput = html.getInput;\n\nmodule.exports = function (data) {\n  return (\n    /*html*/\n    \"\\n<div class=\\\"modal\\\" id=\\\"modal\\\" data-edit=\\\"\".concat(data ? 1 : 0, \"\\\" data-id=\\\"\").concat(data ? data._id : \"\", \"\\\">\\n<div class=\\\"card modal__card\\\">\\n    <header class=\\\"card__header\\\">\\n        <input class=\\\"modal__url\\\" list=\\\"modal-pines\\\" placeholder=\\\"Pin\\\" id=\\\"modal-pin\\\" value=\\\"\").concat(data && data.pin ? data.pin : \"\", \"\\\"/>\\n        <datalist class=\\\"modal__datalist\\\" id=\\\"modal-pines\\\">\\n            <option>A0</option>\\n            <option>A1</option>\\n            <option>A2</option>\\n            <option>A3</option>\\n            <option>A4</option>\\n            <option>A5</option>\\n            <option>A6</option>\\n            <option>A7</option>\\n            <option>A8</option>\\n            <option>A9</option>\\n            <option>D0</option>\\n            <option>D1</option>\\n            <option>D2</option>\\n            <option>D3</option>\\n            <option>D4</option>\\n            <option>D5</option>\\n            <option>D6</option>\\n            <option>D7</option>\\n            <option>D8</option>\\n            <option>D9</option>\\n            <option>D10</option>\\n            <option>D11</option>\\n            <option>D12</option>\\n            <option>D13</option>\\n            <option>DAC0</option>\\n            <option>DAC1</option>\\n            <option>DAC3</option>\\n            <option>PWM</option>\\n            <option>PWM1</option>\\n            <option>PWM2</option>\\n            <option>PWM3</option>\\n            <option>PWM4</option>\\n            <option>PWM5</option>\\n            <option>PWM6</option>\\n        </datalist>\\n        <input class=\\\"modal__url\\\" list=\\\"modal-boards\\\" placeholder=\\\"Board\\\" id=\\\"modal-board\\\" value=\\\"\").concat(data && data.board ? data.board : \"\", \"\\\" />\\n        <datalist class=\\\"modal__datalist\\\" id=\\\"modal-boards\\\">\\n            <option>ESP8266</option>\\n            <option>ESP32</option>\\n            <option>Arduino Uno</option>\\n            <option>Arduino Mega</option>\\n            <option>Arduino Mini </option>\\n        </datalist>\\n    </header>\\n    <div class=\\\"card__body modal__body\\\">\\n        <div class=\\\"modal__body__top\\\">\\n            <div class=\\\"input__color\\\">\\n              <div><label for=\\\"modal-color-on\\\">ON</label><input type=\\\"color\\\" name=\\\"\\\" value=\\\"\").concat(data && data.thingColor.colorOn ? data.thingColor.colorOn : \"#FFD600\", \"\\\" id=\\\"modal-color-on\\\" /></div>\\n              <div><label for=\\\"modal-color-off\\\">OFF</label><input type=\\\"color\\\" name=\\\"\\\" value=\\\"\").concat(data && data.thingColor.colorOff ? data.thingColor.colorOff : \"#BDBDBD\", \"\\\" id=\\\"modal-color-off\\\" />\\n            </div> </div>\\n            <div class=\\\"\").concat(data && data.icon ? data.icon.iconOn : \"icon-bulb\", \" icons-size icns-yellow\\\" id=\\\"modal-icon\\\" style=\\\"color:\").concat(data && data.thingColor.colorOn ? data.thingColor.colorOn : \"\", \"\\\">\\n              \").concat(data && data.icon.input ? getInput(data) : \"\", \"\\n            </div>\\n            <input class=\\\"modal__url\\\" list=\\\"modal-subfijes\\\" id=\\\"modal-subfije\\\" \").concat(data && data.subfije ? data.subfije : \"\", \" />\\n            <datalist class=\\\"modal__datalist\\\" id=\\\"modal-subfijes\\\">\\n              <option>(Empty)</option>\\n              <option>\\xBAC</option>\\n              <option>\\xBAF</option>\\n              <option>mV</option>\\n              <option>V</option>\\n              <option>mA</option>\\n              <option>A</option>\\n            </datalist>\\n        </div>\\n        <div class=\\\"modal__body__button\\\">\\n<select class=\\\"modal__select\\\" name=\\\"\\\" id=\\\"modal-thing\\\">\\n  <option \").concat(data && data.thing && data.thing == \"bulb\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"#FFD600\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"icon-bulb\\\" data-class=\\\"\\\" value=\\\"bulb\\\">Bulb</option> \\n  <option \").concat(data && data.thing && data.thing == \"fan\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"icon-fan\\\" data-class=\\\"animate-spin\\\" value=\\\"fan\\\">Fan</option>\\n  <option \").concat(data && data.thing && data.thing == \"cam\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"icon-videocam\\\" data-class=\\\"\\\" value=\\\"cam\\\">Cam</option>\\n  <option \").concat(data && data.thing && data.thing == \"current\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"icon-flash\\\" data-class=\\\"\\\" value=\\\"current\\\">Current</option>\\n  <option \").concat(data && data.thing && data.thing == \"lock\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"icon-lock-open\\\" data-icon-on=\\\"icon-lock\\\" data-class=\\\"\\\" value=\\\"lock\\\">Lock</option>\\n  <option \").concat(data && data.thing && data.thing == \"person\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"icon-account-alert\\\" data-class=\\\"\\\" value=\\\"person\\\">Person</option>\\n  <option \").concat(data && data.thing && data.thing == \"switch\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"icon-toggle-switch-off\\\" data-icon-on=\\\"icon-toggle-switch\\\" data-class=\\\"\\\" value=\\\"switch\\\">Switch</option>\\n  <option \").concat(data && data.thing && data.thing == \"toggle\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"icon-toggle-off\\\" data-icon-on=\\\"icon-toggle-on\\\" data-class=\\\"\\\" value=\\\"toggle\\\">Toggle</option>\\n  <option \").concat(data && data.thing && data.thing == \"key\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"icon-key\\\" data-class=\\\"\\\" value=\\\"key\\\">Key</option>\\n  <option \").concat(data && data.thing && data.thing == \"batery\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"icon-battery-0\\\" data-icon-on=\\\"icon-battery-4\\\" data-class=\\\"\\\" value=\\\"batery\\\">Batery</option>\\n  <option \").concat(data && data.thing && data.thing == \"bluetooth\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"#3949AB\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"icon-bluetooth\\\" data-class=\\\"\\\" value=\\\"bluetooth\\\">Bluetooth</option>\\n  <option \").concat(data && data.thing && data.thing == \"thermometer\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"icon-thermometer\\\" data-class=\\\"\\\" value=\\\"thermometer\\\">Thermometer</option>\\n  <option \").concat(data && data.thing && data.thing == \"a/c\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"icon-snow\\\" data-class=\\\"\\\" value=\\\"a/c\\\">A/C</option>\\n  <option \").concat(data && data.thing && data.thing == \"motor\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"icn-motor-dc\\\" data-icon-on=\\\"icn-motor-dc-fill\\\" data-class=\\\"\\\" value=\\\"motor\\\">Motor</option>\\n  <option \").concat(data && data.thing && data.thing == \"car\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"icon-car\\\" data-class=\\\"\\\" value=\\\"car\\\">Car</option>\\n  <option \").concat(data && data.thing && data.thing == \"value\" ? \"selected\" : \"\", \" data-input=\\\"\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"icon-text\\\" data-class=\\\"\\\" value=\\\"value\\\">Value</option>\\n  <option \").concat(data && data.thing && data.thing == \"textarea\" ? \"selected\" : \"\", \" data-input=\\\"textarea\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"\\\" data-class=\\\"\\\" value=\\\"textarea\\\">Text Area</option>\\n  <option \").concat(data && data.thing && data.thing == \"slider\" ? \"selected\" : \"\", \" data-input=\\\"range\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"\\\" data-class=\\\"\\\" value=\\\"slider\\\">Slider</option>\\n  <option \").concat(data && data.thing && data.thing == \"input\" ? \"selected\" : \"\", \" data-input=\\\"text\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"\\\" data-class=\\\"\\\" value=\\\"input\\\">Input Text</option>\\n  <option \").concat(data && data.thing && data.thing == \"color\" ? \"selected\" : \"\", \" data-input=\\\"color\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"\\\" data-class=\\\"\\\" value=\\\"color\\\">Color picker</option>\\n  <option \").concat(data && data.thing && data.thing == \"logger\" ? \"selected\" : \"\", \" data-input=\\\"textarea\\\" data-color=\\\"\\\" data-icon-off=\\\"\\\" data-icon-on=\\\"\\\" data-class=\\\"logger\\\" value=\\\"logger\\\">Logger</option>\\n</select>\\n          <input class=\\\"modal__url\\\" type=\\\"text\\\" placeholder=\\\"Ligth Room\\\" id=\\\"modal-input-description\\\" value=\\\"\").concat(data && data.description ? data.description : \"\", \"\\\"/>\\n        </div>\\n    </div>\\n    <footer class=\\\"card__footer modal__card__footer\\\">\\n        <div class=\\\"modal__card__footer__topic\\\">\\n          <input class=\\\"modal__url\\\" type=\\\"url\\\" placeholder=\\\"Subscribe Topic\\\" title=\\\"topic\\\" id=\\\"topic-subscribe\\\" value=\\\"\").concat(data && data.topic.subscribe.topic ? data.topic.subscribe.topic : \"\", \"\\\"/>\\n        <div class=\\\"modal__card__footer__playload\\\"><input class=\\\"modal__url\\\" type=\\\"text\\\" placeholder=\\\"playload on\\\" id=\\\"payload-subscribe-on\\\" value=\\\"\").concat(data && data.topic.subscribe.payloadOn ? data.topic.subscribe.payloadOn : \"\", \"\\\"/><input class=\\\"modal__url\\\" type=\\\"text\\\" placeholder=\\\"payload off\\\" id=\\\"payload-subscribe-off\\\" value=\\\"\").concat(data && data.topic.subscribe.payloadOff ? data.topic.subscribe.payloadOff : \"\", \"\\\"/></div>\\n        <input class=\\\"modal__url\\\" type=\\\"url\\\" placeholder=\\\"Pubish Topic\\\" title=\\\"topic\\\" id=\\\"topic-publish\\\" value=\\\"\").concat(data && data.topic.publish.topic ? data.topic.publish.topic : \"\", \"\\\"/>\\n        <div class=\\\"modal__card__footer__playload\\\"><input class=\\\"modal__url\\\" type=\\\"text\\\" placeholder=\\\"payload on\\\" id=\\\"payload-publish-on\\\" value=\\\"\").concat(data && data.topic.publish.payloadOn ? data.topic.publish.payloadOn : \"\", \"\\\"/><input class=\\\"modal__url\\\" type=\\\"text\\\" placeholder=\\\"payload off\\\" id=\\\"payload-publish-off\\\" value=\\\"\").concat(data && data.topic.subscribe.payloadOff ? data.topic.subscribe.payloadOff : \"\", \"\\\"/></div>\\n        </div>\\n        <div class=\\\"card__footer__btn\\\"><label class=\\\"switch\\\"><input type=\\\"checkbox\\\" \").concat(data ? data.status ? \"checked\" : \"\" : \"checked\", \" checked id=\\\"modal-subscribe\\\" /><span class=\\\"slider round\\\"> </span></label></div>\\n    </footer>\\n    <div class=\\\"modal__btns\\\">\\n      <a class=\\\"btn btn__cancel\\\" href=\\\"/\\\" id=\\\"modal-cancel\\\">Cancel</a>\\n      <a class=\\\"btn btn__ok\\\" href=\\\"/\\\" id=\\\"modal-ok\\\">Agregar</a>\\n    </div>\\n</div>\\n</div>\\n\")\n  );\n};\n\n},{\"./htmlCard\":15}],17:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _default = function _default(message, color) {\n  return (\n    /*html*/\n    \"\\n<div class=\\\"toast\\\">\\n    <div class=\\\"toast__message\\\" \".concat(color ? \"style=\\\"background-color:\".concat(color, \"\\\"\") : \"\", \">\").concat(message, \"</div>\\n</div>\\n\")\n  );\n};\n\nexports[\"default\"] = _default;\n\n},{}],18:[function(require,module,exports){\n\"use strict\";\n\nvar hostId = \"host\";\nvar userId = \"xizuth-id\";\nvar widgetListId = \"widgets\";\n\nvar updateWidget = function updateWidget(widget) {\n  var widgets = JSON.parse(localStorage.getItem(widgetListId)) || new Array();\n\n  for (var index = 0; index < widgets.length; index++) {\n    if (widgets[index].id == widget.id) {\n      widgets[index] = widget;\n    }\n  }\n\n  setAllWidgets(widgets);\n};\n\nvar saveUserStorage = function saveUserStorage() {\n  var user = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  localStorage.setItem(userId, JSON.stringify(user));\n};\n\nvar getUserStorage = function getUserStorage() {\n  return JSON.parse(localStorage.getItem(userId));\n};\n\nvar deleteAll = function deleteAll() {\n  localStorage.clear();\n};\n\nvar saveHostStorage = function saveHostStorage() {\n  var host = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    host: host,\n    port: port\n  };\n  localStorage.setItem(hostId, JSON.stringify(host));\n};\n\nvar getHostStorage = function getHostStorage() {\n  var host = localStorage.getItem(hostId);\n  return JSON.parse(host) || null;\n};\n\nvar setAllWidgets = function setAllWidgets(widgets) {\n  localStorage.setItem(widgetListId, JSON.stringify(widgets));\n};\n\nvar insertWidget = function insertWidget(widget) {\n  var widgets = JSON.parse(localStorage.getItem(widgetListId)) || new Array();\n  widgets.push(widget);\n  setAllWidgets(widgets);\n};\n\nvar removeWidget = function removeWidget(widgetId) {\n  var widgets = getAllWidget();\n  if (!widgets.length) return;\n\n  for (var index = 0; index < widgets.length; index++) {\n    if (widgets[index]._id == widgetId) {\n      widgets.splice(index, 1);\n    }\n  }\n\n  setAllWidgets(widgets);\n};\n\nvar getAllWidget = function getAllWidget() {\n  return JSON.parse(localStorage.getItem(widgetListId)) || [];\n};\n\nmodule.exports = {\n  saveUserStorage: saveUserStorage,\n  getUserStorage: getUserStorage,\n  deleteAll: deleteAll,\n  saveHostStorage: saveHostStorage,\n  getHostStorage: getHostStorage,\n  insertWidget: insertWidget,\n  updateWidget: updateWidget,\n  removeWidget: removeWidget,\n  getAllWidget: getAllWidget\n};\n\n},{}],19:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _htmlToast = _interopRequireDefault(require(\"./html/htmlToast\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar Toast = function Toast(message, color) {\n  var body = document.body;\n  var toast = document.createElement(\"div\");\n  toast.innerHTML = (0, _htmlToast[\"default\"])(message, color);\n  body.appendChild(toast);\n  setTimeout(function () {\n    body.removeChild(toast);\n  }, 2000);\n};\n\nvar _default = Toast;\nexports[\"default\"] = _default;\n\n},{\"./html/htmlToast\":17}]},{},[4])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvbW9tZW50L21vbWVudC5qcyIsIm5vZGVfbW9kdWxlcy9wYWhvLW1xdHQvcGFoby1tcXR0LmpzIiwibm9kZV9tb2R1bGVzL3VpZC9kaXN0L2luZGV4LmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvbW9kdWxlcy9jb25uZWN0aW9uLmpzIiwic3JjL2pzL21vZHVsZXMvY29ubmVjdGlvbnMuanMiLCJzcmMvanMvbW9kdWxlcy9ldmVudHMvY2FyZEFkZC5qcyIsInNyYy9qcy9tb2R1bGVzL2V2ZW50cy9ldmV0RG9jdW1lbnQuanMiLCJzcmMvanMvbW9kdWxlcy9ldmVudHMvaGVhZGVyLmpzIiwic3JjL2pzL21vZHVsZXMvZXZlbnRzL2xvYWRXaWRnZXQuanMiLCJzcmMvanMvbW9kdWxlcy9ldmVudHMvbG9hZFdpZGdldHMuanMiLCJzcmMvanMvbW9kdWxlcy9ldmVudHMvbWVudUNhcmQuanMiLCJzcmMvanMvbW9kdWxlcy9nZW5lcmF0ZUNsaWVudElkLmpzIiwic3JjL2pzL21vZHVsZXMvaG9zdC5qcyIsInNyYy9qcy9tb2R1bGVzL2h0bWwvaHRtbENhcmQuanMiLCJzcmMvanMvbW9kdWxlcy9odG1sL2h0bWxDYXJkQWRkLmpzIiwic3JjL2pzL21vZHVsZXMvaHRtbC9odG1sVG9hc3QuanMiLCJzcmMvanMvbW9kdWxlcy9sb2NhbFN0b3JhZ2UuanMiLCJzcmMvanMvbW9kdWxlcy90b2FzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BpTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QWQ7QUFDQSxFQUFBLEtBQUssQ0FBQyxTQUFOLEdBQWtCLDJCQUFLLE9BQUwsRUFBYyxLQUFkLENBQWxCO0FBQ0EsRUFBQSxJQUFJLENBQUMsV0FBTCxDQUFpQixLQUFqQjtBQUVBLEVBQUEsVUFBVSxDQUFDLFlBQU07QUFDZixJQUFBLElBQUksQ0FBQyxXQUFMLENBQWlCLEtBQWpCO0FBQ0QsR0FGUyxFQUVQLElBRk8sQ0FBVjtBQUdELENBVEQ7O2VBV2UsSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8vISBtb21lbnQuanNcbi8vISB2ZXJzaW9uIDogMi4yNi4wXG4vLyEgYXV0aG9ycyA6IFRpbSBXb29kLCBJc2tyZW4gQ2hlcm5ldiwgTW9tZW50LmpzIGNvbnRyaWJ1dG9yc1xuLy8hIGxpY2Vuc2UgOiBNSVRcbi8vISBtb21lbnRqcy5jb21cblxuOyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgZ2xvYmFsLm1vbWVudCA9IGZhY3RvcnkoKVxufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgaG9va0NhbGxiYWNrO1xuXG4gICAgZnVuY3Rpb24gaG9va3MoKSB7XG4gICAgICAgIHJldHVybiBob29rQ2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuICAgIC8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuICAgIGZ1bmN0aW9uIHNldEhvb2tDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgICBob29rQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0FycmF5KGlucHV0KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBpbnB1dCBpbnN0YW5jZW9mIEFycmF5IHx8XG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcbiAgICAgICAgLy8gSUU4IHdpbGwgdHJlYXQgdW5kZWZpbmVkIGFuZCBudWxsIGFzIG9iamVjdCBpZiBpdCB3YXNuJ3QgZm9yXG4gICAgICAgIC8vIGlucHV0ICE9IG51bGxcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGlucHV0ICE9IG51bGwgJiZcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5sZW5ndGggPT09IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaztcbiAgICAgICAgICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcChvYmosIGspKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PT0gdm9pZCAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBOdW1iZXJdJ1xuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8XG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBEYXRlXSdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuICAgICAgICB2YXIgcmVzID0gW10sXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICByZXMucHVzaChmbihhcnJbaV0sIGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gYikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3AoYiwgaSkpIHtcbiAgICAgICAgICAgICAgICBhW2ldID0gYltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGIsICd0b1N0cmluZycpKSB7XG4gICAgICAgICAgICBhLnRvU3RyaW5nID0gYi50b1N0cmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGIsICd2YWx1ZU9mJykpIHtcbiAgICAgICAgICAgIGEudmFsdWVPZiA9IGIudmFsdWVPZjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1wdHk6IGZhbHNlLFxuICAgICAgICAgICAgdW51c2VkVG9rZW5zOiBbXSxcbiAgICAgICAgICAgIHVudXNlZElucHV0OiBbXSxcbiAgICAgICAgICAgIG92ZXJmbG93OiAtMixcbiAgICAgICAgICAgIGNoYXJzTGVmdE92ZXI6IDAsXG4gICAgICAgICAgICBudWxsSW5wdXQ6IGZhbHNlLFxuICAgICAgICAgICAgaW52YWxpZEVyYTogbnVsbCxcbiAgICAgICAgICAgIGludmFsaWRNb250aDogbnVsbCxcbiAgICAgICAgICAgIGludmFsaWRGb3JtYXQ6IGZhbHNlLFxuICAgICAgICAgICAgdXNlckludmFsaWRhdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGlzbzogZmFsc2UsXG4gICAgICAgICAgICBwYXJzZWREYXRlUGFydHM6IFtdLFxuICAgICAgICAgICAgZXJhOiBudWxsLFxuICAgICAgICAgICAgbWVyaWRpZW06IG51bGwsXG4gICAgICAgICAgICByZmMyODIyOiBmYWxzZSxcbiAgICAgICAgICAgIHdlZWtkYXlNaXNtYXRjaDogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UGFyc2luZ0ZsYWdzKG0pIHtcbiAgICAgICAgaWYgKG0uX3BmID09IG51bGwpIHtcbiAgICAgICAgICAgIG0uX3BmID0gZGVmYXVsdFBhcnNpbmdGbGFncygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtLl9wZjtcbiAgICB9XG5cbiAgICB2YXIgc29tZTtcbiAgICBpZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcbiAgICAgICAgc29tZSA9IEFycmF5LnByb3RvdHlwZS5zb21lO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKSxcbiAgICAgICAgICAgICAgICBsZW4gPSB0Lmxlbmd0aCA+Pj4gMCxcbiAgICAgICAgICAgICAgICBpO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSBpbiB0ICYmIGZ1bi5jYWxsKHRoaXMsIHRbaV0sIGksIHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWQobSkge1xuICAgICAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBnZXRQYXJzaW5nRmxhZ3MobSksXG4gICAgICAgICAgICAgICAgcGFyc2VkUGFydHMgPSBzb21lLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAhPSBudWxsO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGlzTm93VmFsaWQgPVxuICAgICAgICAgICAgICAgICAgICAhaXNOYU4obS5fZC5nZXRUaW1lKCkpICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLm92ZXJmbG93IDwgMCAmJlxuICAgICAgICAgICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRFcmEgJiZcbiAgICAgICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRNb250aCAmJlxuICAgICAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZFdlZWtkYXkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWZsYWdzLndlZWtkYXlNaXNtYXRjaCAmJlxuICAgICAgICAgICAgICAgICAgICAhZmxhZ3MubnVsbElucHV0ICYmXG4gICAgICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmXG4gICAgICAgICAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgKCFmbGFncy5tZXJpZGllbSB8fCAoZmxhZ3MubWVyaWRpZW0gJiYgcGFyc2VkUGFydHMpKTtcblxuICAgICAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuICAgICAgICAgICAgICAgIGlzTm93VmFsaWQgPVxuICAgICAgICAgICAgICAgICAgICBpc05vd1ZhbGlkICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy5iaWdIb3VyID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4gPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnJvemVuKG0pKSB7XG4gICAgICAgICAgICAgICAgbS5faXNWYWxpZCA9IGlzTm93VmFsaWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc05vd1ZhbGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtLl9pc1ZhbGlkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmFsaWQoZmxhZ3MpIHtcbiAgICAgICAgdmFyIG0gPSBjcmVhdGVVVEMoTmFOKTtcbiAgICAgICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGV4dGVuZChnZXRQYXJzaW5nRmxhZ3MobSksIGZsYWdzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS51c2VySW52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfVxuXG4gICAgLy8gUGx1Z2lucyB0aGF0IGFkZCBwcm9wZXJ0aWVzIHNob3VsZCBhbHNvIGFkZCB0aGUga2V5IGhlcmUgKG51bGwgdmFsdWUpLFxuICAgIC8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG4gICAgdmFyIG1vbWVudFByb3BlcnRpZXMgPSAoaG9va3MubW9tZW50UHJvcGVydGllcyA9IFtdKSxcbiAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuICAgICAgICB2YXIgaSwgcHJvcCwgdmFsO1xuXG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNBTW9tZW50T2JqZWN0KSkge1xuICAgICAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2kpKSB7XG4gICAgICAgICAgICB0by5faSA9IGZyb20uX2k7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9mKSkge1xuICAgICAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbCkpIHtcbiAgICAgICAgICAgIHRvLl9sID0gZnJvbS5fbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3N0cmljdCkpIHtcbiAgICAgICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl90em0pKSB7XG4gICAgICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNVVEMpKSB7XG4gICAgICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX29mZnNldCkpIHtcbiAgICAgICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9wZikpIHtcbiAgICAgICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2xvY2FsZSkpIHtcbiAgICAgICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW9tZW50UHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbW9tZW50UHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHByb3AgPSBtb21lbnRQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgICAgIHZhbCA9IGZyb21bcHJvcF07XG4gICAgICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvW3Byb3BdID0gdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0bztcbiAgICB9XG5cbiAgICAvLyBNb21lbnQgcHJvdG90eXBlIG9iamVjdFxuICAgIGZ1bmN0aW9uIE1vbWVudChjb25maWcpIHtcbiAgICAgICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoY29uZmlnLl9kICE9IG51bGwgPyBjb25maWcuX2QuZ2V0VGltZSgpIDogTmFOKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wIGluIGNhc2UgdXBkYXRlT2Zmc2V0IGNyZWF0ZXMgbmV3IG1vbWVudFxuICAgICAgICAvLyBvYmplY3RzLlxuICAgICAgICBpZiAodXBkYXRlSW5Qcm9ncmVzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNb21lbnQob2JqKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBvYmogaW5zdGFuY2VvZiBNb21lbnQgfHwgKG9iaiAhPSBudWxsICYmIG9iai5faXNBTW9tZW50T2JqZWN0ICE9IG51bGwpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Fybihtc2cpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICBjb25zb2xlLndhcm5cbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIHdhcm5pbmc6ICcgKyBtc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlKG1zZywgZm4pIHtcbiAgICAgICAgdmFyIGZpcnN0VGltZSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCwgbXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICBhcmcsXG4gICAgICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgICAgIGtleTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyArPSAnXFxuWycgKyBpICsgJ10gJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGFyZ3VtZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGFyZ3VtZW50c1swXSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0ga2V5ICsgJzogJyArIGFyZ3VtZW50c1swXVtrZXldICsgJywgJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMCwgLTIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgYW5kIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICAgICAgICAgIG1zZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFxuQXJndW1lbnRzOiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpLmpvaW4oJycpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvcigpLnN0YWNrXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBmbik7XG4gICAgfVxuXG4gICAgdmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVwcmVjYXRpb25zW25hbWVdKSB7XG4gICAgICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG4gICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh0eXBlb2YgRnVuY3Rpb24gIT09ICd1bmRlZmluZWQnICYmIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24pIHx8XG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0KGNvbmZpZykge1xuICAgICAgICB2YXIgcHJvcCwgaTtcbiAgICAgICAgZm9yIChpIGluIGNvbmZpZykge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3AoY29uZmlnLCBpKSkge1xuICAgICAgICAgICAgICAgIHByb3AgPSBjb25maWdbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tpXSA9IHByb3A7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1snXycgKyBpXSA9IHByb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgLy8gTGVuaWVudCBvcmRpbmFsIHBhcnNpbmcgYWNjZXB0cyBqdXN0IGEgbnVtYmVyIGluIGFkZGl0aW9uIHRvXG4gICAgICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX2RheU9mTW9udGhPcmRpbmFsUGFyc2UuXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICAgICAgdGhpcy5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgKHRoaXMuX2RheU9mTW9udGhPcmRpbmFsUGFyc2Uuc291cmNlIHx8IHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UpICtcbiAgICAgICAgICAgICAgICAnfCcgK1xuICAgICAgICAgICAgICAgIC9cXGR7MSwyfS8uc291cmNlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcbiAgICAgICAgdmFyIHJlcyA9IGV4dGVuZCh7fSwgcGFyZW50Q29uZmlnKSxcbiAgICAgICAgICAgIHByb3A7XG4gICAgICAgIGZvciAocHJvcCBpbiBjaGlsZENvbmZpZykge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkgJiYgaXNPYmplY3QoY2hpbGRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBwYXJlbnRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBjaGlsZENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZENvbmZpZ1twcm9wXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGNoaWxkQ29uZmlnW3Byb3BdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAocHJvcCBpbiBwYXJlbnRDb25maWcpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBoYXNPd25Qcm9wKHBhcmVudENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICAhaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICBpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgY2hhbmdlcyB0byBwcm9wZXJ0aWVzIGRvbid0IG1vZGlmeSBwYXJlbnQgY29uZmlnXG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gZXh0ZW5kKHt9LCByZXNbcHJvcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTG9jYWxlKGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIga2V5cztcblxuICAgIGlmIChPYmplY3Qua2V5cykge1xuICAgICAgICBrZXlzID0gT2JqZWN0LmtleXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAga2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHZhciBpLFxuICAgICAgICAgICAgICAgIHJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKG9iaiwgaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdENhbGVuZGFyID0ge1xuICAgICAgICBzYW1lRGF5OiAnW1RvZGF5IGF0XSBMVCcsXG4gICAgICAgIG5leHREYXk6ICdbVG9tb3Jyb3cgYXRdIExUJyxcbiAgICAgICAgbmV4dFdlZWs6ICdkZGRkIFthdF0gTFQnLFxuICAgICAgICBsYXN0RGF5OiAnW1llc3RlcmRheSBhdF0gTFQnLFxuICAgICAgICBsYXN0V2VlazogJ1tMYXN0XSBkZGRkIFthdF0gTFQnLFxuICAgICAgICBzYW1lRWxzZTogJ0wnLFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjYWxlbmRhcihrZXksIG1vbSwgbm93KSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLl9jYWxlbmRhcltrZXldIHx8IHRoaXMuX2NhbGVuZGFyWydzYW1lRWxzZSddO1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvdXRwdXQpID8gb3V0cHV0LmNhbGwobW9tLCBub3cpIDogb3V0cHV0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHplcm9GaWxsKG51bWJlciwgdGFyZ2V0TGVuZ3RoLCBmb3JjZVNpZ24pIHtcbiAgICAgICAgdmFyIGFic051bWJlciA9ICcnICsgTWF0aC5hYnMobnVtYmVyKSxcbiAgICAgICAgICAgIHplcm9zVG9GaWxsID0gdGFyZ2V0TGVuZ3RoIC0gYWJzTnVtYmVyLmxlbmd0aCxcbiAgICAgICAgICAgIHNpZ24gPSBudW1iZXIgPj0gMDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChzaWduID8gKGZvcmNlU2lnbiA/ICcrJyA6ICcnKSA6ICctJykgK1xuICAgICAgICAgICAgTWF0aC5wb3coMTAsIE1hdGgubWF4KDAsIHplcm9zVG9GaWxsKSkudG9TdHJpbmcoKS5zdWJzdHIoMSkgK1xuICAgICAgICAgICAgYWJzTnVtYmVyXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oW0hoXW1tKHNzKT98TW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkP2Q/fGRvP3x3W298d10/fFdbb3xXXT98UW8/fE57MSw1fXxZWVlZWVl8WVlZWVl8WVlZWXxZWXx5ezIsNH18eW8/fGdnKGdnZz8pP3xHRyhHR0c/KT98ZXxFfGF8QXxoaD98SEg/fGtrP3xtbT98c3M/fFN7MSw5fXx4fFh8eno/fFpaP3wuKS9nLFxuICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nLFxuICAgICAgICBmb3JtYXRGdW5jdGlvbnMgPSB7fSxcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnMgPSB7fTtcblxuICAgIC8vIHRva2VuOiAgICAnTSdcbiAgICAvLyBwYWRkZWQ6ICAgWydNTScsIDJdXG4gICAgLy8gb3JkaW5hbDogICdNbydcbiAgICAvLyBjYWxsYmFjazogZnVuY3Rpb24gKCkgeyB0aGlzLm1vbnRoKCkgKyAxIH1cbiAgICBmdW5jdGlvbiBhZGRGb3JtYXRUb2tlbih0b2tlbiwgcGFkZGVkLCBvcmRpbmFsLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZnVuYyA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1tjYWxsYmFja10oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYWRkZWQpIHtcbiAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3BhZGRlZFswXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHplcm9GaWxsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgcGFkZGVkWzFdLCBwYWRkZWRbMl0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JkaW5hbCkge1xuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbb3JkaW5hbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0Lm1hdGNoKC9cXFtbXFxzXFxTXS8pKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXlxcW3xcXF0kL2csICcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBmb3JtYXQubWF0Y2goZm9ybWF0dGluZ1Rva2VucyksXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbGVuZ3RoO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSBmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFycmF5W2ldID0gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhhcnJheVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1vbSkge1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9ICcnLFxuICAgICAgICAgICAgICAgIGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gaXNGdW5jdGlvbihhcnJheVtpXSlcbiAgICAgICAgICAgICAgICAgICAgPyBhcnJheVtpXS5jYWxsKG1vbSwgZm9ybWF0KVxuICAgICAgICAgICAgICAgICAgICA6IGFycmF5W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3RcbiAgICBmdW5jdGlvbiBmb3JtYXRNb21lbnQobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuICAgICAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9XG4gICAgICAgICAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSB8fCBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KTtcblxuICAgICAgICByZXR1cm4gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0obSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbG9jYWxlKSB7XG4gICAgICAgIHZhciBpID0gNTtcblxuICAgICAgICBmdW5jdGlvbiByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMoaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGUubG9uZ0RhdGVGb3JtYXQoaW5wdXQpIHx8IGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHdoaWxlIChpID49IDAgJiYgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLnRlc3QoZm9ybWF0KSkge1xuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLFxuICAgICAgICAgICAgICAgIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2Vuc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgaSAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvbmdEYXRlRm9ybWF0ID0ge1xuICAgICAgICBMVFM6ICdoOm1tOnNzIEEnLFxuICAgICAgICBMVDogJ2g6bW0gQScsXG4gICAgICAgIEw6ICdNTS9ERC9ZWVlZJyxcbiAgICAgICAgTEw6ICdNTU1NIEQsIFlZWVknLFxuICAgICAgICBMTEw6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICAgICAgTExMTDogJ2RkZGQsIE1NTU0gRCwgWVlZWSBoOm1tIEEnLFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb25nRGF0ZUZvcm1hdChrZXkpIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0sXG4gICAgICAgICAgICBmb3JtYXRVcHBlciA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleS50b1VwcGVyQ2FzZSgpXTtcblxuICAgICAgICBpZiAoZm9ybWF0IHx8ICFmb3JtYXRVcHBlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0gPSBmb3JtYXRVcHBlclxuICAgICAgICAgICAgLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh0b2spIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRvayA9PT0gJ01NTU0nIHx8XG4gICAgICAgICAgICAgICAgICAgIHRvayA9PT0gJ01NJyB8fFxuICAgICAgICAgICAgICAgICAgICB0b2sgPT09ICdERCcgfHxcbiAgICAgICAgICAgICAgICAgICAgdG9rID09PSAnZGRkZCdcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvay5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvaztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbignJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRJbnZhbGlkRGF0ZSA9ICdJbnZhbGlkIGRhdGUnO1xuXG4gICAgZnVuY3Rpb24gaW52YWxpZERhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZhbGlkRGF0ZTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdE9yZGluYWwgPSAnJWQnLFxuICAgICAgICBkZWZhdWx0RGF5T2ZNb250aE9yZGluYWxQYXJzZSA9IC9cXGR7MSwyfS87XG5cbiAgICBmdW5jdGlvbiBvcmRpbmFsKG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRSZWxhdGl2ZVRpbWUgPSB7XG4gICAgICAgIGZ1dHVyZTogJ2luICVzJyxcbiAgICAgICAgcGFzdDogJyVzIGFnbycsXG4gICAgICAgIHM6ICdhIGZldyBzZWNvbmRzJyxcbiAgICAgICAgc3M6ICclZCBzZWNvbmRzJyxcbiAgICAgICAgbTogJ2EgbWludXRlJyxcbiAgICAgICAgbW06ICclZCBtaW51dGVzJyxcbiAgICAgICAgaDogJ2FuIGhvdXInLFxuICAgICAgICBoaDogJyVkIGhvdXJzJyxcbiAgICAgICAgZDogJ2EgZGF5JyxcbiAgICAgICAgZGQ6ICclZCBkYXlzJyxcbiAgICAgICAgdzogJ2Egd2VlaycsXG4gICAgICAgIHd3OiAnJWQgd2Vla3MnLFxuICAgICAgICBNOiAnYSBtb250aCcsXG4gICAgICAgIE1NOiAnJWQgbW9udGhzJyxcbiAgICAgICAgeTogJ2EgeWVhcicsXG4gICAgICAgIHl5OiAnJWQgeWVhcnMnLFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZWxhdGl2ZVRpbWUobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbc3RyaW5nXTtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob3V0cHV0KVxuICAgICAgICAgICAgPyBvdXRwdXQobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKVxuICAgICAgICAgICAgOiBvdXRwdXQucmVwbGFjZSgvJWQvaSwgbnVtYmVyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXN0RnV0dXJlKGRpZmYsIG91dHB1dCkge1xuICAgICAgICB2YXIgZm9ybWF0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW2RpZmYgPiAwID8gJ2Z1dHVyZScgOiAncGFzdCddO1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihmb3JtYXQpID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgYWxpYXNlcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkVW5pdEFsaWFzKHVuaXQsIHNob3J0aGFuZCkge1xuICAgICAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBhbGlhc2VzW2xvd2VyQ2FzZV0gPSBhbGlhc2VzW2xvd2VyQ2FzZSArICdzJ10gPSBhbGlhc2VzW3Nob3J0aGFuZF0gPSB1bml0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdW5pdHMgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGFsaWFzZXNbdW5pdHNdIHx8IGFsaWFzZXNbdW5pdHMudG9Mb3dlckNhc2UoKV1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFVuaXRzKGlucHV0T2JqZWN0KSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wLFxuICAgICAgICAgICAgcHJvcDtcblxuICAgICAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGlucHV0T2JqZWN0LCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wID0gbm9ybWFsaXplVW5pdHMocHJvcCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRJbnB1dFtub3JtYWxpemVkUHJvcF0gPSBpbnB1dE9iamVjdFtwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xuICAgIH1cblxuICAgIHZhciBwcmlvcml0aWVzID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRVbml0UHJpb3JpdHkodW5pdCwgcHJpb3JpdHkpIHtcbiAgICAgICAgcHJpb3JpdGllc1t1bml0XSA9IHByaW9yaXR5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFByaW9yaXRpemVkVW5pdHModW5pdHNPYmopIHtcbiAgICAgICAgdmFyIHVuaXRzID0gW10sXG4gICAgICAgICAgICB1O1xuICAgICAgICBmb3IgKHUgaW4gdW5pdHNPYmopIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKHVuaXRzT2JqLCB1KSkge1xuICAgICAgICAgICAgICAgIHVuaXRzLnB1c2goeyB1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB1bml0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdW5pdHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XG4gICAgICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNGbG9vcihudW1iZXIpIHtcbiAgICAgICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgICAgIC8vIC0wIC0+IDBcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKSB8fCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvSW50KGFyZ3VtZW50Rm9yQ29lcmNpb24pIHtcbiAgICAgICAgdmFyIGNvZXJjZWROdW1iZXIgPSArYXJndW1lbnRGb3JDb2VyY2lvbixcbiAgICAgICAgICAgIHZhbHVlID0gMDtcblxuICAgICAgICBpZiAoY29lcmNlZE51bWJlciAhPT0gMCAmJiBpc0Zpbml0ZShjb2VyY2VkTnVtYmVyKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlR2V0U2V0KHVuaXQsIGtlZXBUaW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2V0JDEodGhpcywgdW5pdCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCBrZWVwVGltZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgdW5pdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0KG1vbSwgdW5pdCkge1xuICAgICAgICByZXR1cm4gbW9tLmlzVmFsaWQoKVxuICAgICAgICAgICAgPyBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKVxuICAgICAgICAgICAgOiBOYU47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0JDEobW9tLCB1bml0LCB2YWx1ZSkge1xuICAgICAgICBpZiAobW9tLmlzVmFsaWQoKSAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdW5pdCA9PT0gJ0Z1bGxZZWFyJyAmJlxuICAgICAgICAgICAgICAgIGlzTGVhcFllYXIobW9tLnllYXIoKSkgJiZcbiAgICAgICAgICAgICAgICBtb20ubW9udGgoKSA9PT0gMSAmJlxuICAgICAgICAgICAgICAgIG1vbS5kYXRlKCkgPT09IDI5XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBtb20ubW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgZGF5c0luTW9udGgodmFsdWUsIG1vbS5tb250aCgpKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBzdHJpbmdHZXQodW5pdHMpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RyaW5nU2V0KHVuaXRzLCB2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHVuaXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdW5pdHMgPSBub3JtYWxpemVPYmplY3RVbml0cyh1bml0cyk7XG4gICAgICAgICAgICB2YXIgcHJpb3JpdGl6ZWQgPSBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzKSxcbiAgICAgICAgICAgICAgICBpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHByaW9yaXRpemVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoMSA9IC9cXGQvLCAvLyAgICAgICAwIC0gOVxuICAgICAgICBtYXRjaDIgPSAvXFxkXFxkLywgLy8gICAgICAwMCAtIDk5XG4gICAgICAgIG1hdGNoMyA9IC9cXGR7M30vLCAvLyAgICAgMDAwIC0gOTk5XG4gICAgICAgIG1hdGNoNCA9IC9cXGR7NH0vLCAvLyAgICAwMDAwIC0gOTk5OVxuICAgICAgICBtYXRjaDYgPSAvWystXT9cXGR7Nn0vLCAvLyAtOTk5OTk5IC0gOTk5OTk5XG4gICAgICAgIG1hdGNoMXRvMiA9IC9cXGRcXGQ/LywgLy8gICAgICAgMCAtIDk5XG4gICAgICAgIG1hdGNoM3RvNCA9IC9cXGRcXGRcXGRcXGQ/LywgLy8gICAgIDk5OSAtIDk5OTlcbiAgICAgICAgbWF0Y2g1dG82ID0gL1xcZFxcZFxcZFxcZFxcZFxcZD8vLCAvLyAgIDk5OTk5IC0gOTk5OTk5XG4gICAgICAgIG1hdGNoMXRvMyA9IC9cXGR7MSwzfS8sIC8vICAgICAgIDAgLSA5OTlcbiAgICAgICAgbWF0Y2gxdG80ID0gL1xcZHsxLDR9LywgLy8gICAgICAgMCAtIDk5OTlcbiAgICAgICAgbWF0Y2gxdG82ID0gL1srLV0/XFxkezEsNn0vLCAvLyAtOTk5OTk5IC0gOTk5OTk5XG4gICAgICAgIG1hdGNoVW5zaWduZWQgPSAvXFxkKy8sIC8vICAgICAgIDAgLSBpbmZcbiAgICAgICAgbWF0Y2hTaWduZWQgPSAvWystXT9cXGQrLywgLy8gICAgLWluZiAtIGluZlxuICAgICAgICBtYXRjaE9mZnNldCA9IC9afFsrLV1cXGRcXGQ6P1xcZFxcZC9naSwgLy8gKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG4gICAgICAgIG1hdGNoU2hvcnRPZmZzZXQgPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naSwgLy8gKzAwIC0wMCArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcbiAgICAgICAgbWF0Y2hUaW1lc3RhbXAgPSAvWystXT9cXGQrKFxcLlxcZHsxLDN9KT8vLCAvLyAxMjM0NTY3ODkgMTIzNDU2Nzg5LjEyM1xuICAgICAgICAvLyBhbnkgd29yZCAob3IgdHdvKSBjaGFyYWN0ZXJzIG9yIG51bWJlcnMgaW5jbHVkaW5nIHR3by90aHJlZSB3b3JkIG1vbnRoIGluIGFyYWJpYy5cbiAgICAgICAgLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xuICAgICAgICBtYXRjaFdvcmQgPSAvWzAtOV17MCwyNTZ9WydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGMDdcXHVGRjEwLVxcdUZGRUZdezEsMjU2fXxbXFx1MDYwMC1cXHUwNkZGXFwvXXsxLDI1Nn0oXFxzKj9bXFx1MDYwMC1cXHUwNkZGXXsxLDI1Nn0pezEsMn0vaSxcbiAgICAgICAgcmVnZXhlcztcblxuICAgIHJlZ2V4ZXMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4odG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuICAgICAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpXG4gICAgICAgICAgICA/IHJlZ2V4XG4gICAgICAgICAgICA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzU3RyaWN0ICYmIHN0cmljdFJlZ2V4ID8gc3RyaWN0UmVnZXggOiByZWdleDtcbiAgICAgICAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykge1xuICAgICAgICBpZiAoIWhhc093blByb3AocmVnZXhlcywgdG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZ2V4ZXNbdG9rZW5dKGNvbmZpZy5fc3RyaWN0LCBjb25maWcuX2xvY2FsZSk7XG4gICAgfVxuXG4gICAgLy8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuICAgIGZ1bmN0aW9uIHVuZXNjYXBlRm9ybWF0KHMpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4RXNjYXBlKFxuICAgICAgICAgICAgc1xuICAgICAgICAgICAgICAgIC5yZXBsYWNlKCdcXFxcJywgJycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwoXFxbKXxcXFxcKFxcXSl8XFxbKFteXFxdXFxbXSopXFxdfFxcXFwoLikvZywgZnVuY3Rpb24gKFxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkLFxuICAgICAgICAgICAgICAgICAgICBwMSxcbiAgICAgICAgICAgICAgICAgICAgcDIsXG4gICAgICAgICAgICAgICAgICAgIHAzLFxuICAgICAgICAgICAgICAgICAgICBwNFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcDEgfHwgcDIgfHwgcDMgfHwgcDQ7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWdleEVzY2FwZShzKSB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xuICAgIH1cblxuICAgIHZhciB0b2tlbnMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4odG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgZnVuYyA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdG9rZW4gPSBbdG9rZW5dO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc051bWJlcihjYWxsYmFjaykpIHtcbiAgICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbY2FsbGJhY2tdID0gdG9JbnQoaW5wdXQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4odG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgICAgIGNvbmZpZy5fdyA9IGNvbmZpZy5fdyB8fCB7fTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGlucHV0LCBjb25maWcuX3csIGNvbmZpZywgdG9rZW4pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgaW5wdXQsIGNvbmZpZykge1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCAmJiBoYXNPd25Qcm9wKHRva2VucywgdG9rZW4pKSB7XG4gICAgICAgICAgICB0b2tlbnNbdG9rZW5dKGlucHV0LCBjb25maWcuX2EsIGNvbmZpZywgdG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIFlFQVIgPSAwLFxuICAgICAgICBNT05USCA9IDEsXG4gICAgICAgIERBVEUgPSAyLFxuICAgICAgICBIT1VSID0gMyxcbiAgICAgICAgTUlOVVRFID0gNCxcbiAgICAgICAgU0VDT05EID0gNSxcbiAgICAgICAgTUlMTElTRUNPTkQgPSA2LFxuICAgICAgICBXRUVLID0gNyxcbiAgICAgICAgV0VFS0RBWSA9IDg7XG5cbiAgICBmdW5jdGlvbiBtb2QobiwgeCkge1xuICAgICAgICByZXR1cm4gKChuICUgeCkgKyB4KSAlIHg7XG4gICAgfVxuXG4gICAgdmFyIGluZGV4T2Y7XG5cbiAgICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICAgICAgaW5kZXhPZiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgLy8gSSBrbm93XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IG8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgICAgIGlmIChpc05hTih5ZWFyKSB8fCBpc05hTihtb250aCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1vZE1vbnRoID0gbW9kKG1vbnRoLCAxMik7XG4gICAgICAgIHllYXIgKz0gKG1vbnRoIC0gbW9kTW9udGgpIC8gMTI7XG4gICAgICAgIHJldHVybiBtb2RNb250aCA9PT0gMVxuICAgICAgICAgICAgPyBpc0xlYXBZZWFyKHllYXIpXG4gICAgICAgICAgICAgICAgPyAyOVxuICAgICAgICAgICAgICAgIDogMjhcbiAgICAgICAgICAgIDogMzEgLSAoKG1vZE1vbnRoICUgNykgJSAyKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignTScsIFsnTU0nLCAyXSwgJ01vJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb250aCgpICsgMTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdNTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHNTaG9ydCh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ01NTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHModGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnbW9udGgnLCAnTScpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnbW9udGgnLCA4KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ00nLCBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NTScsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubW9udGhzU2hvcnRSZWdleChpc1N0cmljdCk7XG4gICAgfSk7XG4gICAgYWRkUmVnZXhUb2tlbignTU1NTScsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubW9udGhzUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ00nLCAnTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtNT05USF0gPSB0b0ludChpbnB1dCkgLSAxO1xuICAgIH0pO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ01NTScsICdNTU1NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgdmFyIG1vbnRoID0gY29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgbW9udGggbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkLlxuICAgICAgICBpZiAobW9udGggIT0gbnVsbCkge1xuICAgICAgICAgICAgYXJyYXlbTU9OVEhdID0gbW9udGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkTW9udGggPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTE9DQUxFU1xuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVNb250aHMgPSAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoXG4gICAgICAgICAgICAnXydcbiAgICAgICAgKSxcbiAgICAgICAgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdChcbiAgICAgICAgICAgICdfJ1xuICAgICAgICApLFxuICAgICAgICBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vLFxuICAgICAgICBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZCxcbiAgICAgICAgZGVmYXVsdE1vbnRoc1JlZ2V4ID0gbWF0Y2hXb3JkO1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzKG0sIGZvcm1hdCkge1xuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocylcbiAgICAgICAgICAgICAgICA/IHRoaXMuX21vbnRoc1xuICAgICAgICAgICAgICAgIDogdGhpcy5fbW9udGhzWydzdGFuZGFsb25lJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKVxuICAgICAgICAgICAgPyB0aGlzLl9tb250aHNbbS5tb250aCgpXVxuICAgICAgICAgICAgOiB0aGlzLl9tb250aHNbXG4gICAgICAgICAgICAgICAgICAodGhpcy5fbW9udGhzLmlzRm9ybWF0IHx8IE1PTlRIU19JTl9GT1JNQVQpLnRlc3QoZm9ybWF0KVxuICAgICAgICAgICAgICAgICAgICAgID8gJ2Zvcm1hdCdcbiAgICAgICAgICAgICAgICAgICAgICA6ICdzdGFuZGFsb25lJ1xuICAgICAgICAgICAgICBdW20ubW9udGgoKV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzU2hvcnQobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9tb250aHNTaG9ydFxuICAgICAgICAgICAgICAgIDogdGhpcy5fbW9udGhzU2hvcnRbJ3N0YW5kYWxvbmUnXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydClcbiAgICAgICAgICAgID8gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXVxuICAgICAgICAgICAgOiB0aGlzLl9tb250aHNTaG9ydFtcbiAgICAgICAgICAgICAgICAgIE1PTlRIU19JTl9GT1JNQVQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSdcbiAgICAgICAgICAgICAgXVttLm1vbnRoKCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBpaSxcbiAgICAgICAgICAgIG1vbSxcbiAgICAgICAgICAgIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KFxuICAgICAgICAgICAgICAgICAgICBtb20sXG4gICAgICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZU1vbnRoc1BhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxuICAgICAgICAvLyBzZWUgc29ydGluZyBpbiBjb21wdXRlTW9udGhzUGFyc2VcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLFxuICAgICAgICAgICAgICAgICAgICAnaSdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsXG4gICAgICAgICAgICAgICAgICAgICdpJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9XG4gICAgICAgICAgICAgICAgICAgICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHN0cmljdCAmJlxuICAgICAgICAgICAgICAgIGZvcm1hdCA9PT0gJ01NTU0nICYmXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIHN0cmljdCAmJlxuICAgICAgICAgICAgICAgIGZvcm1hdCA9PT0gJ01NTScgJiZcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBzZXRNb250aChtb20sIHZhbHVlKSB7XG4gICAgICAgIHZhciBkYXlPZk1vbnRoO1xuXG4gICAgICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogQW5vdGhlciBzaWxlbnQgZmFpbHVyZT9cbiAgICAgICAgICAgICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRheU9mTW9udGggPSBNYXRoLm1pbihtb20uZGF0ZSgpLCBkYXlzSW5Nb250aChtb20ueWVhcigpLCB2YWx1ZSkpO1xuICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuICAgICAgICByZXR1cm4gbW9tO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldE1vbnRoKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCgpIHtcbiAgICAgICAgcmV0dXJuIGRheXNJbk1vbnRoKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0XG4gICAgICAgICAgICAgICAgPyB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4XG4gICAgICAgICAgICAgICAgOiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9udGhzUmVnZXgoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gZGVmYXVsdE1vbnRoc1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0XG4gICAgICAgICAgICAgICAgPyB0aGlzLl9tb250aHNTdHJpY3RSZWdleFxuICAgICAgICAgICAgICAgIDogdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wdXRlTW9udGhzUGFyc2UoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaG9ydFBpZWNlcyA9IFtdLFxuICAgICAgICAgICAgbG9uZ1BpZWNlcyA9IFtdLFxuICAgICAgICAgICAgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBtb207XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgICAgIGxvbmdQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgICAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJyxcbiAgICAgICAgICAgICdpJ1xuICAgICAgICApO1xuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsXG4gICAgICAgICAgICAnaSdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignWScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnllYXIoKTtcbiAgICAgICAgcmV0dXJuIHkgPD0gOTk5OSA/IHplcm9GaWxsKHksIDQpIDogJysnICsgeTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCA0XSwgMCwgJ3llYXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgNV0sIDAsICd5ZWFyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbiAgICAvLyBQUklPUklUSUVTXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3llYXInLCAxKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1knLCBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignWVknLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignWVlZWScsIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWScsIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWVknLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W1lFQVJdID1cbiAgICAgICAgICAgIGlucHV0Lmxlbmd0aCA9PT0gMiA/IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KSA6IHRvSW50KGlucHV0KTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbWUVBUl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbWUVBUl0gPSBwYXJzZUludChpbnB1dCwgMTApO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7XG4gICAgICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xuICAgIH1cblxuICAgIC8vIEhPT0tTXG5cbiAgICBob29rcy5wYXJzZVR3b0RpZ2l0WWVhciA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gdG9JbnQoaW5wdXQpICsgKHRvSW50KGlucHV0KSA+IDY4ID8gMTkwMCA6IDIwMDApO1xuICAgIH07XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0WWVhciA9IG1ha2VHZXRTZXQoJ0Z1bGxZZWFyJywgdHJ1ZSk7XG5cbiAgICBmdW5jdGlvbiBnZXRJc0xlYXBZZWFyKCkge1xuICAgICAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcykge1xuICAgICAgICAvLyBjYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzE4MTM0OFxuICAgICAgICB2YXIgZGF0ZTtcbiAgICAgICAgLy8gdGhlIGRhdGUgY29uc3RydWN0b3IgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCkge1xuICAgICAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh5ICsgNDAwLCBtLCBkLCBoLCBNLCBzLCBtcyk7XG4gICAgICAgICAgICBpZiAoaXNGaW5pdGUoZGF0ZS5nZXRGdWxsWWVhcigpKSkge1xuICAgICAgICAgICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgTSwgcywgbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSh5KSB7XG4gICAgICAgIHZhciBkYXRlLCBhcmdzO1xuICAgICAgICAvLyB0aGUgRGF0ZS5VVEMgZnVuY3Rpb24gcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCkge1xuICAgICAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxuICAgICAgICAgICAgYXJnc1swXSA9IHkgKyA0MDA7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJncykpO1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbiAgICBmdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuICAgICAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2RcbiAgICAgICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblxuICAgICAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbiAgICB9XG5cbiAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlI0NhbGN1bGF0aW5nX2FfZGF0ZV9naXZlbl90aGVfeWVhci4yQ193ZWVrX251bWJlcl9hbmRfd2Vla2RheVxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgICAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgICAgICB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXG4gICAgICAgICAgICByZXNZZWFyLFxuICAgICAgICAgICAgcmVzRGF5T2ZZZWFyO1xuXG4gICAgICAgIGlmIChkYXlPZlllYXIgPD0gMCkge1xuICAgICAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuICAgICAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5c0luWWVhcihyZXNZZWFyKSArIGRheU9mWWVhcjtcbiAgICAgICAgfSBlbHNlIGlmIChkYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXIpKSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXIgLSBkYXlzSW5ZZWFyKHllYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzWWVhciA9IHllYXI7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcjogcmVzWWVhcixcbiAgICAgICAgICAgIGRheU9mWWVhcjogcmVzRGF5T2ZZZWFyLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdlZWtPZlllYXIobW9tLCBkb3csIGRveSkge1xuICAgICAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldChtb20ueWVhcigpLCBkb3csIGRveSksXG4gICAgICAgICAgICB3ZWVrID0gTWF0aC5mbG9vcigobW9tLmRheU9mWWVhcigpIC0gd2Vla09mZnNldCAtIDEpIC8gNykgKyAxLFxuICAgICAgICAgICAgcmVzV2VlayxcbiAgICAgICAgICAgIHJlc1llYXI7XG5cbiAgICAgICAgaWYgKHdlZWsgPCAxKSB7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZWVrID4gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpKSB7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2VlazogcmVzV2VlayxcbiAgICAgICAgICAgIHllYXI6IHJlc1llYXIsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcbiAgICAgICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ1cnLCBbJ1dXJywgMl0sICdXbycsICdpc29XZWVrJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XG5cbiAgICAvLyBQUklPUklUSUVTXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3dlZWsnLCA1KTtcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWsnLCA1KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3cnLCBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1cnLCBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1dXJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWyd3JywgJ3d3JywgJ1cnLCAnV1cnXSwgZnVuY3Rpb24gKFxuICAgICAgICBpbnB1dCxcbiAgICAgICAgd2VlayxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICB0b2tlblxuICAgICkge1xuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrKG1vbSkge1xuICAgICAgICByZXR1cm4gd2Vla09mWWVhcihtb20sIHRoaXMuX3dlZWsuZG93LCB0aGlzLl93ZWVrLmRveSkud2VlaztcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWsgPSB7XG4gICAgICAgIGRvdzogMCwgLy8gU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG4gICAgICAgIGRveTogNiwgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gNnRoIGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWsuZG93O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZZZWFyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0V2VlayhpbnB1dCkge1xuICAgICAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09XZWVrKGlucHV0KSB7XG4gICAgICAgIHZhciB3ZWVrID0gd2Vla09mWWVhcih0aGlzLCAxLCA0KS53ZWVrO1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2QnLCAwLCAnZG8nLCAnZGF5Jyk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c01pbih0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzU2hvcnQodGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXModGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdlJywgMCwgMCwgJ3dlZWtkYXknKTtcbiAgICBhZGRGb3JtYXRUb2tlbignRScsIDAsIDAsICdpc29XZWVrZGF5Jyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ2RheScsICdkJyk7XG4gICAgYWRkVW5pdEFsaWFzKCd3ZWVrZGF5JywgJ2UnKTtcbiAgICBhZGRVbml0QWxpYXMoJ2lzb1dlZWtkYXknLCAnRScpO1xuXG4gICAgLy8gUFJJT1JJVFlcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2RheScsIDExKTtcbiAgICBhZGRVbml0UHJpb3JpdHkoJ3dlZWtkYXknLCAxMSk7XG4gICAgYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrZGF5JywgMTEpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignZCcsIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignZScsIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignRScsIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignZGQnLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzTWluUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZCcsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcbiAgICBhZGRSZWdleFRva2VuKCdkZGRkJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1JlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZGQnLCAnZGRkJywgJ2RkZGQnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHZhciB3ZWVrZGF5ID0gY29uZmlnLl9sb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICAgICAgLy8gaWYgd2UgZGlkbid0IGdldCBhIHdlZWtkYXkgbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkXG4gICAgICAgIGlmICh3ZWVrZGF5ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHdlZWsuZCA9IHdlZWtkYXk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkV2Vla2RheSA9IGlucHV0O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2QnLCAnZScsICdFJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuXSA9IHRvSW50KGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIGZ1bmN0aW9uIHBhcnNlV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzTmFOKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpbnB1dCA9IGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlSXNvV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpICUgNyB8fCA3O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc05hTihpbnB1dCkgPyBudWxsIDogaW5wdXQ7XG4gICAgfVxuXG4gICAgLy8gTE9DQUxFU1xuICAgIGZ1bmN0aW9uIHNoaWZ0V2Vla2RheXMod3MsIG4pIHtcbiAgICAgICAgcmV0dXJuIHdzLnNsaWNlKG4sIDcpLmNvbmNhdCh3cy5zbGljZSgwLCBuKSk7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoXG4gICAgICAgICAgICAnXydcbiAgICAgICAgKSxcbiAgICAgICAgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpLFxuICAgICAgICBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyksXG4gICAgICAgIGRlZmF1bHRXZWVrZGF5c1JlZ2V4ID0gbWF0Y2hXb3JkLFxuICAgICAgICBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkLFxuICAgICAgICBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcblxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzKG0sIGZvcm1hdCkge1xuICAgICAgICB2YXIgd2Vla2RheXMgPSBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKVxuICAgICAgICAgICAgPyB0aGlzLl93ZWVrZGF5c1xuICAgICAgICAgICAgOiB0aGlzLl93ZWVrZGF5c1tcbiAgICAgICAgICAgICAgICAgIG0gJiYgbSAhPT0gdHJ1ZSAmJiB0aGlzLl93ZWVrZGF5cy5pc0Zvcm1hdC50ZXN0KGZvcm1hdClcbiAgICAgICAgICAgICAgICAgICAgICA/ICdmb3JtYXQnXG4gICAgICAgICAgICAgICAgICAgICAgOiAnc3RhbmRhbG9uZSdcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG0gPT09IHRydWVcbiAgICAgICAgICAgID8gc2hpZnRXZWVrZGF5cyh3ZWVrZGF5cywgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgICAgICA6IG1cbiAgICAgICAgICAgID8gd2Vla2RheXNbbS5kYXkoKV1cbiAgICAgICAgICAgIDogd2Vla2RheXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNTaG9ydChtKSB7XG4gICAgICAgIHJldHVybiBtID09PSB0cnVlXG4gICAgICAgICAgICA/IHNoaWZ0V2Vla2RheXModGhpcy5fd2Vla2RheXNTaG9ydCwgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgICAgICA6IG1cbiAgICAgICAgICAgID8gdGhpcy5fd2Vla2RheXNTaG9ydFttLmRheSgpXVxuICAgICAgICAgICAgOiB0aGlzLl93ZWVrZGF5c1Nob3J0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluKG0pIHtcbiAgICAgICAgcmV0dXJuIG0gPT09IHRydWVcbiAgICAgICAgICAgID8gc2hpZnRXZWVrZGF5cyh0aGlzLl93ZWVrZGF5c01pbiwgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgICAgICA6IG1cbiAgICAgICAgICAgID8gdGhpcy5fd2Vla2RheXNNaW5bbS5kYXkoKV1cbiAgICAgICAgICAgIDogdGhpcy5fd2Vla2RheXNNaW47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UkMSh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBpaSxcbiAgICAgICAgICAgIG1vbSxcbiAgICAgICAgICAgIGxsYyA9IHdlZWtkYXlOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyArK2kpIHtcbiAgICAgICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNNaW4oXG4gICAgICAgICAgICAgICAgICAgIG1vbSxcbiAgICAgICAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgICAgICApLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KFxuICAgICAgICAgICAgICAgICAgICBtb20sXG4gICAgICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1BhcnNlKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICAgICAgJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcXFwuPycpICsgJyQnLFxuICAgICAgICAgICAgICAgICAgICAnaSdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAgICAgICAgICdeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcXFwuPycpICsgJyQnLFxuICAgICAgICAgICAgICAgICAgICAnaSdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsXG4gICAgICAgICAgICAgICAgICAgICdpJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9XG4gICAgICAgICAgICAgICAgICAgICdeJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2Vla2RheXMobW9tLCAnJykgK1xuICAgICAgICAgICAgICAgICAgICAnfF4nICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICtcbiAgICAgICAgICAgICAgICAgICAgJ3xeJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3RyaWN0ICYmXG4gICAgICAgICAgICAgICAgZm9ybWF0ID09PSAnZGRkZCcgJiZcbiAgICAgICAgICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIHN0cmljdCAmJlxuICAgICAgICAgICAgICAgIGZvcm1hdCA9PT0gJ2RkZCcgJiZcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBzdHJpY3QgJiZcbiAgICAgICAgICAgICAgICBmb3JtYXQgPT09ICdkZCcgJiZcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZldlZWsoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXkgPSB0aGlzLl9pc1VUQyA/IHRoaXMuX2QuZ2V0VVRDRGF5KCkgOiB0aGlzLl9kLmdldERheSgpO1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZChpbnB1dCAtIGRheSwgJ2QnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3ZWVrZGF5ID0gKHRoaXMuZGF5KCkgKyA3IC0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSAlIDc7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuICAgICAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuICAgICAgICAvLyBhcyBhIHNldHRlciwgc3VuZGF5IHNob3VsZCBiZWxvbmcgdG8gdGhlIHByZXZpb3VzIHdlZWsuXG5cbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXkodGhpcy5kYXkoKSAlIDcgPyB3ZWVrZGF5IDogd2Vla2RheSAtIDcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdlZWtkYXlzUmVnZXgoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0XG4gICAgICAgICAgICAgICAgPyB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4XG4gICAgICAgICAgICAgICAgOiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdFxuICAgICAgICAgICAgICAgID8gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4XG4gICAgICAgICAgICAgICAgOiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c01pblJlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCAmJiBpc1N0cmljdFxuICAgICAgICAgICAgICAgID8gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleFxuICAgICAgICAgICAgICAgIDogdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVXZWVrZGF5c1BhcnNlKCkge1xuICAgICAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWluUGllY2VzID0gW10sXG4gICAgICAgICAgICBzaG9ydFBpZWNlcyA9IFtdLFxuICAgICAgICAgICAgbG9uZ1BpZWNlcyA9IFtdLFxuICAgICAgICAgICAgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBtb20sXG4gICAgICAgICAgICBtaW5wLFxuICAgICAgICAgICAgc2hvcnRwLFxuICAgICAgICAgICAgbG9uZ3A7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgbWlucCA9IHJlZ2V4RXNjYXBlKHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykpO1xuICAgICAgICAgICAgc2hvcnRwID0gcmVnZXhFc2NhcGUodGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgICAgIGxvbmdwID0gcmVnZXhFc2NhcGUodGhpcy53ZWVrZGF5cyhtb20sICcnKSk7XG4gICAgICAgICAgICBtaW5QaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgICAgIHNob3J0UGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgICAgIGxvbmdQaWVjZXMucHVzaChsb25ncCk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKG1pbnApO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChsb25ncCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSB3ZWVrZGF5IChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cbiAgICAgICAgbWluUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgICAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLFxuICAgICAgICAgICAgJ2knXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLFxuICAgICAgICAgICAgJ2knXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgJ14oJyArIG1pblBpZWNlcy5qb2luKCd8JykgKyAnKScsXG4gICAgICAgICAgICAnaSdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBmdW5jdGlvbiBoRm9ybWF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ga0Zvcm1hdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcbiAgICB9XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ2snLCBbJ2trJywgMl0sIDAsIGtGb3JtYXQpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdobW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICcnICtcbiAgICAgICAgICAgIGhGb3JtYXQuYXBwbHkodGhpcykgK1xuICAgICAgICAgICAgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKVxuICAgICAgICApO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgJycgK1xuICAgICAgICAgICAgdGhpcy5ob3VycygpICtcbiAgICAgICAgICAgIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMilcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIG1lcmlkaWVtKHRva2VuLCBsb3dlcmNhc2UpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbShcbiAgICAgICAgICAgICAgICB0aGlzLmhvdXJzKCksXG4gICAgICAgICAgICAgICAgdGhpcy5taW51dGVzKCksXG4gICAgICAgICAgICAgICAgbG93ZXJjYXNlXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtZXJpZGllbSgnYScsIHRydWUpO1xuICAgIG1lcmlkaWVtKCdBJywgZmFsc2UpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdob3VyJywgJ2gnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdob3VyJywgMTMpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgZnVuY3Rpb24gbWF0Y2hNZXJpZGllbShpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG4gICAgfVxuXG4gICAgYWRkUmVnZXhUb2tlbignYScsIG1hdGNoTWVyaWRpZW0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0EnLCBtYXRjaE1lcmlkaWVtKTtcbiAgICBhZGRSZWdleFRva2VuKCdIJywgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdoJywgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdrJywgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdISCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdoaCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdraycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG4gICAgYWRkUmVnZXhUb2tlbignaG1tc3MnLCBtYXRjaDV0bzYpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0htbScsIG1hdGNoM3RvNCk7XG4gICAgYWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ0gnLCAnSEgnXSwgSE9VUik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ2snLCAna2snXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBrSW5wdXQgPSB0b0ludChpbnB1dCk7XG4gICAgICAgIGFycmF5W0hPVVJdID0ga0lucHV0ID09PSAyNCA/IDAgOiBrSW5wdXQ7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9pc1BtID0gY29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7XG4gICAgICAgIGNvbmZpZy5fbWVyaWRpZW0gPSBpbnB1dDtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnaCcsICdoaCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dCk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ2htbScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zKSk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ2htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNCxcbiAgICAgICAgICAgIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgICAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignSG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQsXG4gICAgICAgICAgICBwb3MyID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICAgICAgYXJyYXlbU0VDT05EXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MyKSk7XG4gICAgfSk7XG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVJc1BNKGlucHV0KSB7XG4gICAgICAgIC8vIElFOCBRdWlya3MgTW9kZSAmIElFNyBTdGFuZGFyZHMgTW9kZSBkbyBub3QgYWxsb3cgYWNjZXNzaW5nIHN0cmluZ3MgbGlrZSBhcnJheXNcbiAgICAgICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG4gICAgICAgIHJldHVybiAoaW5wdXQgKyAnJykudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCkgPT09ICdwJztcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaSxcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgaG91ciBzaG91bGQga2VlcCB0aGUgdGltZSwgYmVjYXVzZSB0aGUgdXNlciBleHBsaWNpdGx5XG4gICAgICAgIC8vIHNwZWNpZmllZCB3aGljaCBob3VyIHRoZXkgd2FudC4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG4gICAgICAgIC8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xuICAgICAgICAvLyB0aGlzIHJ1bGUuXG4gICAgICAgIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlTWVyaWRpZW0oaG91cnMsIG1pbnV0ZXMsIGlzTG93ZXIpIHtcbiAgICAgICAgaWYgKGhvdXJzID4gMTEpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGJhc2VDb25maWcgPSB7XG4gICAgICAgIGNhbGVuZGFyOiBkZWZhdWx0Q2FsZW5kYXIsXG4gICAgICAgIGxvbmdEYXRlRm9ybWF0OiBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQsXG4gICAgICAgIGludmFsaWREYXRlOiBkZWZhdWx0SW52YWxpZERhdGUsXG4gICAgICAgIG9yZGluYWw6IGRlZmF1bHRPcmRpbmFsLFxuICAgICAgICBkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOiBkZWZhdWx0RGF5T2ZNb250aE9yZGluYWxQYXJzZSxcbiAgICAgICAgcmVsYXRpdmVUaW1lOiBkZWZhdWx0UmVsYXRpdmVUaW1lLFxuXG4gICAgICAgIG1vbnRoczogZGVmYXVsdExvY2FsZU1vbnRocyxcbiAgICAgICAgbW9udGhzU2hvcnQ6IGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCxcblxuICAgICAgICB3ZWVrOiBkZWZhdWx0TG9jYWxlV2VlayxcblxuICAgICAgICB3ZWVrZGF5czogZGVmYXVsdExvY2FsZVdlZWtkYXlzLFxuICAgICAgICB3ZWVrZGF5c01pbjogZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluLFxuICAgICAgICB3ZWVrZGF5c1Nob3J0OiBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCxcblxuICAgICAgICBtZXJpZGllbVBhcnNlOiBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSxcbiAgICB9O1xuXG4gICAgLy8gaW50ZXJuYWwgc3RvcmFnZSBmb3IgbG9jYWxlIGNvbmZpZyBmaWxlc1xuICAgIHZhciBsb2NhbGVzID0ge30sXG4gICAgICAgIGxvY2FsZUZhbWlsaWVzID0ge30sXG4gICAgICAgIGdsb2JhbExvY2FsZTtcblxuICAgIGZ1bmN0aW9uIGNvbW1vblByZWZpeChhcnIxLCBhcnIyKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgbWlubCA9IE1hdGgubWluKGFycjEubGVuZ3RoLCBhcnIyLmxlbmd0aCk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBtaW5sOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGlmIChhcnIxW2ldICE9PSBhcnIyW2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbmw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5ID8ga2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnXycsICctJykgOiBrZXk7XG4gICAgfVxuXG4gICAgLy8gcGljayB0aGUgbG9jYWxlIGZyb20gdGhlIGFycmF5XG4gICAgLy8gdHJ5IFsnZW4tYXUnLCAnZW4tZ2InXSBhcyAnZW4tYXUnLCAnZW4tZ2InLCAnZW4nLCBhcyBpbiBtb3ZlIHRocm91Z2ggdGhlIGxpc3QgdHJ5aW5nIGVhY2hcbiAgICAvLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG4gICAgZnVuY3Rpb24gY2hvb3NlTG9jYWxlKG5hbWVzKSB7XG4gICAgICAgIHZhciBpID0gMCxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBuZXh0LFxuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgc3BsaXQ7XG5cbiAgICAgICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpO1xuICAgICAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcbiAgICAgICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcbiAgICAgICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDtcbiAgICAgICAgICAgIHdoaWxlIChqID4gMCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgbmV4dCAmJlxuICAgICAgICAgICAgICAgICAgICBuZXh0Lmxlbmd0aCA+PSBqICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vblByZWZpeChzcGxpdCwgbmV4dCkgPj0gaiAtIDFcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG4gICAgICAgIHZhciBvbGRMb2NhbGUgPSBudWxsLFxuICAgICAgICAgICAgYWxpYXNlZFJlcXVpcmU7XG4gICAgICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgIG1vZHVsZSAmJlxuICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHNcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9sZExvY2FsZSA9IGdsb2JhbExvY2FsZS5fYWJicjtcbiAgICAgICAgICAgICAgICBhbGlhc2VkUmVxdWlyZSA9IHJlcXVpcmU7XG4gICAgICAgICAgICAgICAgYWxpYXNlZFJlcXVpcmUoJy4vbG9jYWxlLycgKyBuYW1lKTtcbiAgICAgICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUob2xkTG9jYWxlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBtYXJrIGFzIG5vdCBmb3VuZCB0byBhdm9pZCByZXBlYXRpbmcgZXhwZW5zaXZlIGZpbGUgcmVxdWlyZSBjYWxsIGNhdXNpbmcgaGlnaCBDUFVcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRyeWluZyB0byBmaW5kIGVuLVVTLCBlbl9VUywgZW4tdXMgZm9yIGV2ZXJ5IGZvcm1hdCBjYWxsXG4gICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG51bGw7IC8vIG51bGwgbWVhbnMgbm90IGZvdW5kXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG4gICAgLy8gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQgaW4sIGl0IHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBnbG9iYWxcbiAgICAvLyBsb2NhbGUga2V5LlxuICAgIGZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZShrZXksIHZhbHVlcykge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBkZWZpbmVMb2NhbGUoa2V5LCB2YWx1ZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlID0gbW9tZW50Ll9sb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vd2FybiB1c2VyIGlmIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGJ1dCB0aGUgbG9jYWxlIGNvdWxkIG5vdCBiZSBzZXRcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0xvY2FsZSAnICsga2V5ICsgJyBub3QgZm91bmQuIERpZCB5b3UgZm9yZ2V0IHRvIGxvYWQgaXQ/J1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmaW5lTG9jYWxlKG5hbWUsIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbG9jYWxlLFxuICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgICAgICBjb25maWcuYWJiciA9IG5hbWU7XG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKFxuICAgICAgICAgICAgICAgICAgICAnZGVmaW5lTG9jYWxlT3ZlcnJpZGUnLFxuICAgICAgICAgICAgICAgICAgICAndXNlIG1vbWVudC51cGRhdGVMb2NhbGUobG9jYWxlTmFtZSwgY29uZmlnKSB0byBjaGFuZ2UgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYW4gZXhpc3RpbmcgbG9jYWxlLiBtb21lbnQuZGVmaW5lTG9jYWxlKGxvY2FsZU5hbWUsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RlZmluZS1sb2NhbGUvIGZvciBtb3JlIGluZm8uJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0uX2NvbmZpZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKGNvbmZpZy5wYXJlbnRMb2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZS5fY29uZmlnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBuZXcgTG9jYWxlKG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZykpO1xuXG4gICAgICAgICAgICBpZiAobG9jYWxlRmFtaWxpZXNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluZUxvY2FsZSh4Lm5hbWUsIHguY29uZmlnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2Ugc2V0IHRoZSBsb2NhbGUgQUZURVIgYWxsIGNoaWxkIGxvY2FsZXMgaGF2ZSBiZWVuXG4gICAgICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cbiAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVMb2NhbGUobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxvY2FsZSxcbiAgICAgICAgICAgICAgICB0bXBMb2NhbGUsXG4gICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcblxuICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCAmJiBsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGNoaWxkIGxvY2FsZSBpbi1wbGFjZSB0byBhdm9pZCBtZW1vcnktbGVha3NcbiAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdLnNldChtZXJnZUNvbmZpZ3MobG9jYWxlc1tuYW1lXS5fY29uZmlnLCBjb25maWcpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTUVSR0VcbiAgICAgICAgICAgICAgICB0bXBMb2NhbGUgPSBsb2FkTG9jYWxlKG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0bXBMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSB0bXBMb2NhbGUuX2NvbmZpZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uZmlnID0gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKTtcbiAgICAgICAgICAgICAgICBpZiAodG1wTG9jYWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlTG9jYWxlIGlzIGNhbGxlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlXG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBhYmJyIHNvIGl0IHdpbGwgaGF2ZSBhIG5hbWUgKGdldHRlcnMgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVuZGVmaW5lZCBvdGhlcndpc2UpLlxuICAgICAgICAgICAgICAgICAgICBjb25maWcuYWJiciA9IG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvY2FsZSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcbiAgICAgICAgICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHBhc3MgbnVsbCBmb3IgY29uZmlnIHRvIHVudXBkYXRlLCB1c2VmdWwgZm9yIHRlc3RzXG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gZ2V0U2V0R2xvYmFsTG9jYWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm5zIGxvY2FsZSBkYXRhXG4gICAgZnVuY3Rpb24gZ2V0TG9jYWxlKGtleSkge1xuICAgICAgICB2YXIgbG9jYWxlO1xuXG4gICAgICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAgICAgIGtleSA9IGtleS5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgICAgLy9zaG9ydC1jaXJjdWl0IGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXkgPSBba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaG9vc2VMb2NhbGUoa2V5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0TG9jYWxlcygpIHtcbiAgICAgICAgcmV0dXJuIGtleXMobG9jYWxlcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyhtKSB7XG4gICAgICAgIHZhciBvdmVyZmxvdyxcbiAgICAgICAgICAgIGEgPSBtLl9hO1xuXG4gICAgICAgIGlmIChhICYmIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9PT0gLTIpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID1cbiAgICAgICAgICAgICAgICBhW01PTlRIXSA8IDAgfHwgYVtNT05USF0gPiAxMVxuICAgICAgICAgICAgICAgICAgICA/IE1PTlRIXG4gICAgICAgICAgICAgICAgICAgIDogYVtEQVRFXSA8IDEgfHwgYVtEQVRFXSA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKVxuICAgICAgICAgICAgICAgICAgICA/IERBVEVcbiAgICAgICAgICAgICAgICAgICAgOiBhW0hPVVJdIDwgMCB8fFxuICAgICAgICAgICAgICAgICAgICAgIGFbSE9VUl0gPiAyNCB8fFxuICAgICAgICAgICAgICAgICAgICAgIChhW0hPVVJdID09PSAyNCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoYVtNSU5VVEVdICE9PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW1NFQ09ORF0gIT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdICE9PSAwKSlcbiAgICAgICAgICAgICAgICAgICAgPyBIT1VSXG4gICAgICAgICAgICAgICAgICAgIDogYVtNSU5VVEVdIDwgMCB8fCBhW01JTlVURV0gPiA1OVxuICAgICAgICAgICAgICAgICAgICA/IE1JTlVURVxuICAgICAgICAgICAgICAgICAgICA6IGFbU0VDT05EXSA8IDAgfHwgYVtTRUNPTkRdID4gNTlcbiAgICAgICAgICAgICAgICAgICAgPyBTRUNPTkRcbiAgICAgICAgICAgICAgICAgICAgOiBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTlcbiAgICAgICAgICAgICAgICAgICAgPyBNSUxMSVNFQ09ORFxuICAgICAgICAgICAgICAgICAgICA6IC0xO1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd0RheU9mWWVhciAmJlxuICAgICAgICAgICAgICAgIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIC8vIGlzbyA4NjAxIHJlZ2V4XG4gICAgLy8gMDAwMC0wMC0wMCAwMDAwLVcwMCBvciAwMDAwLVcwMC0wICsgVCArIDAwIG9yIDAwOjAwIG9yIDAwOjAwOjAwIG9yIDAwOjAwOjAwLjAwMCArICswMDowMCBvciArMDAwMCBvciArMDApXG4gICAgdmFyIGV4dGVuZGVkSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pLSg/OlxcZFxcZC1cXGRcXGR8V1xcZFxcZC1cXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzo6XFxkXFxkKD86OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbKy1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLyxcbiAgICAgICAgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGR8KSkoPzooVHwgKShcXGRcXGQoPzpcXGRcXGQoPzpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoWystXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC8sXG4gICAgICAgIHR6UmVnZXggPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy8sXG4gICAgICAgIGlzb0RhdGVzID0gW1xuICAgICAgICAgICAgWydZWVlZWVktTU0tREQnLCAvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgICAgICAgICBbJ1lZWVktTU0tREQnLCAvXFxkezR9LVxcZFxcZC1cXGRcXGQvXSxcbiAgICAgICAgICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuICAgICAgICAgICAgWydHR0dHLVtXXVdXJywgL1xcZHs0fS1XXFxkXFxkLywgZmFsc2VdLFxuICAgICAgICAgICAgWydZWVlZLURERCcsIC9cXGR7NH0tXFxkezN9L10sXG4gICAgICAgICAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcbiAgICAgICAgICAgIFsnWVlZWVlZTU1ERCcsIC9bKy1dXFxkezEwfS9dLFxuICAgICAgICAgICAgWydZWVlZTU1ERCcsIC9cXGR7OH0vXSxcbiAgICAgICAgICAgIFsnR0dHR1tXXVdXRScsIC9cXGR7NH1XXFxkezN9L10sXG4gICAgICAgICAgICBbJ0dHR0dbV11XVycsIC9cXGR7NH1XXFxkezJ9LywgZmFsc2VdLFxuICAgICAgICAgICAgWydZWVlZREREJywgL1xcZHs3fS9dLFxuICAgICAgICAgICAgWydZWVlZTU0nLCAvXFxkezZ9LywgZmFsc2VdLFxuICAgICAgICAgICAgWydZWVlZJywgL1xcZHs0fS8sIGZhbHNlXSxcbiAgICAgICAgXSxcbiAgICAgICAgLy8gaXNvIHRpbWUgZm9ybWF0cyBhbmQgcmVnZXhlc1xuICAgICAgICBpc29UaW1lcyA9IFtcbiAgICAgICAgICAgIFsnSEg6bW06c3MuU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZFxcLlxcZCsvXSxcbiAgICAgICAgICAgIFsnSEg6bW06c3MsU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZCxcXGQrL10sXG4gICAgICAgICAgICBbJ0hIOm1tOnNzJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkL10sXG4gICAgICAgICAgICBbJ0hIOm1tJywgL1xcZFxcZDpcXGRcXGQvXSxcbiAgICAgICAgICAgIFsnSEhtbXNzLlNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkXFwuXFxkKy9dLFxuICAgICAgICAgICAgWydISG1tc3MsU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGQsXFxkKy9dLFxuICAgICAgICAgICAgWydISG1tc3MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkL10sXG4gICAgICAgICAgICBbJ0hIbW0nLCAvXFxkXFxkXFxkXFxkL10sXG4gICAgICAgICAgICBbJ0hIJywgL1xcZFxcZC9dLFxuICAgICAgICBdLFxuICAgICAgICBhc3BOZXRKc29uUmVnZXggPSAvXlxcLz9EYXRlXFwoKC0/XFxkKykvaSxcbiAgICAgICAgLy8gUkZDIDI4MjIgcmVnZXg6IEZvciBkZXRhaWxzIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjgyMiNzZWN0aW9uLTMuM1xuICAgICAgICByZmMyODIyID0gL14oPzooTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSw/XFxzKT8oXFxkezEsMn0pXFxzKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKVxccyhcXGR7Miw0fSlcXHMoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKSk/XFxzKD86KFVUfEdNVHxbRUNNUF1bU0RdVCl8KFtael0pfChbKy1dXFxkezR9KSkkLyxcbiAgICAgICAgb2JzT2Zmc2V0cyA9IHtcbiAgICAgICAgICAgIFVUOiAwLFxuICAgICAgICAgICAgR01UOiAwLFxuICAgICAgICAgICAgRURUOiAtNCAqIDYwLFxuICAgICAgICAgICAgRVNUOiAtNSAqIDYwLFxuICAgICAgICAgICAgQ0RUOiAtNSAqIDYwLFxuICAgICAgICAgICAgQ1NUOiAtNiAqIDYwLFxuICAgICAgICAgICAgTURUOiAtNiAqIDYwLFxuICAgICAgICAgICAgTVNUOiAtNyAqIDYwLFxuICAgICAgICAgICAgUERUOiAtNyAqIDYwLFxuICAgICAgICAgICAgUFNUOiAtOCAqIDYwLFxuICAgICAgICB9O1xuXG4gICAgLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXRcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tSVNPKGNvbmZpZykge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIGwsXG4gICAgICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgICAgICBtYXRjaCA9IGV4dGVuZGVkSXNvUmVnZXguZXhlYyhzdHJpbmcpIHx8IGJhc2ljSXNvUmVnZXguZXhlYyhzdHJpbmcpLFxuICAgICAgICAgICAgYWxsb3dUaW1lLFxuICAgICAgICAgICAgZGF0ZUZvcm1hdCxcbiAgICAgICAgICAgIHRpbWVGb3JtYXQsXG4gICAgICAgICAgICB0ekZvcm1hdDtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmlzbyA9IHRydWU7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IGlzb0RhdGVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hbMl0gc2hvdWxkIGJlICdUJyBvciBzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR6UmVnZXguZXhlYyhtYXRjaFs0XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0cmFjdEZyb21SRkMyODIyU3RyaW5ncyhcbiAgICAgICAgeWVhclN0cixcbiAgICAgICAgbW9udGhTdHIsXG4gICAgICAgIGRheVN0cixcbiAgICAgICAgaG91clN0cixcbiAgICAgICAgbWludXRlU3RyLFxuICAgICAgICBzZWNvbmRTdHJcbiAgICApIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtcbiAgICAgICAgICAgIHVudHJ1bmNhdGVZZWFyKHllYXJTdHIpLFxuICAgICAgICAgICAgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LmluZGV4T2YobW9udGhTdHIpLFxuICAgICAgICAgICAgcGFyc2VJbnQoZGF5U3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChob3VyU3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChtaW51dGVTdHIsIDEwKSxcbiAgICAgICAgXTtcblxuICAgICAgICBpZiAoc2Vjb25kU3RyKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludChzZWNvbmRTdHIsIDEwKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVudHJ1bmNhdGVZZWFyKHllYXJTdHIpIHtcbiAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludCh5ZWFyU3RyLCAxMCk7XG4gICAgICAgIGlmICh5ZWFyIDw9IDQ5KSB7XG4gICAgICAgICAgICByZXR1cm4gMjAwMCArIHllYXI7XG4gICAgICAgIH0gZWxzZSBpZiAoeWVhciA8PSA5OTkpIHtcbiAgICAgICAgICAgIHJldHVybiAxOTAwICsgeWVhcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geWVhcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwcm9jZXNzUkZDMjgyMihzKSB7XG4gICAgICAgIC8vIFJlbW92ZSBjb21tZW50cyBhbmQgZm9sZGluZyB3aGl0ZXNwYWNlIGFuZCByZXBsYWNlIG11bHRpcGxlLXNwYWNlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG4gICAgICAgIHJldHVybiBzXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwoW14pXSpcXCl8W1xcblxcdF0vZywgJyAnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhcXHNcXHMrKS9nLCAnICcpXG4gICAgICAgICAgICAucmVwbGFjZSgvXlxcc1xccyovLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHNcXHMqJC8sICcnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja1dlZWtkYXkod2Vla2RheVN0ciwgcGFyc2VkSW5wdXQsIGNvbmZpZykge1xuICAgICAgICBpZiAod2Vla2RheVN0cikge1xuICAgICAgICAgICAgLy8gVE9ETzogUmVwbGFjZSB0aGUgdmFuaWxsYSBKUyBEYXRlIG9iamVjdCB3aXRoIGFuIGluZGVwZW5kZW50IGRheS1vZi13ZWVrIGNoZWNrLlxuICAgICAgICAgICAgdmFyIHdlZWtkYXlQcm92aWRlZCA9IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LmluZGV4T2Yod2Vla2RheVN0ciksXG4gICAgICAgICAgICAgICAgd2Vla2RheUFjdHVhbCA9IG5ldyBEYXRlKFxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbnB1dFswXSxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5wdXRbMV0sXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZElucHV0WzJdXG4gICAgICAgICAgICAgICAgKS5nZXREYXkoKTtcbiAgICAgICAgICAgIGlmICh3ZWVrZGF5UHJvdmlkZWQgIT09IHdlZWtkYXlBY3R1YWwpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS53ZWVrZGF5TWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVPZmZzZXQob2JzT2Zmc2V0LCBtaWxpdGFyeU9mZnNldCwgbnVtT2Zmc2V0KSB7XG4gICAgICAgIGlmIChvYnNPZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnNPZmZzZXRzW29ic09mZnNldF07XG4gICAgICAgIH0gZWxzZSBpZiAobWlsaXRhcnlPZmZzZXQpIHtcbiAgICAgICAgICAgIC8vIHRoZSBvbmx5IGFsbG93ZWQgbWlsaXRhcnkgdHogaXMgWlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaG0gPSBwYXJzZUludChudW1PZmZzZXQsIDEwKSxcbiAgICAgICAgICAgICAgICBtID0gaG0gJSAxMDAsXG4gICAgICAgICAgICAgICAgaCA9IChobSAtIG0pIC8gMTAwO1xuICAgICAgICAgICAgcmV0dXJuIGggKiA2MCArIG07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRlIGFuZCB0aW1lIGZyb20gcmVmIDI4MjIgZm9ybWF0XG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHJmYzI4MjIuZXhlYyhwcmVwcm9jZXNzUkZDMjgyMihjb25maWcuX2kpKSxcbiAgICAgICAgICAgIHBhcnNlZEFycmF5O1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHBhcnNlZEFycmF5ID0gZXh0cmFjdEZyb21SRkMyODIyU3RyaW5ncyhcbiAgICAgICAgICAgICAgICBtYXRjaFs0XSxcbiAgICAgICAgICAgICAgICBtYXRjaFszXSxcbiAgICAgICAgICAgICAgICBtYXRjaFsyXSxcbiAgICAgICAgICAgICAgICBtYXRjaFs1XSxcbiAgICAgICAgICAgICAgICBtYXRjaFs2XSxcbiAgICAgICAgICAgICAgICBtYXRjaFs3XVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghY2hlY2tXZWVrZGF5KG1hdGNoWzFdLCBwYXJzZWRBcnJheSwgY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uZmlnLl9hID0gcGFyc2VkQXJyYXk7XG4gICAgICAgICAgICBjb25maWcuX3R6bSA9IGNhbGN1bGF0ZU9mZnNldChtYXRjaFs4XSwgbWF0Y2hbOV0sIG1hdGNoWzEwXSk7XG5cbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IGNyZWF0ZVVUQ0RhdGUuYXBwbHkobnVsbCwgY29uZmlnLl9hKTtcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG5cbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnJmYzI4MjIgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRlIGZyb20gMSkgQVNQLk5FVCwgMikgSVNPLCAzKSBSRkMgMjgyMiBmb3JtYXRzLCBvciA0KSBvcHRpb25hbCBmYWxsYmFjayBpZiBwYXJzaW5nIGlzbid0IHN0cmljdFxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG4gICAgICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcbiAgICAgICAgaWYgKG1hdGNoZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCttYXRjaGVkWzFdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjb25maWcuX2lzVmFsaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWdGcm9tUkZDMjgyMihjb25maWcpO1xuICAgICAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcuX3N0cmljdCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGaW5hbCBhdHRlbXB0LCB1c2UgSW5wdXQgRmFsbGJhY2tcbiAgICAgICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ3ZhbHVlIHByb3ZpZGVkIGlzIG5vdCBpbiBhIHJlY29nbml6ZWQgUkZDMjgyMiBvciBJU08gZm9ybWF0LiBtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZSgpLCAnICtcbiAgICAgICAgICAgICd3aGljaCBpcyBub3QgcmVsaWFibGUgYWNyb3NzIGFsbCBicm93c2VycyBhbmQgdmVyc2lvbnMuIE5vbiBSRkMyODIyL0lTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuICAgICAgICAgICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHJlZmVyIHRvICcgK1xuICAgICAgICAgICAgJ2h0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvanMtZGF0ZS8gZm9yIG1vcmUgaW5mby4nLFxuICAgICAgICBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShjb25maWcuX2kgKyAoY29uZmlnLl91c2VVVEMgPyAnIFVUQycgOiAnJykpO1xuICAgICAgICB9XG4gICAgKTtcblxuICAgIC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbiAgICBmdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG4gICAgICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG4gICAgICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XG4gICAgICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG5vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgbm93VmFsdWUuZ2V0VVRDTW9udGgoKSxcbiAgICAgICAgICAgICAgICBub3dWYWx1ZS5nZXRVVENEYXRlKCksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbbm93VmFsdWUuZ2V0RnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0TW9udGgoKSwgbm93VmFsdWUuZ2V0RGF0ZSgpXTtcbiAgICB9XG5cbiAgICAvLyBjb252ZXJ0IGFuIGFycmF5IHRvIGEgZGF0ZS5cbiAgICAvLyB0aGUgYXJyYXkgc2hvdWxkIG1pcnJvciB0aGUgcGFyYW1ldGVycyBiZWxvd1xuICAgIC8vIG5vdGU6IGFsbCB2YWx1ZXMgcGFzdCB0aGUgeWVhciBhcmUgb3B0aW9uYWwgYW5kIHdpbGwgZGVmYXVsdCB0byB0aGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlLlxuICAgIC8vIFt5ZWFyLCBtb250aCwgZGF5ICwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kXVxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21BcnJheShjb25maWcpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBkYXRlLFxuICAgICAgICAgICAgaW5wdXQgPSBbXSxcbiAgICAgICAgICAgIGN1cnJlbnREYXRlLFxuICAgICAgICAgICAgZXhwZWN0ZWRXZWVrZGF5LFxuICAgICAgICAgICAgeWVhclRvVXNlO1xuXG4gICAgICAgIGlmIChjb25maWcuX2QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnREYXRlID0gY3VycmVudERhdGVBcnJheShjb25maWcpO1xuXG4gICAgICAgIC8vY29tcHV0ZSBkYXkgb2YgdGhlIHllYXIgZnJvbSB3ZWVrcyBhbmQgd2Vla2RheXNcbiAgICAgICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcbiAgICAgICAgICAgIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pZiB0aGUgZGF5IG9mIHRoZSB5ZWFyIGlzIHNldCwgZmlndXJlIG91dCB3aGF0IGl0IGlzXG4gICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciAhPSBudWxsKSB7XG4gICAgICAgICAgICB5ZWFyVG9Vc2UgPSBkZWZhdWx0cyhjb25maWcuX2FbWUVBUl0sIGN1cnJlbnREYXRlW1lFQVJdKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyVG9Vc2UpIHx8XG4gICAgICAgICAgICAgICAgY29uZmlnLl9kYXlPZlllYXIgPT09IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd0RheU9mWWVhciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICAgICAgY29uZmlnLl9hW01PTlRIXSA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuXG4gICAgICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcbiAgICAgICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAgICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXJcbiAgICAgICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICAgICAgZm9yICg7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID1cbiAgICAgICAgICAgICAgICBjb25maWcuX2FbaV0gPT0gbnVsbCA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIDI0OjAwOjAwLjAwMFxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPT09IDI0ICYmXG4gICAgICAgICAgICBjb25maWcuX2FbTUlOVVRFXSA9PT0gMCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW1NFQ09ORF0gPT09IDAgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNSUxMSVNFQ09ORF0gPT09IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBpbnB1dFxuICAgICAgICApO1xuICAgICAgICBleHBlY3RlZFdlZWtkYXkgPSBjb25maWcuX3VzZVVUQ1xuICAgICAgICAgICAgPyBjb25maWcuX2QuZ2V0VVRDRGF5KClcbiAgICAgICAgICAgIDogY29uZmlnLl9kLmdldERheSgpO1xuXG4gICAgICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZFxuICAgICAgICAvLyB3aXRoIHBhcnNlWm9uZS5cbiAgICAgICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAyNDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGZvciBtaXNtYXRjaGluZyBkYXkgb2Ygd2Vla1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBjb25maWcuX3cgJiZcbiAgICAgICAgICAgIHR5cGVvZiBjb25maWcuX3cuZCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fdy5kICE9PSBleHBlY3RlZFdlZWtkYXlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS53ZWVrZGF5TWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuICAgICAgICB2YXIgdywgd2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95LCB0ZW1wLCB3ZWVrZGF5T3ZlcmZsb3csIGN1cldlZWs7XG5cbiAgICAgICAgdyA9IGNvbmZpZy5fdztcbiAgICAgICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZG93ID0gMTtcbiAgICAgICAgICAgIGRveSA9IDQ7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAgICAgLy8gaG93IHdlIGludGVycHJldCBub3cgKGxvY2FsLCB1dGMsIGZpeGVkIG9mZnNldCkuIFNvIGNyZWF0ZVxuICAgICAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmRcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyhcbiAgICAgICAgICAgICAgICB3LkdHLFxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtZRUFSXSxcbiAgICAgICAgICAgICAgICB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB3ZWVrID0gZGVmYXVsdHMody5XLCAxKTtcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAxIHx8IHdlZWtkYXkgPiA3KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdztcbiAgICAgICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICAgICAgY3VyV2VlayA9IHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgZG93LCBkb3kpO1xuXG4gICAgICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuZ2csIGNvbmZpZy5fYVtZRUFSXSwgY3VyV2Vlay55ZWFyKTtcblxuICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IHdlZWsuXG4gICAgICAgICAgICB3ZWVrID0gZGVmYXVsdHMody53LCBjdXJXZWVrLndlZWspO1xuXG4gICAgICAgICAgICBpZiAody5kICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuICAgICAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMCB8fCB3ZWVrZGF5ID4gNikge1xuICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAody5lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBsb2NhbCB3ZWVrZGF5IC0tIGNvdW50aW5nIHN0YXJ0cyBmcm9tIGJlZ2lubmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IHcuZSArIGRvdztcbiAgICAgICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2lubmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IGRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAod2VlayA8IDEgfHwgd2VlayA+IHdlZWtzSW5ZZWFyKHdlZWtZZWFyLCBkb3csIGRveSkpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZWVrZGF5T3ZlcmZsb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla2RheSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZW1wID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG4gICAgICAgICAgICBjb25maWcuX2FbWUVBUl0gPSB0ZW1wLnllYXI7XG4gICAgICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIElTTyBzdGFuZGFyZFxuICAgIGhvb2tzLklTT184NjAxID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgUkZDIDI4MjIgZm9ybVxuICAgIGhvb2tzLlJGQ18yODIyID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpIHtcbiAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgY3JlYXRpb24gZmxvdyB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcHNcbiAgICAgICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuSVNPXzg2MDEpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5SRkNfMjgyMikge1xuICAgICAgICAgICAgY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25maWcuX2EgPSBbXTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXG4gICAgICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXG4gICAgICAgIHZhciBzdHJpbmcgPSAnJyArIGNvbmZpZy5faSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBwYXJzZWRJbnB1dCxcbiAgICAgICAgICAgIHRva2VucyxcbiAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgc2tpcHBlZCxcbiAgICAgICAgICAgIHN0cmluZ0xlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG4gICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoID0gMCxcbiAgICAgICAgICAgIGVyYTtcblxuICAgICAgICB0b2tlbnMgPVxuICAgICAgICAgICAgZXhwYW5kRm9ybWF0KGNvbmZpZy5fZiwgY29uZmlnLl9sb2NhbGUpLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpIHx8IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHxcbiAgICAgICAgICAgICAgICBbXSlbMF07XG4gICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gc3RyaW5nLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkpO1xuICAgICAgICAgICAgICAgIGlmIChza2lwcGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChza2lwcGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKFxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGhcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggKz0gcGFyc2VkSW5wdXQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuICAgICAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIHBhcnNlZElucHV0LCBjb25maWcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPVxuICAgICAgICAgICAgc3RyaW5nTGVuZ3RoIC0gdG90YWxQYXJzZWRJbnB1dExlbmd0aDtcbiAgICAgICAgaWYgKHN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA+IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucGFyc2VkRGF0ZVBhcnRzID0gY29uZmlnLl9hLnNsaWNlKDApO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5tZXJpZGllbSA9IGNvbmZpZy5fbWVyaWRpZW07XG4gICAgICAgIC8vIGhhbmRsZSBtZXJpZGllbVxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoXG4gICAgICAgICAgICBjb25maWcuX2xvY2FsZSxcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSxcbiAgICAgICAgICAgIGNvbmZpZy5fbWVyaWRpZW1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBoYW5kbGUgZXJhXG4gICAgICAgIGVyYSA9IGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVyYTtcbiAgICAgICAgaWYgKGVyYSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gY29uZmlnLl9sb2NhbGUuZXJhc0NvbnZlcnRZZWFyKGVyYSwgY29uZmlnLl9hW1lFQVJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgICAgICBjaGVja092ZXJmbG93KGNvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwKGxvY2FsZSwgaG91ciwgbWVyaWRpZW0pIHtcbiAgICAgICAgdmFyIGlzUG07XG5cbiAgICAgICAgaWYgKG1lcmlkaWVtID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgICAgIHJldHVybiBob3VyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2NhbGUubWVyaWRpZW1Ib3VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGUubWVyaWRpZW1Ib3VyKGhvdXIsIG1lcmlkaWVtKTtcbiAgICAgICAgfSBlbHNlIGlmIChsb2NhbGUuaXNQTSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFja1xuICAgICAgICAgICAgaXNQbSA9IGxvY2FsZS5pc1BNKG1lcmlkaWVtKTtcbiAgICAgICAgICAgIGlmIChpc1BtICYmIGhvdXIgPCAxMikge1xuICAgICAgICAgICAgICAgIGhvdXIgKz0gMTI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzUG0gJiYgaG91ciA9PT0gMTIpIHtcbiAgICAgICAgICAgICAgICBob3VyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBob3VyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBub3Qgc3VwcG9zZWQgdG8gaGFwcGVuXG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGFycmF5IG9mIGZvcm1hdCBzdHJpbmdzXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZykge1xuICAgICAgICB2YXIgdGVtcENvbmZpZyxcbiAgICAgICAgICAgIGJlc3RNb21lbnQsXG4gICAgICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBjdXJyZW50U2NvcmUsXG4gICAgICAgICAgICB2YWxpZEZvcm1hdEZvdW5kLFxuICAgICAgICAgICAgYmVzdEZvcm1hdElzVmFsaWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAoY29uZmlnLl9mLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEZvcm1hdCA9IHRydWU7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShOYU4pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbmZpZy5fZi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY3VycmVudFNjb3JlID0gMDtcbiAgICAgICAgICAgIHZhbGlkRm9ybWF0Rm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRlbXBDb25maWcgPSBjb3B5Q29uZmlnKHt9LCBjb25maWcpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0ZW1wQ29uZmlnLl91c2VVVEMgPSBjb25maWcuX3VzZVVUQztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBDb25maWcuX2YgPSBjb25maWcuX2ZbaV07XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KHRlbXBDb25maWcpO1xuXG4gICAgICAgICAgICBpZiAoaXNWYWxpZCh0ZW1wQ29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHZhbGlkRm9ybWF0Rm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbnkgaW5wdXQgdGhhdCB3YXMgbm90IHBhcnNlZCBhZGQgYSBwZW5hbHR5IGZvciB0aGF0IGZvcm1hdFxuICAgICAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5jaGFyc0xlZnRPdmVyO1xuXG4gICAgICAgICAgICAvL29yIHRva2Vuc1xuICAgICAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS51bnVzZWRUb2tlbnMubGVuZ3RoICogMTA7XG5cbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5zY29yZSA9IGN1cnJlbnRTY29yZTtcblxuICAgICAgICAgICAgaWYgKCFiZXN0Rm9ybWF0SXNWYWxpZCkge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVUb0JlYXQgPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCB8fFxuICAgICAgICAgICAgICAgICAgICB2YWxpZEZvcm1hdEZvdW5kXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgICAgICAgICBiZXN0TW9tZW50ID0gdGVtcENvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkRm9ybWF0Rm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTY29yZSA8IHNjb3JlVG9CZWF0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgICAgICAgICBiZXN0TW9tZW50ID0gdGVtcENvbmZpZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBleHRlbmQoY29uZmlnLCBiZXN0TW9tZW50IHx8IHRlbXBDb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcuX2QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoY29uZmlnLl9pKSxcbiAgICAgICAgICAgIGRheU9yRGF0ZSA9IGkuZGF5ID09PSB1bmRlZmluZWQgPyBpLmRhdGUgOiBpLmRheTtcbiAgICAgICAgY29uZmlnLl9hID0gbWFwKFxuICAgICAgICAgICAgW2kueWVhciwgaS5tb250aCwgZGF5T3JEYXRlLCBpLmhvdXIsIGkubWludXRlLCBpLnNlY29uZCwgaS5taWxsaXNlY29uZF0sXG4gICAgICAgICAgICBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuICAgICAgICBpZiAocmVzLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1RcbiAgICAgICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcbiAgICAgICAgICAgIHJlcy5fbmV4dERheSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuICAgICAgICAgICAgZm9ybWF0ID0gY29uZmlnLl9mO1xuXG4gICAgICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgZ2V0TG9jYWxlKGNvbmZpZy5fbCk7XG5cbiAgICAgICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCh7IG51bGxJbnB1dDogdHJ1ZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25maWcuX2kgPSBpbnB1dCA9IGNvbmZpZy5fbG9jYWxlLnByZXBhcnNlKGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc01vbWVudChpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3coaW5wdXQpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBpbnB1dDtcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCkge1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uZmlnRnJvbUlucHV0KGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzVmFsaWQoY29uZmlnKSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUlucHV0KGNvbmZpZykge1xuICAgICAgICB2YXIgaW5wdXQgPSBjb25maWcuX2k7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dC52YWx1ZU9mKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG9iaiwgMTApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcbiAgICAgICAgICAgIC8vIGZyb20gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgaXNVVEMpIHtcbiAgICAgICAgdmFyIGMgPSB7fTtcblxuICAgICAgICBpZiAoZm9ybWF0ID09PSB0cnVlIHx8IGZvcm1hdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN0cmljdCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsb2NhbGUgPT09IHRydWUgfHwgbG9jYWxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgc3RyaWN0ID0gbG9jYWxlO1xuICAgICAgICAgICAgbG9jYWxlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGlzT2JqZWN0KGlucHV0KSAmJiBpc09iamVjdEVtcHR5KGlucHV0KSkgfHxcbiAgICAgICAgICAgIChpc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPT09IDApXG4gICAgICAgICkge1xuICAgICAgICAgICAgaW5wdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb2JqZWN0IGNvbnN0cnVjdGlvbiBtdXN0IGJlIGRvbmUgdGhpcyB3YXkuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNDIzXG4gICAgICAgIGMuX2lzQU1vbWVudE9iamVjdCA9IHRydWU7XG4gICAgICAgIGMuX3VzZVVUQyA9IGMuX2lzVVRDID0gaXNVVEM7XG4gICAgICAgIGMuX2wgPSBsb2NhbGU7XG4gICAgICAgIGMuX2kgPSBpbnB1dDtcbiAgICAgICAgYy5fZiA9IGZvcm1hdDtcbiAgICAgICAgYy5fc3RyaWN0ID0gc3RyaWN0O1xuXG4gICAgICAgIHJldHVybiBjcmVhdGVGcm9tQ29uZmlnKGMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUxvY2FsKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZShcbiAgICAgICAgICAgICdtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvdGhlciA8IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIHByb3RvdHlwZU1heCA9IGRlcHJlY2F0ZShcbiAgICAgICAgICAgICdtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvdGhlciA+IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAvLyBQaWNrIGEgbW9tZW50IG0gZnJvbSBtb21lbnRzIHNvIHRoYXQgbVtmbl0ob3RoZXIpIGlzIHRydWUgZm9yIGFsbFxuICAgIC8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbiAgICAvL1xuICAgIC8vIG1vbWVudHMgc2hvdWxkIGVpdGhlciBiZSBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cyBvciBhbiBhcnJheSwgd2hvc2VcbiAgICAvLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuICAgIGZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuICAgICAgICB2YXIgcmVzLCBpO1xuICAgICAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzID0gbW9tZW50c1swXTtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghbW9tZW50c1tpXS5pc1ZhbGlkKCkgfHwgbW9tZW50c1tpXVtmbl0ocmVzKSkge1xuICAgICAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xuICAgIGZ1bmN0aW9uIG1pbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICAgICAgcmV0dXJuIHBpY2tCeSgnaXNCZWZvcmUnLCBhcmdzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXgoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcbiAgICB9XG5cbiAgICB2YXIgbm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogK25ldyBEYXRlKCk7XG4gICAgfTtcblxuICAgIHZhciBvcmRlcmluZyA9IFtcbiAgICAgICAgJ3llYXInLFxuICAgICAgICAncXVhcnRlcicsXG4gICAgICAgICdtb250aCcsXG4gICAgICAgICd3ZWVrJyxcbiAgICAgICAgJ2RheScsXG4gICAgICAgICdob3VyJyxcbiAgICAgICAgJ21pbnV0ZScsXG4gICAgICAgICdzZWNvbmQnLFxuICAgICAgICAnbWlsbGlzZWNvbmQnLFxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBpc0R1cmF0aW9uVmFsaWQobSkge1xuICAgICAgICB2YXIga2V5LFxuICAgICAgICAgICAgdW5pdEhhc0RlY2ltYWwgPSBmYWxzZSxcbiAgICAgICAgICAgIGk7XG4gICAgICAgIGZvciAoa2V5IGluIG0pIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBoYXNPd25Qcm9wKG0sIGtleSkgJiZcbiAgICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgICAgICBpbmRleE9mLmNhbGwob3JkZXJpbmcsIGtleSkgIT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgIChtW2tleV0gPT0gbnVsbCB8fCAhaXNOYU4obVtrZXldKSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3JkZXJpbmcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChtW29yZGVyaW5nW2ldXSkge1xuICAgICAgICAgICAgICAgIGlmICh1bml0SGFzRGVjaW1hbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG9ubHkgYWxsb3cgbm9uLWludGVnZXJzIGZvciBzbWFsbGVzdCB1bml0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KG1bb3JkZXJpbmdbaV1dKSAhPT0gdG9JbnQobVtvcmRlcmluZ1tpXV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXRIYXNEZWNpbWFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkJDEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1ZhbGlkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmFsaWQkMSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKE5hTik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRHVyYXRpb24oZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSxcbiAgICAgICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcbiAgICAgICAgICAgIHF1YXJ0ZXJzID0gbm9ybWFsaXplZElucHV0LnF1YXJ0ZXIgfHwgMCxcbiAgICAgICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLFxuICAgICAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCBub3JtYWxpemVkSW5wdXQuaXNvV2VlayB8fCAwLFxuICAgICAgICAgICAgZGF5cyA9IG5vcm1hbGl6ZWRJbnB1dC5kYXkgfHwgMCxcbiAgICAgICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCxcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG4gICAgICAgICAgICBzZWNvbmRzID0gbm9ybWFsaXplZElucHV0LnNlY29uZCB8fCAwLFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7XG5cbiAgICAgICAgdGhpcy5faXNWYWxpZCA9IGlzRHVyYXRpb25WYWxpZChub3JtYWxpemVkSW5wdXQpO1xuXG4gICAgICAgIC8vIHJlcHJlc2VudGF0aW9uIGZvciBkYXRlQWRkUmVtb3ZlXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9XG4gICAgICAgICAgICArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgICAgIHNlY29uZHMgKiAxZTMgKyAvLyAxMDAwXG4gICAgICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAgICAgLy8gQmVjYXVzZSBvZiBkYXRlQWRkUmVtb3ZlIHRyZWF0cyAyNCBob3VycyBhcyBkaWZmZXJlbnQgZnJvbSBhXG4gICAgICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcbiAgICAgICAgdGhpcy5fZGF5cyA9ICtkYXlzICsgd2Vla3MgKiA3O1xuICAgICAgICAvLyBJdCBpcyBpbXBvc3NpYmxlIHRvIHRyYW5zbGF0ZSBtb250aHMgaW50byBkYXlzIHdpdGhvdXQga25vd2luZ1xuICAgICAgICAvLyB3aGljaCBtb250aHMgeW91IGFyZSBhcmUgdGFsa2luZyBhYm91dCwgc28gd2UgaGF2ZSB0byBzdG9yZVxuICAgICAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuICAgICAgICB0aGlzLl9tb250aHMgPSArbW9udGhzICsgcXVhcnRlcnMgKiAzICsgeWVhcnMgKiAxMjtcblxuICAgICAgICB0aGlzLl9kYXRhID0ge307XG5cbiAgICAgICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICAgICAgdGhpcy5fYnViYmxlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEdXJhdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIER1cmF0aW9uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic1JvdW5kKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29tcGFyZSB0d28gYXJyYXlzLCByZXR1cm4gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlc1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZGlmZnMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlmZnMgKyBsZW5ndGhEaWZmO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGZ1bmN0aW9uIG9mZnNldCh0b2tlbiwgc2VwYXJhdG9yKSB7XG4gICAgICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy51dGNPZmZzZXQoKSxcbiAgICAgICAgICAgICAgICBzaWduID0gJysnO1xuICAgICAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuICAgICAgICAgICAgICAgIHNpZ24gPSAnLSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIHNpZ24gK1xuICAgICAgICAgICAgICAgIHplcm9GaWxsKH5+KG9mZnNldCAvIDYwKSwgMikgK1xuICAgICAgICAgICAgICAgIHNlcGFyYXRvciArXG4gICAgICAgICAgICAgICAgemVyb0ZpbGwofn5vZmZzZXQgJSA2MCwgMilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9mZnNldCgnWicsICc6Jyk7XG4gICAgb2Zmc2V0KCdaWicsICcnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1onLCBtYXRjaFNob3J0T2Zmc2V0KTtcbiAgICBhZGRSZWdleFRva2VuKCdaWicsIG1hdGNoU2hvcnRPZmZzZXQpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydaJywgJ1paJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fdHptID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyB0aW1lem9uZSBjaHVua2VyXG4gICAgLy8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXG4gICAgLy8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG4gICAgdmFyIGNodW5rT2Zmc2V0ID0gLyhbXFwrXFwtXXxcXGRcXGQpL2dpO1xuXG4gICAgZnVuY3Rpb24gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaGVyLCBzdHJpbmcpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSAoc3RyaW5nIHx8ICcnKS5tYXRjaChtYXRjaGVyKSxcbiAgICAgICAgICAgIGNodW5rLFxuICAgICAgICAgICAgcGFydHMsXG4gICAgICAgICAgICBtaW51dGVzO1xuXG4gICAgICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNodW5rID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuICAgICAgICBwYXJ0cyA9IChjaHVuayArICcnKS5tYXRjaChjaHVua09mZnNldCkgfHwgWyctJywgMCwgMF07XG4gICAgICAgIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXG4gICAgICAgIHJldHVybiBtaW51dGVzID09PSAwID8gMCA6IHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGEgbW9tZW50IGZyb20gaW5wdXQsIHRoYXQgaXMgbG9jYWwvdXRjL3pvbmUgZXF1aXZhbGVudCB0byBtb2RlbC5cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7XG4gICAgICAgIHZhciByZXMsIGRpZmY7XG4gICAgICAgIGlmIChtb2RlbC5faXNVVEMpIHtcbiAgICAgICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7XG4gICAgICAgICAgICBkaWZmID1cbiAgICAgICAgICAgICAgICAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dClcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC52YWx1ZU9mKClcbiAgICAgICAgICAgICAgICAgICAgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG4gICAgICAgICAgICAvLyBVc2UgbG93LWxldmVsIGFwaSwgYmVjYXVzZSB0aGlzIGZuIGlzIGxvdy1sZXZlbCBhcGkuXG4gICAgICAgICAgICByZXMuX2Quc2V0VGltZShyZXMuX2QudmFsdWVPZigpICsgZGlmZik7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldChtKSB7XG4gICAgICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MVxuICAgICAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpKTtcbiAgICB9XG5cbiAgICAvLyBIT09LU1xuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBhIG1vbWVudCBpcyBtdXRhdGVkLlxuICAgIC8vIEl0IGlzIGludGVuZGVkIHRvIGtlZXAgdGhlIG9mZnNldCBpbiBzeW5jIHdpdGggdGhlIHRpbWV6b25lLlxuICAgIGhvb2tzLnVwZGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgLy8ga2VlcExvY2FsVGltZSA9IHRydWUgbWVhbnMgb25seSBjaGFuZ2UgdGhlIHRpbWV6b25lLCB3aXRob3V0XG4gICAgLy8gYWZmZWN0aW5nIHRoZSBsb2NhbCBob3VyLiBTbyA1OjMxOjI2ICswMzAwIC0tW3V0Y09mZnNldCgyLCB0cnVlKV0tLT5cbiAgICAvLyA1OjMxOjI2ICswMjAwIEl0IGlzIHBvc3NpYmxlIHRoYXQgNTozMToyNiBkb2Vzbid0IGV4aXN0IHdpdGggb2Zmc2V0XG4gICAgLy8gKzAyMDAsIHNvIHdlIGFkanVzdCB0aGUgdGltZSBhcyBuZWVkZWQsIHRvIGJlIHZhbGlkLlxuICAgIC8vXG4gICAgLy8gS2VlcGluZyB0aGUgdGltZSBhY3R1YWxseSBhZGRzL3N1YnRyYWN0cyAob25lIGhvdXIpXG4gICAgLy8gZnJvbSB0aGUgYWN0dWFsIHJlcHJlc2VudGVkIHRpbWUuIFRoYXQgaXMgd2h5IHdlIGNhbGwgdXBkYXRlT2Zmc2V0XG4gICAgLy8gYSBzZWNvbmQgdGltZS4gSW4gY2FzZSBpdCB3YW50cyB1cyB0byBjaGFuZ2UgdGhlIG9mZnNldCBhZ2FpblxuICAgIC8vIF9jaGFuZ2VJblByb2dyZXNzID09IHRydWUgY2FzZSwgdGhlbiB3ZSBoYXZlIHRvIGFkanVzdCwgYmVjYXVzZVxuICAgIC8vIHRoZXJlIGlzIG5vIHN1Y2ggdGltZSBpbiB0aGUgZ2l2ZW4gdGltZXpvbmUuXG4gICAgZnVuY3Rpb24gZ2V0U2V0T2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lLCBrZWVwTWludXRlcykge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0IHx8IDAsXG4gICAgICAgICAgICBsb2NhbEFkanVzdDtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYgJiYgIWtlZXBNaW51dGVzKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBpbnB1dCAqIDYwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1VUQyAmJiBrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxBZGp1c3QgPSBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gaW5wdXQ7XG4gICAgICAgICAgICB0aGlzLl9pc1VUQyA9IHRydWU7XG4gICAgICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGxvY2FsQWRqdXN0LCAnbScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWtlZXBMb2NhbFRpbWUgfHwgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICBhZGRTdWJ0cmFjdChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0Wm9uZShpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IC1pbnB1dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvVVRDKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvTG9jYWwoa2VlcExvY2FsVGltZSkge1xuICAgICAgICBpZiAodGhpcy5faXNVVEMpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5faXNVVEMgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgICAgIGlmICh0Wm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodFpvbmUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNBbGlnbmVkSG91ck9mZnNldChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQgPSBpbnB1dCA/IGNyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpIHx8XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkKCkge1xuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX2lzRFNUU2hpZnRlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYyA9IHt9LFxuICAgICAgICAgICAgb3RoZXI7XG5cbiAgICAgICAgY29weUNvbmZpZyhjLCB0aGlzKTtcbiAgICAgICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICAgICAgaWYgKGMuX2EpIHtcbiAgICAgICAgICAgIG90aGVyID0gYy5faXNVVEMgPyBjcmVhdGVVVEMoYy5fYSkgOiBjcmVhdGVMb2NhbChjLl9hKTtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9XG4gICAgICAgICAgICAgICAgdGhpcy5pc1ZhbGlkKCkgJiYgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xvY2FsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyAhdGhpcy5faXNVVEMgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1V0Y09mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1V0YygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG4gICAgdmFyIGFzcE5ldFJlZ2V4ID0gL14oLXxcXCspPyg/OihcXGQqKVsuIF0pPyhcXGQrKTooXFxkKykoPzo6KFxcZCspKFxcLlxcZCopPyk/JC8sXG4gICAgICAgIC8vIGZyb20gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfZGF0ZV9kYXRlLmpzLnNvdXJjZS5odG1sXG4gICAgICAgIC8vIHNvbWV3aGF0IG1vcmUgaW4gbGluZSB3aXRoIDQuNC4zLjIgMjAwNCBzcGVjLCBidXQgYWxsb3dzIGRlY2ltYWwgYW55d2hlcmVcbiAgICAgICAgLy8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxuICAgICAgICBpc29SZWdleCA9IC9eKC18XFwrKT9QKD86KFstK10/WzAtOSwuXSopWSk/KD86KFstK10/WzAtOSwuXSopTSk/KD86KFstK10/WzAtOSwuXSopVyk/KD86KFstK10/WzAtOSwuXSopRCk/KD86VCg/OihbLStdP1swLTksLl0qKUgpPyg/OihbLStdP1swLTksLl0qKU0pPyg/OihbLStdP1swLTksLl0qKVMpPyk/JC87XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEdXJhdGlvbihpbnB1dCwga2V5KSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgYWdhaW5zdCByZWdleHAgaXMgZXhwZW5zaXZlLCBkbyBpdCBvbiBkZW1hbmRcbiAgICAgICAgICAgIG1hdGNoID0gbnVsbCxcbiAgICAgICAgICAgIHNpZ24sXG4gICAgICAgICAgICByZXQsXG4gICAgICAgICAgICBkaWZmUmVzO1xuXG4gICAgICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgbXM6IGlucHV0Ll9taWxsaXNlY29uZHMsXG4gICAgICAgICAgICAgICAgZDogaW5wdXQuX2RheXMsXG4gICAgICAgICAgICAgICAgTTogaW5wdXQuX21vbnRocyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpIHx8ICFpc05hTigraW5wdXQpKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uW2tleV0gPSAraW5wdXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9ICtpbnB1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICgobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgICAgIHNpZ24gPSBtYXRjaFsxXSA9PT0gJy0nID8gLTEgOiAxO1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICBkOiB0b0ludChtYXRjaFtEQVRFXSkgKiBzaWduLFxuICAgICAgICAgICAgICAgIGg6IHRvSW50KG1hdGNoW0hPVVJdKSAqIHNpZ24sXG4gICAgICAgICAgICAgICAgbTogdG9JbnQobWF0Y2hbTUlOVVRFXSkgKiBzaWduLFxuICAgICAgICAgICAgICAgIHM6IHRvSW50KG1hdGNoW1NFQ09ORF0pICogc2lnbixcbiAgICAgICAgICAgICAgICBtczogdG9JbnQoYWJzUm91bmQobWF0Y2hbTUlMTElTRUNPTkRdICogMTAwMCkpICogc2lnbiwgLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKChtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICAgICAgc2lnbiA9IG1hdGNoWzFdID09PSAnLScgPyAtMSA6IDE7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB5OiBwYXJzZUlzbyhtYXRjaFsyXSwgc2lnbiksXG4gICAgICAgICAgICAgICAgTTogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLFxuICAgICAgICAgICAgICAgIHc6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBkOiBwYXJzZUlzbyhtYXRjaFs1XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgaDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIG06IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcbiAgICAgICAgICAgICAgICBzOiBwYXJzZUlzbyhtYXRjaFs4XSwgc2lnbiksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAoJ2Zyb20nIGluIGR1cmF0aW9uIHx8ICd0bycgaW4gZHVyYXRpb24pXG4gICAgICAgICkge1xuICAgICAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKGR1cmF0aW9uLmZyb20pLFxuICAgICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKGR1cmF0aW9uLnRvKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgICAgICBkdXJhdGlvbi5NID0gZGlmZlJlcy5tb250aHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXG4gICAgICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSAmJiBoYXNPd25Qcm9wKGlucHV0LCAnX2xvY2FsZScpKSB7XG4gICAgICAgICAgICByZXQuX2xvY2FsZSA9IGlucHV0Ll9sb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19pc1ZhbGlkJykpIHtcbiAgICAgICAgICAgIHJldC5faXNWYWxpZCA9IGlucHV0Ll9pc1ZhbGlkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBjcmVhdGVEdXJhdGlvbi5mbiA9IER1cmF0aW9uLnByb3RvdHlwZTtcbiAgICBjcmVhdGVEdXJhdGlvbi5pbnZhbGlkID0gY3JlYXRlSW52YWxpZCQxO1xuXG4gICAgZnVuY3Rpb24gcGFyc2VJc28oaW5wLCBzaWduKSB7XG4gICAgICAgIC8vIFdlJ2Qgbm9ybWFsbHkgdXNlIH5+aW5wIGZvciB0aGlzLCBidXQgdW5mb3J0dW5hdGVseSBpdCBhbHNvXG4gICAgICAgIC8vIGNvbnZlcnRzIGZsb2F0cyB0byBpbnRzLlxuICAgICAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuXG4gICAgICAgIHZhciByZXMgPSBpbnAgJiYgcGFyc2VGbG9hdChpbnAucmVwbGFjZSgnLCcsICcuJykpO1xuICAgICAgICAvLyBhcHBseSBzaWduIHdoaWxlIHdlJ3JlIGF0IGl0XG4gICAgICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXMgPSB7fTtcblxuICAgICAgICByZXMubW9udGhzID1cbiAgICAgICAgICAgIG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgKyAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHtcbiAgICAgICAgICAgIC0tcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpO1xuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlcztcbiAgICAgICAgaWYgKCEoYmFzZS5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgbWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTtcbiAgICAgICAgaWYgKGJhc2UuaXNCZWZvcmUob3RoZXIpKSB7XG4gICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2Uob3RoZXIsIGJhc2UpO1xuICAgICAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiByZW1vdmUgJ25hbWUnIGFyZyBhZnRlciBkZXByZWNhdGlvbiBpcyByZW1vdmVkXG4gICAgZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgICAgIHZhciBkdXIsIHRtcDtcbiAgICAgICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICdtb21lbnQoKS4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhwZXJpb2QsIG51bWJlcikgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBtb21lbnQoKS4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhudW1iZXIsIHBlcmlvZCkuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0bXAgPSB2YWw7XG4gICAgICAgICAgICAgICAgdmFsID0gcGVyaW9kO1xuICAgICAgICAgICAgICAgIHBlcmlvZCA9IHRtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZHVyID0gY3JlYXRlRHVyYXRpb24odmFsLCBwZXJpb2QpO1xuICAgICAgICAgICAgYWRkU3VidHJhY3QodGhpcywgZHVyLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkU3VidHJhY3QobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGRheXMgPSBhYnNSb3VuZChkdXJhdGlvbi5fZGF5cyksXG4gICAgICAgICAgICBtb250aHMgPSBhYnNSb3VuZChkdXJhdGlvbi5fbW9udGhzKTtcblxuICAgICAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIC8vIE5vIG9wXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVPZmZzZXQgPSB1cGRhdGVPZmZzZXQgPT0gbnVsbCA/IHRydWUgOiB1cGRhdGVPZmZzZXQ7XG5cbiAgICAgICAgaWYgKG1vbnRocykge1xuICAgICAgICAgICAgc2V0TW9udGgobW9tLCBnZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF5cykge1xuICAgICAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFkZCA9IGNyZWF0ZUFkZGVyKDEsICdhZGQnKSxcbiAgICAgICAgc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XG5cbiAgICBmdW5jdGlvbiBpc1N0cmluZyhpbnB1dCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBpbnB1dCBpbnN0YW5jZW9mIFN0cmluZztcbiAgICB9XG5cbiAgICAvLyB0eXBlIE1vbWVudElucHV0ID0gTW9tZW50IHwgRGF0ZSB8IHN0cmluZyB8IG51bWJlciB8IChudW1iZXIgfCBzdHJpbmcpW10gfCBNb21lbnRJbnB1dE9iamVjdCB8IHZvaWQ7IC8vIG51bGwgfCB1bmRlZmluZWRcbiAgICBmdW5jdGlvbiBpc01vbWVudElucHV0KGlucHV0KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBpc01vbWVudChpbnB1dCkgfHxcbiAgICAgICAgICAgIGlzRGF0ZShpbnB1dCkgfHxcbiAgICAgICAgICAgIGlzU3RyaW5nKGlucHV0KSB8fFxuICAgICAgICAgICAgaXNOdW1iZXIoaW5wdXQpIHx8XG4gICAgICAgICAgICBpc051bWJlck9yU3RyaW5nQXJyYXkoaW5wdXQpIHx8XG4gICAgICAgICAgICBpc01vbWVudElucHV0T2JqZWN0KGlucHV0KSB8fFxuICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHxcbiAgICAgICAgICAgIGlucHV0ID09PSB1bmRlZmluZWRcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc01vbWVudElucHV0T2JqZWN0KGlucHV0KSB7XG4gICAgICAgIHZhciBvYmplY3RUZXN0ID0gaXNPYmplY3QoaW5wdXQpICYmICFpc09iamVjdEVtcHR5KGlucHV0KSxcbiAgICAgICAgICAgIHByb3BlcnR5VGVzdCA9IGZhbHNlLFxuICAgICAgICAgICAgcHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgICAgICAneWVhcnMnLFxuICAgICAgICAgICAgICAgICd5ZWFyJyxcbiAgICAgICAgICAgICAgICAneScsXG4gICAgICAgICAgICAgICAgJ21vbnRocycsXG4gICAgICAgICAgICAgICAgJ21vbnRoJyxcbiAgICAgICAgICAgICAgICAnTScsXG4gICAgICAgICAgICAgICAgJ2RheXMnLFxuICAgICAgICAgICAgICAgICdkYXknLFxuICAgICAgICAgICAgICAgICdkJyxcbiAgICAgICAgICAgICAgICAnZGF0ZXMnLFxuICAgICAgICAgICAgICAgICdkYXRlJyxcbiAgICAgICAgICAgICAgICAnRCcsXG4gICAgICAgICAgICAgICAgJ2hvdXJzJyxcbiAgICAgICAgICAgICAgICAnaG91cicsXG4gICAgICAgICAgICAgICAgJ2gnLFxuICAgICAgICAgICAgICAgICdtaW51dGVzJyxcbiAgICAgICAgICAgICAgICAnbWludXRlJyxcbiAgICAgICAgICAgICAgICAnbScsXG4gICAgICAgICAgICAgICAgJ3NlY29uZHMnLFxuICAgICAgICAgICAgICAgICdzZWNvbmQnLFxuICAgICAgICAgICAgICAgICdzJyxcbiAgICAgICAgICAgICAgICAnbWlsbGlzZWNvbmRzJyxcbiAgICAgICAgICAgICAgICAnbWlsbGlzZWNvbmQnLFxuICAgICAgICAgICAgICAgICdtcycsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHByb3BlcnR5O1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eVRlc3QgPSBwcm9wZXJ0eVRlc3QgfHwgaGFzT3duUHJvcChpbnB1dCwgcHJvcGVydHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iamVjdFRlc3QgJiYgcHJvcGVydHlUZXN0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTnVtYmVyT3JTdHJpbmdBcnJheShpbnB1dCkge1xuICAgICAgICB2YXIgYXJyYXlUZXN0ID0gaXNBcnJheShpbnB1dCksXG4gICAgICAgICAgICBkYXRhVHlwZVRlc3QgPSBmYWxzZTtcbiAgICAgICAgaWYgKGFycmF5VGVzdCkge1xuICAgICAgICAgICAgZGF0YVR5cGVUZXN0ID1cbiAgICAgICAgICAgICAgICBpbnB1dC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFpc051bWJlcihpdGVtKSAmJiBpc1N0cmluZyhpbnB1dCk7XG4gICAgICAgICAgICAgICAgfSkubGVuZ3RoID09PSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheVRlc3QgJiYgZGF0YVR5cGVUZXN0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQ2FsZW5kYXJTcGVjKGlucHV0KSB7XG4gICAgICAgIHZhciBvYmplY3RUZXN0ID0gaXNPYmplY3QoaW5wdXQpICYmICFpc09iamVjdEVtcHR5KGlucHV0KSxcbiAgICAgICAgICAgIHByb3BlcnR5VGVzdCA9IGZhbHNlLFxuICAgICAgICAgICAgcHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgICAgICAnc2FtZURheScsXG4gICAgICAgICAgICAgICAgJ25leHREYXknLFxuICAgICAgICAgICAgICAgICdsYXN0RGF5JyxcbiAgICAgICAgICAgICAgICAnbmV4dFdlZWsnLFxuICAgICAgICAgICAgICAgICdsYXN0V2VlaycsXG4gICAgICAgICAgICAgICAgJ3NhbWVFbHNlJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgcHJvcGVydHk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5VGVzdCA9IHByb3BlcnR5VGVzdCB8fCBoYXNPd25Qcm9wKGlucHV0LCBwcm9wZXJ0eSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2JqZWN0VGVzdCAmJiBwcm9wZXJ0eVRlc3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Q2FsZW5kYXJGb3JtYXQobXlNb21lbnQsIG5vdykge1xuICAgICAgICB2YXIgZGlmZiA9IG15TW9tZW50LmRpZmYobm93LCAnZGF5cycsIHRydWUpO1xuICAgICAgICByZXR1cm4gZGlmZiA8IC02XG4gICAgICAgICAgICA/ICdzYW1lRWxzZSdcbiAgICAgICAgICAgIDogZGlmZiA8IC0xXG4gICAgICAgICAgICA/ICdsYXN0V2VlaydcbiAgICAgICAgICAgIDogZGlmZiA8IDBcbiAgICAgICAgICAgID8gJ2xhc3REYXknXG4gICAgICAgICAgICA6IGRpZmYgPCAxXG4gICAgICAgICAgICA/ICdzYW1lRGF5J1xuICAgICAgICAgICAgOiBkaWZmIDwgMlxuICAgICAgICAgICAgPyAnbmV4dERheSdcbiAgICAgICAgICAgIDogZGlmZiA8IDdcbiAgICAgICAgICAgID8gJ25leHRXZWVrJ1xuICAgICAgICAgICAgOiAnc2FtZUVsc2UnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGVuZGFyJDEodGltZSwgZm9ybWF0cykge1xuICAgICAgICAvLyBTdXBwb3J0IGZvciBzaW5nbGUgcGFyYW1ldGVyLCBmb3JtYXRzIG9ubHkgb3ZlcmxvYWQgdG8gdGhlIGNhbGVuZGFyIGZ1bmN0aW9uXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoaXNNb21lbnRJbnB1dChhcmd1bWVudHNbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGltZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgICAgICBmb3JtYXRzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0NhbGVuZGFyU3BlYyhhcmd1bWVudHNbMF0pKSB7XG4gICAgICAgICAgICAgICAgZm9ybWF0cyA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgICAgICB0aW1lID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gY29tcGFyZSB0aGUgc3RhcnQgb2YgdG9kYXksIHZzIHRoaXMuXG4gICAgICAgIC8vIEdldHRpbmcgc3RhcnQtb2YtdG9kYXkgZGVwZW5kcyBvbiB3aGV0aGVyIHdlJ3JlIGxvY2FsL3V0Yy9vZmZzZXQgb3Igbm90LlxuICAgICAgICB2YXIgbm93ID0gdGltZSB8fCBjcmVhdGVMb2NhbCgpLFxuICAgICAgICAgICAgc29kID0gY2xvbmVXaXRoT2Zmc2V0KG5vdywgdGhpcykuc3RhcnRPZignZGF5JyksXG4gICAgICAgICAgICBmb3JtYXQgPSBob29rcy5jYWxlbmRhckZvcm1hdCh0aGlzLCBzb2QpIHx8ICdzYW1lRWxzZScsXG4gICAgICAgICAgICBvdXRwdXQgPVxuICAgICAgICAgICAgICAgIGZvcm1hdHMgJiZcbiAgICAgICAgICAgICAgICAoaXNGdW5jdGlvbihmb3JtYXRzW2Zvcm1hdF0pXG4gICAgICAgICAgICAgICAgICAgID8gZm9ybWF0c1tmb3JtYXRdLmNhbGwodGhpcywgbm93KVxuICAgICAgICAgICAgICAgICAgICA6IGZvcm1hdHNbZm9ybWF0XSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KFxuICAgICAgICAgICAgb3V0cHV0IHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgY3JlYXRlTG9jYWwobm93KSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBZnRlcihpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICAgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cykgfHwgJ21pbGxpc2Vjb25kJztcbiAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPiBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbElucHV0LnZhbHVlT2YoKSA8IHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0JlZm9yZShpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICAgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cykgfHwgJ21pbGxpc2Vjb25kJztcbiAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNCZXR3ZWVuKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcbiAgICAgICAgdmFyIGxvY2FsRnJvbSA9IGlzTW9tZW50KGZyb20pID8gZnJvbSA6IGNyZWF0ZUxvY2FsKGZyb20pLFxuICAgICAgICAgICAgbG9jYWxUbyA9IGlzTW9tZW50KHRvKSA/IHRvIDogY3JlYXRlTG9jYWwodG8pO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbEZyb20uaXNWYWxpZCgpICYmIGxvY2FsVG8uaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGluY2x1c2l2aXR5ID0gaW5jbHVzaXZpdHkgfHwgJygpJztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChpbmNsdXNpdml0eVswXSA9PT0gJygnXG4gICAgICAgICAgICAgICAgPyB0aGlzLmlzQWZ0ZXIobG9jYWxGcm9tLCB1bml0cylcbiAgICAgICAgICAgICAgICA6ICF0aGlzLmlzQmVmb3JlKGxvY2FsRnJvbSwgdW5pdHMpKSAmJlxuICAgICAgICAgICAgKGluY2x1c2l2aXR5WzFdID09PSAnKSdcbiAgICAgICAgICAgICAgICA/IHRoaXMuaXNCZWZvcmUobG9jYWxUbywgdW5pdHMpXG4gICAgICAgICAgICAgICAgOiAhdGhpcy5pc0FmdGVyKGxvY2FsVG8sIHVuaXRzKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NhbWUoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCksXG4gICAgICAgICAgICBpbnB1dE1zO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dE1zID0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCkgPD0gaW5wdXRNcyAmJlxuICAgICAgICAgICAgICAgIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NhbWVPckFmdGVyKGlucHV0LCB1bml0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQWZ0ZXIoaW5wdXQsIHVuaXRzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NhbWVPckJlZm9yZShpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0JlZm9yZShpbnB1dCwgdW5pdHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpZmYoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgICAgIHZhciB0aGF0LCB6b25lRGVsdGEsIG91dHB1dDtcblxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdCA9IGNsb25lV2l0aE9mZnNldChpbnB1dCwgdGhpcyk7XG5cbiAgICAgICAgaWYgKCF0aGF0LmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuXG4gICAgICAgIHpvbmVEZWx0YSA9ICh0aGF0LnV0Y09mZnNldCgpIC0gdGhpcy51dGNPZmZzZXQoKSkgKiA2ZTQ7XG5cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpIC8gMTI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpIC8gMztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gKHRoaXMgLSB0aGF0KSAvIDFlMztcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gMTAwMFxuICAgICAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gNmU0O1xuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyAxMDAwICogNjBcbiAgICAgICAgICAgIGNhc2UgJ2hvdXInOlxuICAgICAgICAgICAgICAgIG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyAzNmU1O1xuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyAxMDAwICogNjAgKiA2MFxuICAgICAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAodGhpcyAtIHRoYXQgLSB6b25lRGVsdGEpIC8gODY0ZTU7XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwICogMjQsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICAgICAgICAgIG91dHB1dCA9ICh0aGlzIC0gdGhhdCAtIHpvbmVEZWx0YSkgLyA2MDQ4ZTU7XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHRoaXMgLSB0aGF0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFzRmxvYXQgPyBvdXRwdXQgOiBhYnNGbG9vcihvdXRwdXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoRGlmZihhLCBiKSB7XG4gICAgICAgIGlmIChhLmRhdGUoKSA8IGIuZGF0ZSgpKSB7XG4gICAgICAgICAgICAvLyBlbmQtb2YtbW9udGggY2FsY3VsYXRpb25zIHdvcmsgY29ycmVjdCB3aGVuIHRoZSBzdGFydCBtb250aCBoYXMgbW9yZVxuICAgICAgICAgICAgLy8gZGF5cyB0aGFuIHRoZSBlbmQgbW9udGguXG4gICAgICAgICAgICByZXR1cm4gLW1vbnRoRGlmZihiLCBhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkaWZmZXJlbmNlIGluIG1vbnRoc1xuICAgICAgICB2YXIgd2hvbGVNb250aERpZmYgPSAoYi55ZWFyKCkgLSBhLnllYXIoKSkgKiAxMiArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuICAgICAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcbiAgICAgICAgICAgIGFuY2hvciA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYsICdtb250aHMnKSxcbiAgICAgICAgICAgIGFuY2hvcjIsXG4gICAgICAgICAgICBhZGp1c3Q7XG5cbiAgICAgICAgaWYgKGIgLSBhbmNob3IgPCAwKSB7XG4gICAgICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcbiAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yIC0gYW5jaG9yMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcbiAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG4gICAgICAgIH1cblxuICAgICAgICAvL2NoZWNrIGZvciBuZWdhdGl2ZSB6ZXJvLCByZXR1cm4gemVybyBpZiBuZWdhdGl2ZSB6ZXJvXG4gICAgICAgIHJldHVybiAtKHdob2xlTW9udGhEaWZmICsgYWRqdXN0KSB8fCAwO1xuICAgIH1cblxuICAgIGhvb2tzLmRlZmF1bHRGb3JtYXQgPSAnWVlZWS1NTS1ERFRISDptbTpzc1onO1xuICAgIGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgPSAnWVlZWS1NTS1ERFRISDptbTpzc1taXSc7XG5cbiAgICBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoJ2VuJykuZm9ybWF0KCdkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvSVNPU3RyaW5nKGtlZXBPZmZzZXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHV0YyA9IGtlZXBPZmZzZXQgIT09IHRydWUsXG4gICAgICAgICAgICBtID0gdXRjID8gdGhpcy5jbG9uZSgpLnV0YygpIDogdGhpcztcbiAgICAgICAgaWYgKG0ueWVhcigpIDwgMCB8fCBtLnllYXIoKSA+IDk5OTkpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQoXG4gICAgICAgICAgICAgICAgbSxcbiAgICAgICAgICAgICAgICB1dGNcbiAgICAgICAgICAgICAgICAgICAgPyAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJ1xuICAgICAgICAgICAgICAgICAgICA6ICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NaJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGdW5jdGlvbihEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZykpIHtcbiAgICAgICAgICAgIC8vIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpcyB+NTB4IGZhc3RlciwgdXNlIGl0IHdoZW4gd2UgY2FuXG4gICAgICAgICAgICBpZiAodXRjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpICsgdGhpcy51dGNPZmZzZXQoKSAqIDYwICogMTAwMClcbiAgICAgICAgICAgICAgICAgICAgLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJ1onLCBmb3JtYXRNb21lbnQobSwgJ1onKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChcbiAgICAgICAgICAgIG0sXG4gICAgICAgICAgICB1dGMgPyAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScgOiAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1onXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cbiAgICAgKiBhbHNvIGJlIGV2YWx1YXRlZCB0byBnZXQgYSBuZXcgbW9tZW50IHdoaWNoIGlzIHRoZSBzYW1lXG4gICAgICpcbiAgICAgKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc3BlY3QoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAnbW9tZW50LmludmFsaWQoLyogJyArIHRoaXMuX2kgKyAnICovKSc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZ1bmMgPSAnbW9tZW50JyxcbiAgICAgICAgICAgIHpvbmUgPSAnJyxcbiAgICAgICAgICAgIHByZWZpeCxcbiAgICAgICAgICAgIHllYXIsXG4gICAgICAgICAgICBkYXRldGltZSxcbiAgICAgICAgICAgIHN1ZmZpeDtcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9jYWwoKSkge1xuICAgICAgICAgICAgZnVuYyA9IHRoaXMudXRjT2Zmc2V0KCkgPT09IDAgPyAnbW9tZW50LnV0YycgOiAnbW9tZW50LnBhcnNlWm9uZSc7XG4gICAgICAgICAgICB6b25lID0gJ1onO1xuICAgICAgICB9XG4gICAgICAgIHByZWZpeCA9ICdbJyArIGZ1bmMgKyAnKFwiXSc7XG4gICAgICAgIHllYXIgPSAwIDw9IHRoaXMueWVhcigpICYmIHRoaXMueWVhcigpIDw9IDk5OTkgPyAnWVlZWScgOiAnWVlZWVlZJztcbiAgICAgICAgZGF0ZXRpbWUgPSAnLU1NLUREW1RdSEg6bW06c3MuU1NTJztcbiAgICAgICAgc3VmZml4ID0gem9uZSArICdbXCIpXSc7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KHByZWZpeCArIHllYXIgKyBkYXRldGltZSArIHN1ZmZpeCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0KGlucHV0U3RyaW5nKSB7XG4gICAgICAgIGlmICghaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgICAgIGlucHV0U3RyaW5nID0gdGhpcy5pc1V0YygpXG4gICAgICAgICAgICAgICAgPyBob29rcy5kZWZhdWx0Rm9ybWF0VXRjXG4gICAgICAgICAgICAgICAgOiBob29rcy5kZWZhdWx0Rm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXQgPSBmb3JtYXRNb21lbnQodGhpcywgaW5wdXRTdHJpbmcpO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChvdXRwdXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZyb20odGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHwgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7IHRvOiB0aGlzLCBmcm9tOiB0aW1lIH0pXG4gICAgICAgICAgICAgICAgLmxvY2FsZSh0aGlzLmxvY2FsZSgpKVxuICAgICAgICAgICAgICAgIC5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZyb21Ob3cod2l0aG91dFN1ZmZpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcm9tKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8IGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oeyBmcm9tOiB0aGlzLCB0bzogdGltZSB9KVxuICAgICAgICAgICAgICAgIC5sb2NhbGUodGhpcy5sb2NhbGUoKSlcbiAgICAgICAgICAgICAgICAuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b05vdyh3aXRob3V0U3VmZml4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xuICAgIH1cblxuICAgIC8vIElmIHBhc3NlZCBhIGxvY2FsZSBrZXksIGl0IHdpbGwgc2V0IHRoZSBsb2NhbGUgZm9yIHRoaXNcbiAgICAvLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG4gICAgLy8gdmFyaWFibGVzIGZvciB0aGlzIGluc3RhbmNlLlxuICAgIGZ1bmN0aW9uIGxvY2FsZShrZXkpIHtcbiAgICAgICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICAgICAgaWYgKG5ld0xvY2FsZURhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsYW5nID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9tZW50KCkubGFuZygpIGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQsIHVzZSBtb21lbnQoKS5sb2NhbGVEYXRhKCkgdG8gZ2V0IHRoZSBsYW5ndWFnZSBjb25maWd1cmF0aW9uLiBVc2UgbW9tZW50KCkubG9jYWxlKCkgdG8gY2hhbmdlIGxhbmd1YWdlcy4nLFxuICAgICAgICBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIGZ1bmN0aW9uIGxvY2FsZURhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGU7XG4gICAgfVxuXG4gICAgdmFyIE1TX1BFUl9TRUNPTkQgPSAxMDAwLFxuICAgICAgICBNU19QRVJfTUlOVVRFID0gNjAgKiBNU19QRVJfU0VDT05ELFxuICAgICAgICBNU19QRVJfSE9VUiA9IDYwICogTVNfUEVSX01JTlVURSxcbiAgICAgICAgTVNfUEVSXzQwMF9ZRUFSUyA9ICgzNjUgKiA0MDAgKyA5NykgKiAyNCAqIE1TX1BFUl9IT1VSO1xuXG4gICAgLy8gYWN0dWFsIG1vZHVsbyAtIGhhbmRsZXMgbmVnYXRpdmUgbnVtYmVycyAoZm9yIGRhdGVzIGJlZm9yZSAxOTcwKTpcbiAgICBmdW5jdGlvbiBtb2QkMShkaXZpZGVuZCwgZGl2aXNvcikge1xuICAgICAgICByZXR1cm4gKChkaXZpZGVuZCAlIGRpdmlzb3IpICsgZGl2aXNvcikgJSBkaXZpc29yO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsU3RhcnRPZkRhdGUoeSwgbSwgZCkge1xuICAgICAgICAvLyB0aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICAgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwKSB7XG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHkgKyA0MDAsIG0sIGQpIC0gTVNfUEVSXzQwMF9ZRUFSUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh5LCBtLCBkKS52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1dGNTdGFydE9mRGF0ZSh5LCBtLCBkKSB7XG4gICAgICAgIC8vIERhdGUuVVRDIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5VVEMoeSArIDQwMCwgbSwgZCkgLSBNU19QRVJfNDAwX1lFQVJTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIERhdGUuVVRDKHksIG0sIGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnRPZih1bml0cykge1xuICAgICAgICB2YXIgdGltZSwgc3RhcnRPZkRhdGU7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJyB8fCAhdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnRPZkRhdGUgPSB0aGlzLl9pc1VUQyA/IHV0Y1N0YXJ0T2ZEYXRlIDogbG9jYWxTdGFydE9mRGF0ZTtcblxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIDAsIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb250aCgpIC0gKHRoaXMubW9udGgoKSAlIDMpLFxuICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueWVhcigpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSgpIC0gdGhpcy53ZWVrZGF5KClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb250aCgpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUoKSAtICh0aGlzLmlzb1dlZWtkYXkoKSAtIDEpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaG91cic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIHRpbWUgLT0gbW9kJDEoXG4gICAgICAgICAgICAgICAgICAgIHRpbWUgKyAodGhpcy5faXNVVEMgPyAwIDogdGhpcy51dGNPZmZzZXQoKSAqIE1TX1BFUl9NSU5VVEUpLFxuICAgICAgICAgICAgICAgICAgICBNU19QRVJfSE9VUlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB0aW1lIC09IG1vZCQxKHRpbWUsIE1TX1BFUl9NSU5VVEUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSAtPSBtb2QkMSh0aW1lLCBNU19QRVJfU0VDT05EKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Quc2V0VGltZSh0aW1lKTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmRPZih1bml0cykge1xuICAgICAgICB2YXIgdGltZSwgc3RhcnRPZkRhdGU7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJyB8fCAhdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnRPZkRhdGUgPSB0aGlzLl9pc1VUQyA/IHV0Y1N0YXJ0T2ZEYXRlIDogbG9jYWxTdGFydE9mRGF0ZTtcblxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCkgKyAxLCAwLCAxKSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdxdWFydGVyJzpcbiAgICAgICAgICAgICAgICB0aW1lID1cbiAgICAgICAgICAgICAgICAgICAgc3RhcnRPZkRhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9udGgoKSAtICh0aGlzLm1vbnRoKCkgJSAzKSArIDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpICsgMSwgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgICAgICAgICAgdGltZSA9XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0T2ZEYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy55ZWFyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUoKSAtIHRoaXMud2Vla2RheSgpICsgN1xuICAgICAgICAgICAgICAgICAgICApIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2lzb1dlZWsnOlxuICAgICAgICAgICAgICAgIHRpbWUgPVxuICAgICAgICAgICAgICAgICAgICBzdGFydE9mRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb250aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlKCkgLSAodGhpcy5pc29XZWVrZGF5KCkgLSAxKSArIDdcbiAgICAgICAgICAgICAgICAgICAgKSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpICsgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaG91cic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIHRpbWUgKz1cbiAgICAgICAgICAgICAgICAgICAgTVNfUEVSX0hPVVIgLVxuICAgICAgICAgICAgICAgICAgICBtb2QkMShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgKyAodGhpcy5faXNVVEMgPyAwIDogdGhpcy51dGNPZmZzZXQoKSAqIE1TX1BFUl9NSU5VVEUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgTVNfUEVSX0hPVVJcbiAgICAgICAgICAgICAgICAgICAgKSAtXG4gICAgICAgICAgICAgICAgICAgIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB0aW1lICs9IE1TX1BFUl9NSU5VVEUgLSBtb2QkMSh0aW1lLCBNU19QRVJfTUlOVVRFKSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZWNvbmQnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB0aW1lICs9IE1TX1BFUl9TRUNPTkQgLSBtb2QkMSh0aW1lLCBNU19QRVJfU0VDT05EKSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kLnNldFRpbWUodGltZSk7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsdWVPZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2QudmFsdWVPZigpIC0gKHRoaXMuX29mZnNldCB8fCAwKSAqIDYwMDAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVuaXgoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpIC8gMTAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9EYXRlKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvQXJyYXkoKSB7XG4gICAgICAgIHZhciBtID0gdGhpcztcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG0ueWVhcigpLFxuICAgICAgICAgICAgbS5tb250aCgpLFxuICAgICAgICAgICAgbS5kYXRlKCksXG4gICAgICAgICAgICBtLmhvdXIoKSxcbiAgICAgICAgICAgIG0ubWludXRlKCksXG4gICAgICAgICAgICBtLnNlY29uZCgpLFxuICAgICAgICAgICAgbS5taWxsaXNlY29uZCgpLFxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICAgICAgICB2YXIgbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB5ZWFyczogbS55ZWFyKCksXG4gICAgICAgICAgICBtb250aHM6IG0ubW9udGgoKSxcbiAgICAgICAgICAgIGRhdGU6IG0uZGF0ZSgpLFxuICAgICAgICAgICAgaG91cnM6IG0uaG91cnMoKSxcbiAgICAgICAgICAgIG1pbnV0ZXM6IG0ubWludXRlcygpLFxuICAgICAgICAgICAgc2Vjb25kczogbS5zZWNvbmRzKCksXG4gICAgICAgICAgICBtaWxsaXNlY29uZHM6IG0ubWlsbGlzZWNvbmRzKCksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAvLyBuZXcgRGF0ZShOYU4pLnRvSlNPTigpID09PSBudWxsXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMudG9JU09TdHJpbmcoKSA6IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNWYWxpZCQyKCkge1xuICAgICAgICByZXR1cm4gaXNWYWxpZCh0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzaW5nRmxhZ3MoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52YWxpZEF0KCkge1xuICAgICAgICByZXR1cm4gZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpLm92ZXJmbG93O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0aW9uRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlucHV0OiB0aGlzLl9pLFxuICAgICAgICAgICAgZm9ybWF0OiB0aGlzLl9mLFxuICAgICAgICAgICAgbG9jYWxlOiB0aGlzLl9sb2NhbGUsXG4gICAgICAgICAgICBpc1VUQzogdGhpcy5faXNVVEMsXG4gICAgICAgICAgICBzdHJpY3Q6IHRoaXMuX3N0cmljdCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhZGRGb3JtYXRUb2tlbignTicsIDAsIDAsICdlcmFBYmJyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ05OJywgMCwgMCwgJ2VyYUFiYnInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignTk5OJywgMCwgMCwgJ2VyYUFiYnInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignTk5OTicsIDAsIDAsICdlcmFOYW1lJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ05OTk5OJywgMCwgMCwgJ2VyYU5hcnJvdycpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3knLCBbJ3knLCAxXSwgJ3lvJywgJ2VyYVllYXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbigneScsIFsneXknLCAyXSwgMCwgJ2VyYVllYXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbigneScsIFsneXl5JywgM10sIDAsICdlcmFZZWFyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ3knLCBbJ3l5eXknLCA0XSwgMCwgJ2VyYVllYXInKTtcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ04nLCBtYXRjaEVyYUFiYnIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ05OJywgbWF0Y2hFcmFBYmJyKTtcbiAgICBhZGRSZWdleFRva2VuKCdOTk4nLCBtYXRjaEVyYUFiYnIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ05OTk4nLCBtYXRjaEVyYU5hbWUpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ05OTk5OJywgbWF0Y2hFcmFOYXJyb3cpO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ04nLCAnTk4nLCAnTk5OJywgJ05OTk4nLCAnTk5OTk4nXSwgZnVuY3Rpb24gKFxuICAgICAgICBpbnB1dCxcbiAgICAgICAgYXJyYXksXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgdG9rZW5cbiAgICApIHtcbiAgICAgICAgdmFyIGVyYSA9IGNvbmZpZy5fbG9jYWxlLmVyYXNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICAgICAgaWYgKGVyYSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZXJhID0gZXJhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEVyYSA9IGlucHV0O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBhZGRSZWdleFRva2VuKCd5JywgbWF0Y2hVbnNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbigneXknLCBtYXRjaFVuc2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCd5eXknLCBtYXRjaFVuc2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCd5eXl5JywgbWF0Y2hVbnNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbigneW8nLCBtYXRjaEVyYVllYXJPcmRpbmFsKTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWyd5JywgJ3l5JywgJ3l5eScsICd5eXl5J10sIFlFQVIpO1xuICAgIGFkZFBhcnNlVG9rZW4oWyd5byddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHZhciBtYXRjaDtcbiAgICAgICAgaWYgKGNvbmZpZy5fbG9jYWxlLl9lcmFZZWFyT3JkaW5hbFJlZ2V4KSB7XG4gICAgICAgICAgICBtYXRjaCA9IGlucHV0Lm1hdGNoKGNvbmZpZy5fbG9jYWxlLl9lcmFZZWFyT3JkaW5hbFJlZ2V4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcuX2xvY2FsZS5lcmFZZWFyT3JkaW5hbFBhcnNlKSB7XG4gICAgICAgICAgICBhcnJheVtZRUFSXSA9IGNvbmZpZy5fbG9jYWxlLmVyYVllYXJPcmRpbmFsUGFyc2UoaW5wdXQsIG1hdGNoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlRXJhcyhtLCBmb3JtYXQpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgZGF0ZSxcbiAgICAgICAgICAgIGVyYXMgPSB0aGlzLl9lcmFzIHx8IGdldExvY2FsZSgnZW4nKS5fZXJhcztcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGVyYXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBlcmFzW2ldLnNpbmNlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJ1bmNhdGUgdGltZVxuICAgICAgICAgICAgICAgICAgICBkYXRlID0gaG9va3MoZXJhc1tpXS5zaW5jZSkuc3RhcnRPZignZGF5Jyk7XG4gICAgICAgICAgICAgICAgICAgIGVyYXNbaV0uc2luY2UgPSBkYXRlLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIGVyYXNbaV0udW50aWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgICAgICAgICAgICBlcmFzW2ldLnVudGlsID0gK0luZmluaXR5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyB0cnVuY2F0ZSB0aW1lXG4gICAgICAgICAgICAgICAgICAgIGRhdGUgPSBob29rcyhlcmFzW2ldLnVudGlsKS5zdGFydE9mKCdkYXknKS52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgICAgIGVyYXNbaV0udW50aWwgPSBkYXRlLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVyYXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlRXJhc1BhcnNlKGVyYU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIGVyYXMgPSB0aGlzLmVyYXMoKSxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBhYmJyLFxuICAgICAgICAgICAgbmFycm93O1xuICAgICAgICBlcmFOYW1lID0gZXJhTmFtZS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBlcmFzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgbmFtZSA9IGVyYXNbaV0ubmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYWJiciA9IGVyYXNbaV0uYWJici50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgbmFycm93ID0gZXJhc1tpXS5uYXJyb3cudG9VcHBlckNhc2UoKTtcblxuICAgICAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdOTic6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ05OTic6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJiciA9PT0gZXJhTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcmFzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTk5OTic6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gZXJhTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcmFzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTk5OTk4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hcnJvdyA9PT0gZXJhTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcmFzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChbbmFtZSwgYWJiciwgbmFycm93XS5pbmRleE9mKGVyYU5hbWUpID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJhc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZUVyYXNDb252ZXJ0WWVhcihlcmEsIHllYXIpIHtcbiAgICAgICAgdmFyIGRpciA9IGVyYS5zaW5jZSA8PSBlcmEudW50aWwgPyArMSA6IC0xO1xuICAgICAgICBpZiAoeWVhciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9va3MoZXJhLnNpbmNlKS55ZWFyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaG9va3MoZXJhLnNpbmNlKS55ZWFyKCkgKyAoeWVhciAtIGVyYS5vZmZzZXQpICogZGlyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RXJhTmFtZSgpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgZXJhcyA9IHRoaXMubG9jYWxlRGF0YSgpLmVyYXMoKTtcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGVyYXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAvLyB0cnVuY2F0ZSB0aW1lXG4gICAgICAgICAgICB2YWwgPSB0aGlzLnN0YXJ0T2YoJ2RheScpLnZhbHVlT2YoKTtcblxuICAgICAgICAgICAgaWYgKGVyYXNbaV0uc2luY2UgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnVudGlsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlcmFzW2ldLnVudGlsIDw9IHZhbCAmJiB2YWwgPD0gZXJhc1tpXS5zaW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcmFzW2ldLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RXJhTmFycm93KCkge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIGwsXG4gICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICBlcmFzID0gdGhpcy5sb2NhbGVEYXRhKCkuZXJhcygpO1xuICAgICAgICBmb3IgKGkgPSAwLCBsID0gZXJhcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIC8vIHRydW5jYXRlIHRpbWVcbiAgICAgICAgICAgIHZhbCA9IHRoaXMuc3RhcnRPZignZGF5JykudmFsdWVPZigpO1xuXG4gICAgICAgICAgICBpZiAoZXJhc1tpXS5zaW5jZSA8PSB2YWwgJiYgdmFsIDw9IGVyYXNbaV0udW50aWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJhc1tpXS5uYXJyb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXJhc1tpXS51bnRpbCA8PSB2YWwgJiYgdmFsIDw9IGVyYXNbaV0uc2luY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJhc1tpXS5uYXJyb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RXJhQWJicigpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgZXJhcyA9IHRoaXMubG9jYWxlRGF0YSgpLmVyYXMoKTtcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGVyYXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAvLyB0cnVuY2F0ZSB0aW1lXG4gICAgICAgICAgICB2YWwgPSB0aGlzLnN0YXJ0T2YoJ2RheScpLnZhbHVlT2YoKTtcblxuICAgICAgICAgICAgaWYgKGVyYXNbaV0uc2luY2UgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnVudGlsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV0uYWJicjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlcmFzW2ldLnVudGlsIDw9IHZhbCAmJiB2YWwgPD0gZXJhc1tpXS5zaW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcmFzW2ldLmFiYnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RXJhWWVhcigpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgZGlyLFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgZXJhcyA9IHRoaXMubG9jYWxlRGF0YSgpLmVyYXMoKTtcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGVyYXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICBkaXIgPSBlcmFzW2ldLnNpbmNlIDw9IGVyYXNbaV0udW50aWwgPyArMSA6IC0xO1xuXG4gICAgICAgICAgICAvLyB0cnVuY2F0ZSB0aW1lXG4gICAgICAgICAgICB2YWwgPSB0aGlzLnN0YXJ0T2YoJ2RheScpLnZhbHVlT2YoKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChlcmFzW2ldLnNpbmNlIDw9IHZhbCAmJiB2YWwgPD0gZXJhc1tpXS51bnRpbCkgfHxcbiAgICAgICAgICAgICAgICAoZXJhc1tpXS51bnRpbCA8PSB2YWwgJiYgdmFsIDw9IGVyYXNbaV0uc2luY2UpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAodGhpcy55ZWFyKCkgLSBob29rcyhlcmFzW2ldLnNpbmNlKS55ZWFyKCkpICogZGlyICtcbiAgICAgICAgICAgICAgICAgICAgZXJhc1tpXS5vZmZzZXRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMueWVhcigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVyYXNOYW1lUmVnZXgoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfZXJhc05hbWVSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlRXJhc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzU3RyaWN0ID8gdGhpcy5fZXJhc05hbWVSZWdleCA6IHRoaXMuX2VyYXNSZWdleDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlcmFzQWJiclJlZ2V4KGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX2VyYXNBYmJyUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZUVyYXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc1N0cmljdCA/IHRoaXMuX2VyYXNBYmJyUmVnZXggOiB0aGlzLl9lcmFzUmVnZXg7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXJhc05hcnJvd1JlZ2V4KGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX2VyYXNOYXJyb3dSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlRXJhc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzU3RyaWN0ID8gdGhpcy5fZXJhc05hcnJvd1JlZ2V4IDogdGhpcy5fZXJhc1JlZ2V4O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hdGNoRXJhQWJicihpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUuZXJhc0FiYnJSZWdleChpc1N0cmljdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWF0Y2hFcmFOYW1lKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5lcmFzTmFtZVJlZ2V4KGlzU3RyaWN0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXRjaEVyYU5hcnJvdyhpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUuZXJhc05hcnJvd1JlZ2V4KGlzU3RyaWN0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXRjaEVyYVllYXJPcmRpbmFsKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5fZXJhWWVhck9yZGluYWxSZWdleCB8fCBtYXRjaFVuc2lnbmVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVFcmFzUGFyc2UoKSB7XG4gICAgICAgIHZhciBhYmJyUGllY2VzID0gW10sXG4gICAgICAgICAgICBuYW1lUGllY2VzID0gW10sXG4gICAgICAgICAgICBuYXJyb3dQaWVjZXMgPSBbXSxcbiAgICAgICAgICAgIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIGVyYXMgPSB0aGlzLmVyYXMoKTtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsID0gZXJhcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIG5hbWVQaWVjZXMucHVzaChyZWdleEVzY2FwZShlcmFzW2ldLm5hbWUpKTtcbiAgICAgICAgICAgIGFiYnJQaWVjZXMucHVzaChyZWdleEVzY2FwZShlcmFzW2ldLmFiYnIpKTtcbiAgICAgICAgICAgIG5hcnJvd1BpZWNlcy5wdXNoKHJlZ2V4RXNjYXBlKGVyYXNbaV0ubmFycm93KSk7XG5cbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2gocmVnZXhFc2NhcGUoZXJhc1tpXS5uYW1lKSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHJlZ2V4RXNjYXBlKGVyYXNbaV0uYWJicikpO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChyZWdleEVzY2FwZShlcmFzW2ldLm5hcnJvdykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZXJhc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl9lcmFzTmFtZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbmFtZVBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX2VyYXNBYmJyUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBhYmJyUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICAgICAgdGhpcy5fZXJhc05hcnJvd1JlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICdeKCcgKyBuYXJyb3dQaWVjZXMuam9pbignfCcpICsgJyknLFxuICAgICAgICAgICAgJ2knXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydnZycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndlZWtZZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ0dHJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNvV2Vla1llYXIoKSAlIDEwMDtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4odG9rZW4sIGdldHRlcikge1xuICAgICAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7XG4gICAgfVxuXG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICd3ZWVrWWVhcicpO1xuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgJ3dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHRycsICdpc29XZWVrWWVhcicpO1xuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0dHJywgJ2lzb1dlZWtZZWFyJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrWWVhcicsICdHRycpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnd2Vla1llYXInLCAxKTtcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtZZWFyJywgMSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdHJywgbWF0Y2hTaWduZWQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2cnLCBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignR0cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignZ2cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignR0dHRycsIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdnZ2dnJywgbWF0Y2gxdG80LCBtYXRjaDQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydnZ2dnJywgJ2dnZ2dnJywgJ0dHR0cnLCAnR0dHR0cnXSwgZnVuY3Rpb24gKFxuICAgICAgICBpbnB1dCxcbiAgICAgICAgd2VlayxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICB0b2tlblxuICAgICkge1xuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2dnJywgJ0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldFdlZWtZZWFyKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgdGhpcy53ZWVrKCksXG4gICAgICAgICAgICB0aGlzLndlZWtkYXkoKSxcbiAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyxcbiAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRveVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgdGhpcy5pc29XZWVrKCksXG4gICAgICAgICAgICB0aGlzLmlzb1dlZWtkYXkoKSxcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICA0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SVNPV2Vla3NJblllYXIoKSB7XG4gICAgICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgMSwgNCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SVNPV2Vla3NJbklTT1dlZWtZZWFyKCkge1xuICAgICAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy5pc29XZWVrWWVhcigpLCAxLCA0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRXZWVrc0luWWVhcigpIHtcbiAgICAgICAgdmFyIHdlZWtJbmZvID0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7XG4gICAgICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgd2Vla0luZm8uZG93LCB3ZWVrSW5mby5kb3kpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFdlZWtzSW5XZWVrWWVhcigpIHtcbiAgICAgICAgdmFyIHdlZWtJbmZvID0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7XG4gICAgICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLndlZWtZZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtzVGFyZ2V0O1xuICAgICAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG4gICAgICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgd2VlayA9IHdlZWtzVGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhckRhdGEgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXG4gICAgICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgICAgICB0aGlzLm1vbnRoKGRhdGUuZ2V0VVRDTW9udGgoKSk7XG4gICAgICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdxdWFydGVyJywgNyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbiAgICBhZGRQYXJzZVRva2VuKCdRJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xuICAgIH0pO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0UXVhcnRlcihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbFxuICAgICAgICAgICAgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMylcbiAgICAgICAgICAgIDogdGhpcy5tb250aCgoaW5wdXQgLSAxKSAqIDMgKyAodGhpcy5tb250aCgpICUgMykpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXRlJywgJ0QnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdEJywgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdERCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdEbycsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICAgICAgcmV0dXJuIGlzU3RyaWN0XG4gICAgICAgICAgICA/IGxvY2FsZS5fZGF5T2ZNb250aE9yZGluYWxQYXJzZSB8fCBsb2NhbGUuX29yZGluYWxQYXJzZVxuICAgICAgICAgICAgOiBsb2NhbGUuX2RheU9mTW9udGhPcmRpbmFsUGFyc2VMZW5pZW50O1xuICAgIH0pO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ0QnLCAnREQnXSwgREFURSk7XG4gICAgYWRkUGFyc2VUb2tlbignRG8nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSk7XG4gICAgfSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0RGF5T2ZNb250aCA9IG1ha2VHZXRTZXQoJ0RhdGUnLCB0cnVlKTtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ2RheU9mWWVhcicsICdEREQnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXlPZlllYXInLCA0KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ0RERCcsIG1hdGNoMXRvMyk7XG4gICAgYWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG4gICAgYWRkUGFyc2VUb2tlbihbJ0RERCcsICdEREREJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldERheU9mWWVhcihpbnB1dCkge1xuICAgICAgICB2YXIgZGF5T2ZZZWFyID1cbiAgICAgICAgICAgIE1hdGgucm91bmQoXG4gICAgICAgICAgICAgICAgKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTVcbiAgICAgICAgICAgICkgKyAxO1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IGRheU9mWWVhciA6IHRoaXMuYWRkKGlucHV0IC0gZGF5T2ZZZWFyLCAnZCcpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbnV0ZScsICdtJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdtJywgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdtbScsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRQYXJzZVRva2VuKFsnbScsICdtbSddLCBNSU5VVEUpO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldE1pbnV0ZSA9IG1ha2VHZXRTZXQoJ01pbnV0ZXMnLCBmYWxzZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigncycsIFsnc3MnLCAyXSwgMCwgJ3NlY29uZCcpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdzZWNvbmQnLCAncycpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnc2Vjb25kJywgMTUpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbigncycsIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignc3MnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ3MnLCAnc3MnXSwgU0VDT05EKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRTZWNvbmQgPSBtYWtlR2V0U2V0KCdTZWNvbmRzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMDApO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTUycsIDNdLCAwLCAnbWlsbGlzZWNvbmQnKTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1MnLCA0XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTUycsIDVdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1MnLCA2XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1MnLCA3XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTUycsIDhdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTU1MnLCA5XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwMDtcbiAgICB9KTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnbWlsbGlzZWNvbmQnLCAnbXMnKTtcblxuICAgIC8vIFBSSU9SSVRZXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ21pbGxpc2Vjb25kJywgMTYpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignUycsIG1hdGNoMXRvMywgbWF0Y2gxKTtcbiAgICBhZGRSZWdleFRva2VuKCdTUycsIG1hdGNoMXRvMywgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdTU1MnLCBtYXRjaDF0bzMsIG1hdGNoMyk7XG5cbiAgICB2YXIgdG9rZW4sIGdldFNldE1pbGxpc2Vjb25kO1xuICAgIGZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICAgICAgYWRkUmVnZXhUb2tlbih0b2tlbiwgbWF0Y2hVbnNpZ25lZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTUlMTElTRUNPTkRdID0gdG9JbnQoKCcwLicgKyBpbnB1dCkgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIHBhcnNlTXMpO1xuICAgIH1cblxuICAgIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3onLCAwLCAwLCAnem9uZUFiYnInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignenonLCAwLCAwLCAnem9uZU5hbWUnKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFpvbmVBYmJyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnVVRDJyA6ICcnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFpvbmVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvID0gTW9tZW50LnByb3RvdHlwZTtcblxuICAgIHByb3RvLmFkZCA9IGFkZDtcbiAgICBwcm90by5jYWxlbmRhciA9IGNhbGVuZGFyJDE7XG4gICAgcHJvdG8uY2xvbmUgPSBjbG9uZTtcbiAgICBwcm90by5kaWZmID0gZGlmZjtcbiAgICBwcm90by5lbmRPZiA9IGVuZE9mO1xuICAgIHByb3RvLmZvcm1hdCA9IGZvcm1hdDtcbiAgICBwcm90by5mcm9tID0gZnJvbTtcbiAgICBwcm90by5mcm9tTm93ID0gZnJvbU5vdztcbiAgICBwcm90by50byA9IHRvO1xuICAgIHByb3RvLnRvTm93ID0gdG9Ob3c7XG4gICAgcHJvdG8uZ2V0ID0gc3RyaW5nR2V0O1xuICAgIHByb3RvLmludmFsaWRBdCA9IGludmFsaWRBdDtcbiAgICBwcm90by5pc0FmdGVyID0gaXNBZnRlcjtcbiAgICBwcm90by5pc0JlZm9yZSA9IGlzQmVmb3JlO1xuICAgIHByb3RvLmlzQmV0d2VlbiA9IGlzQmV0d2VlbjtcbiAgICBwcm90by5pc1NhbWUgPSBpc1NhbWU7XG4gICAgcHJvdG8uaXNTYW1lT3JBZnRlciA9IGlzU2FtZU9yQWZ0ZXI7XG4gICAgcHJvdG8uaXNTYW1lT3JCZWZvcmUgPSBpc1NhbWVPckJlZm9yZTtcbiAgICBwcm90by5pc1ZhbGlkID0gaXNWYWxpZCQyO1xuICAgIHByb3RvLmxhbmcgPSBsYW5nO1xuICAgIHByb3RvLmxvY2FsZSA9IGxvY2FsZTtcbiAgICBwcm90by5sb2NhbGVEYXRhID0gbG9jYWxlRGF0YTtcbiAgICBwcm90by5tYXggPSBwcm90b3R5cGVNYXg7XG4gICAgcHJvdG8ubWluID0gcHJvdG90eXBlTWluO1xuICAgIHByb3RvLnBhcnNpbmdGbGFncyA9IHBhcnNpbmdGbGFncztcbiAgICBwcm90by5zZXQgPSBzdHJpbmdTZXQ7XG4gICAgcHJvdG8uc3RhcnRPZiA9IHN0YXJ0T2Y7XG4gICAgcHJvdG8uc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBwcm90by50b0FycmF5ID0gdG9BcnJheTtcbiAgICBwcm90by50b09iamVjdCA9IHRvT2JqZWN0O1xuICAgIHByb3RvLnRvRGF0ZSA9IHRvRGF0ZTtcbiAgICBwcm90by50b0lTT1N0cmluZyA9IHRvSVNPU3RyaW5nO1xuICAgIHByb3RvLmluc3BlY3QgPSBpbnNwZWN0O1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuZm9yICE9IG51bGwpIHtcbiAgICAgICAgcHJvdG9bU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ01vbWVudDwnICsgdGhpcy5mb3JtYXQoKSArICc+JztcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcHJvdG8udG9KU09OID0gdG9KU09OO1xuICAgIHByb3RvLnRvU3RyaW5nID0gdG9TdHJpbmc7XG4gICAgcHJvdG8udW5peCA9IHVuaXg7XG4gICAgcHJvdG8udmFsdWVPZiA9IHZhbHVlT2Y7XG4gICAgcHJvdG8uY3JlYXRpb25EYXRhID0gY3JlYXRpb25EYXRhO1xuICAgIHByb3RvLmVyYU5hbWUgPSBnZXRFcmFOYW1lO1xuICAgIHByb3RvLmVyYU5hcnJvdyA9IGdldEVyYU5hcnJvdztcbiAgICBwcm90by5lcmFBYmJyID0gZ2V0RXJhQWJicjtcbiAgICBwcm90by5lcmFZZWFyID0gZ2V0RXJhWWVhcjtcbiAgICBwcm90by55ZWFyID0gZ2V0U2V0WWVhcjtcbiAgICBwcm90by5pc0xlYXBZZWFyID0gZ2V0SXNMZWFwWWVhcjtcbiAgICBwcm90by53ZWVrWWVhciA9IGdldFNldFdlZWtZZWFyO1xuICAgIHByb3RvLmlzb1dlZWtZZWFyID0gZ2V0U2V0SVNPV2Vla1llYXI7XG4gICAgcHJvdG8ucXVhcnRlciA9IHByb3RvLnF1YXJ0ZXJzID0gZ2V0U2V0UXVhcnRlcjtcbiAgICBwcm90by5tb250aCA9IGdldFNldE1vbnRoO1xuICAgIHByb3RvLmRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGg7XG4gICAgcHJvdG8ud2VlayA9IHByb3RvLndlZWtzID0gZ2V0U2V0V2VlaztcbiAgICBwcm90by5pc29XZWVrID0gcHJvdG8uaXNvV2Vla3MgPSBnZXRTZXRJU09XZWVrO1xuICAgIHByb3RvLndlZWtzSW5ZZWFyID0gZ2V0V2Vla3NJblllYXI7XG4gICAgcHJvdG8ud2Vla3NJbldlZWtZZWFyID0gZ2V0V2Vla3NJbldlZWtZZWFyO1xuICAgIHByb3RvLmlzb1dlZWtzSW5ZZWFyID0gZ2V0SVNPV2Vla3NJblllYXI7XG4gICAgcHJvdG8uaXNvV2Vla3NJbklTT1dlZWtZZWFyID0gZ2V0SVNPV2Vla3NJbklTT1dlZWtZZWFyO1xuICAgIHByb3RvLmRhdGUgPSBnZXRTZXREYXlPZk1vbnRoO1xuICAgIHByb3RvLmRheSA9IHByb3RvLmRheXMgPSBnZXRTZXREYXlPZldlZWs7XG4gICAgcHJvdG8ud2Vla2RheSA9IGdldFNldExvY2FsZURheU9mV2VlaztcbiAgICBwcm90by5pc29XZWVrZGF5ID0gZ2V0U2V0SVNPRGF5T2ZXZWVrO1xuICAgIHByb3RvLmRheU9mWWVhciA9IGdldFNldERheU9mWWVhcjtcbiAgICBwcm90by5ob3VyID0gcHJvdG8uaG91cnMgPSBnZXRTZXRIb3VyO1xuICAgIHByb3RvLm1pbnV0ZSA9IHByb3RvLm1pbnV0ZXMgPSBnZXRTZXRNaW51dGU7XG4gICAgcHJvdG8uc2Vjb25kID0gcHJvdG8uc2Vjb25kcyA9IGdldFNldFNlY29uZDtcbiAgICBwcm90by5taWxsaXNlY29uZCA9IHByb3RvLm1pbGxpc2Vjb25kcyA9IGdldFNldE1pbGxpc2Vjb25kO1xuICAgIHByb3RvLnV0Y09mZnNldCA9IGdldFNldE9mZnNldDtcbiAgICBwcm90by51dGMgPSBzZXRPZmZzZXRUb1VUQztcbiAgICBwcm90by5sb2NhbCA9IHNldE9mZnNldFRvTG9jYWw7XG4gICAgcHJvdG8ucGFyc2Vab25lID0gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQ7XG4gICAgcHJvdG8uaGFzQWxpZ25lZEhvdXJPZmZzZXQgPSBoYXNBbGlnbmVkSG91ck9mZnNldDtcbiAgICBwcm90by5pc0RTVCA9IGlzRGF5bGlnaHRTYXZpbmdUaW1lO1xuICAgIHByb3RvLmlzTG9jYWwgPSBpc0xvY2FsO1xuICAgIHByb3RvLmlzVXRjT2Zmc2V0ID0gaXNVdGNPZmZzZXQ7XG4gICAgcHJvdG8uaXNVdGMgPSBpc1V0YztcbiAgICBwcm90by5pc1VUQyA9IGlzVXRjO1xuICAgIHByb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7XG4gICAgcHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcbiAgICBwcm90by5kYXRlcyA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJyxcbiAgICAgICAgZ2V0U2V0RGF5T2ZNb250aFxuICAgICk7XG4gICAgcHJvdG8ubW9udGhzID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJyxcbiAgICAgICAgZ2V0U2V0TW9udGhcbiAgICApO1xuICAgIHByb3RvLnllYXJzID0gZGVwcmVjYXRlKFxuICAgICAgICAneWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZCcsXG4gICAgICAgIGdldFNldFllYXJcbiAgICApO1xuICAgIHByb3RvLnpvbmUgPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsXG4gICAgICAgIGdldFNldFpvbmVcbiAgICApO1xuICAgIHByb3RvLmlzRFNUU2hpZnRlZCA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ2lzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb24nLFxuICAgICAgICBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWRcbiAgICApO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlVW5peChpbnB1dCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJblpvbmUoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpLnBhcnNlWm9uZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZVBhcnNlUG9zdEZvcm1hdChzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8kMSA9IExvY2FsZS5wcm90b3R5cGU7XG5cbiAgICBwcm90byQxLmNhbGVuZGFyID0gY2FsZW5kYXI7XG4gICAgcHJvdG8kMS5sb25nRGF0ZUZvcm1hdCA9IGxvbmdEYXRlRm9ybWF0O1xuICAgIHByb3RvJDEuaW52YWxpZERhdGUgPSBpbnZhbGlkRGF0ZTtcbiAgICBwcm90byQxLm9yZGluYWwgPSBvcmRpbmFsO1xuICAgIHByb3RvJDEucHJlcGFyc2UgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG4gICAgcHJvdG8kMS5wb3N0Zm9ybWF0ID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xuICAgIHByb3RvJDEucmVsYXRpdmVUaW1lID0gcmVsYXRpdmVUaW1lO1xuICAgIHByb3RvJDEucGFzdEZ1dHVyZSA9IHBhc3RGdXR1cmU7XG4gICAgcHJvdG8kMS5zZXQgPSBzZXQ7XG4gICAgcHJvdG8kMS5lcmFzID0gbG9jYWxlRXJhcztcbiAgICBwcm90byQxLmVyYXNQYXJzZSA9IGxvY2FsZUVyYXNQYXJzZTtcbiAgICBwcm90byQxLmVyYXNDb252ZXJ0WWVhciA9IGxvY2FsZUVyYXNDb252ZXJ0WWVhcjtcbiAgICBwcm90byQxLmVyYXNBYmJyUmVnZXggPSBlcmFzQWJiclJlZ2V4O1xuICAgIHByb3RvJDEuZXJhc05hbWVSZWdleCA9IGVyYXNOYW1lUmVnZXg7XG4gICAgcHJvdG8kMS5lcmFzTmFycm93UmVnZXggPSBlcmFzTmFycm93UmVnZXg7XG5cbiAgICBwcm90byQxLm1vbnRocyA9IGxvY2FsZU1vbnRocztcbiAgICBwcm90byQxLm1vbnRoc1Nob3J0ID0gbG9jYWxlTW9udGhzU2hvcnQ7XG4gICAgcHJvdG8kMS5tb250aHNQYXJzZSA9IGxvY2FsZU1vbnRoc1BhcnNlO1xuICAgIHByb3RvJDEubW9udGhzUmVnZXggPSBtb250aHNSZWdleDtcbiAgICBwcm90byQxLm1vbnRoc1Nob3J0UmVnZXggPSBtb250aHNTaG9ydFJlZ2V4O1xuICAgIHByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG4gICAgcHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xuICAgIHByb3RvJDEuZmlyc3REYXlPZldlZWsgPSBsb2NhbGVGaXJzdERheU9mV2VlaztcblxuICAgIHByb3RvJDEud2Vla2RheXMgPSBsb2NhbGVXZWVrZGF5cztcbiAgICBwcm90byQxLndlZWtkYXlzTWluID0gbG9jYWxlV2Vla2RheXNNaW47XG4gICAgcHJvdG8kMS53ZWVrZGF5c1Nob3J0ID0gbG9jYWxlV2Vla2RheXNTaG9ydDtcbiAgICBwcm90byQxLndlZWtkYXlzUGFyc2UgPSBsb2NhbGVXZWVrZGF5c1BhcnNlO1xuXG4gICAgcHJvdG8kMS53ZWVrZGF5c1JlZ2V4ID0gd2Vla2RheXNSZWdleDtcbiAgICBwcm90byQxLndlZWtkYXlzU2hvcnRSZWdleCA9IHdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICBwcm90byQxLndlZWtkYXlzTWluUmVnZXggPSB3ZWVrZGF5c01pblJlZ2V4O1xuXG4gICAgcHJvdG8kMS5pc1BNID0gbG9jYWxlSXNQTTtcbiAgICBwcm90byQxLm1lcmlkaWVtID0gbG9jYWxlTWVyaWRpZW07XG5cbiAgICBmdW5jdGlvbiBnZXQkMShmb3JtYXQsIGluZGV4LCBmaWVsZCwgc2V0dGVyKSB7XG4gICAgICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKSxcbiAgICAgICAgICAgIHV0YyA9IGNyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGxvY2FsZVtmaWVsZF0odXRjLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgb3V0ID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIC8vICgpXG4gICAgLy8gKDUpXG4gICAgLy8gKGZtdCwgNSlcbiAgICAvLyAoZm10KVxuICAgIC8vICh0cnVlKVxuICAgIC8vICh0cnVlLCA1KVxuICAgIC8vICh0cnVlLCBmbXQsIDUpXG4gICAgLy8gKHRydWUsIGZtdClcbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgZmllbGQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsb2NhbGVTb3J0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvcm1hdCA9IGxvY2FsZVNvcnRlZDtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgbG9jYWxlU29ydGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCksXG4gICAgICAgICAgICBzaGlmdCA9IGxvY2FsZVNvcnRlZCA/IGxvY2FsZS5fd2Vlay5kb3cgOiAwLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIG91dCA9IFtdO1xuXG4gICAgICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCAoaW5kZXggKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCAoaSArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0TW9udGhzKGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0TW9udGhzU2hvcnQoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5cycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RXZWVrZGF5c1Nob3J0KGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzTWluKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xuICAgIH1cblxuICAgIGdldFNldEdsb2JhbExvY2FsZSgnZW4nLCB7XG4gICAgICAgIGVyYXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzaW5jZTogJzAwMDEtMDEtMDEnLFxuICAgICAgICAgICAgICAgIHVudGlsOiArSW5maW5pdHksXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAxLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdBbm5vIERvbWluaScsXG4gICAgICAgICAgICAgICAgbmFycm93OiAnQUQnLFxuICAgICAgICAgICAgICAgIGFiYnI6ICdBRCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNpbmNlOiAnMDAwMC0xMi0zMScsXG4gICAgICAgICAgICAgICAgdW50aWw6IC1JbmZpbml0eSxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDEsXG4gICAgICAgICAgICAgICAgbmFtZTogJ0JlZm9yZSBDaHJpc3QnLFxuICAgICAgICAgICAgICAgIG5hcnJvdzogJ0JDJyxcbiAgICAgICAgICAgICAgICBhYmJyOiAnQkMnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgZGF5T2ZNb250aE9yZGluYWxQYXJzZTogL1xcZHsxLDJ9KHRofHN0fG5kfHJkKS8sXG4gICAgICAgIG9yZGluYWw6IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBiID0gbnVtYmVyICUgMTAsXG4gICAgICAgICAgICAgICAgb3V0cHV0ID1cbiAgICAgICAgICAgICAgICAgICAgdG9JbnQoKG51bWJlciAlIDEwMCkgLyAxMCkgPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBiID09PSAxXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdzdCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYiA9PT0gMlxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnbmQnXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGIgPT09IDNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ3JkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAndGgnO1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuICAgIGhvb2tzLmxhbmcgPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsXG4gICAgICAgIGdldFNldEdsb2JhbExvY2FsZVxuICAgICk7XG4gICAgaG9va3MubGFuZ0RhdGEgPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuJyxcbiAgICAgICAgZ2V0TG9jYWxlXG4gICAgKTtcblxuICAgIHZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cbiAgICBmdW5jdGlvbiBhYnMoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XG4gICAgICAgIHRoaXMuX2RheXMgPSBtYXRoQWJzKHRoaXMuX2RheXMpO1xuICAgICAgICB0aGlzLl9tb250aHMgPSBtYXRoQWJzKHRoaXMuX21vbnRocyk7XG5cbiAgICAgICAgZGF0YS5taWxsaXNlY29uZHMgPSBtYXRoQWJzKGRhdGEubWlsbGlzZWNvbmRzKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG4gICAgICAgIGRhdGEuaG91cnMgPSBtYXRoQWJzKGRhdGEuaG91cnMpO1xuICAgICAgICBkYXRhLm1vbnRocyA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuICAgICAgICBkYXRhLnllYXJzID0gbWF0aEFicyhkYXRhLnllYXJzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRTdWJ0cmFjdCQxKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVEdXJhdGlvbihpbnB1dCwgdmFsdWUpO1xuXG4gICAgICAgIGR1cmF0aW9uLl9taWxsaXNlY29uZHMgKz0gZGlyZWN0aW9uICogb3RoZXIuX21pbGxpc2Vjb25kcztcbiAgICAgICAgZHVyYXRpb24uX2RheXMgKz0gZGlyZWN0aW9uICogb3RoZXIuX2RheXM7XG4gICAgICAgIGR1cmF0aW9uLl9tb250aHMgKz0gZGlyZWN0aW9uICogb3RoZXIuX21vbnRocztcblxuICAgICAgICByZXR1cm4gZHVyYXRpb24uX2J1YmJsZSgpO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIGFkZCgxLCAncycpIG9yIGFkZChkdXJhdGlvbilcbiAgICBmdW5jdGlvbiBhZGQkMShpbnB1dCwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAxKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBzdWJ0cmFjdCgxLCAncycpIG9yIHN1YnRyYWN0KGR1cmF0aW9uKVxuICAgIGZ1bmN0aW9uIHN1YnRyYWN0JDEoaW5wdXQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic0NlaWwobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYnViYmxlKCkge1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzLFxuICAgICAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMsXG4gICAgICAgICAgICBtb250aHMgPSB0aGlzLl9tb250aHMsXG4gICAgICAgICAgICBkYXRhID0gdGhpcy5fZGF0YSxcbiAgICAgICAgICAgIHNlY29uZHMsXG4gICAgICAgICAgICBtaW51dGVzLFxuICAgICAgICAgICAgaG91cnMsXG4gICAgICAgICAgICB5ZWFycyxcbiAgICAgICAgICAgIG1vbnRoc0Zyb21EYXlzO1xuXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBtaXggb2YgcG9zaXRpdmUgYW5kIG5lZ2F0aXZlIHZhbHVlcywgYnViYmxlIGRvd24gZmlyc3RcbiAgICAgICAgLy8gY2hlY2s6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yMTY2XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcbiAgICAgICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKVxuICAgICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcbiAgICAgICAgICAgIGRheXMgPSAwO1xuICAgICAgICAgICAgbW9udGhzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAgICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cbiAgICAgICAgc2Vjb25kcyA9IGFic0Zsb29yKG1pbGxpc2Vjb25kcyAvIDEwMDApO1xuICAgICAgICBkYXRhLnNlY29uZHMgPSBzZWNvbmRzICUgNjA7XG5cbiAgICAgICAgbWludXRlcyA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgICAgIGRhdGEubWludXRlcyA9IG1pbnV0ZXMgJSA2MDtcblxuICAgICAgICBob3VycyA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIGRhdGEuaG91cnMgPSBob3VycyAlIDI0O1xuXG4gICAgICAgIGRheXMgKz0gYWJzRmxvb3IoaG91cnMgLyAyNCk7XG5cbiAgICAgICAgLy8gY29udmVydCBkYXlzIHRvIG1vbnRoc1xuICAgICAgICBtb250aHNGcm9tRGF5cyA9IGFic0Zsb29yKGRheXNUb01vbnRocyhkYXlzKSk7XG4gICAgICAgIG1vbnRocyArPSBtb250aHNGcm9tRGF5cztcbiAgICAgICAgZGF5cyAtPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHNGcm9tRGF5cykpO1xuXG4gICAgICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICAgICAgeWVhcnMgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgICAgIG1vbnRocyAlPSAxMjtcblxuICAgICAgICBkYXRhLmRheXMgPSBkYXlzO1xuICAgICAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICAgICAgZGF0YS55ZWFycyA9IHllYXJzO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRheXNUb01vbnRocyhkYXlzKSB7XG4gICAgICAgIC8vIDQwMCB5ZWFycyBoYXZlIDE0NjA5NyBkYXlzICh0YWtpbmcgaW50byBhY2NvdW50IGxlYXAgeWVhciBydWxlcylcbiAgICAgICAgLy8gNDAwIHllYXJzIGhhdmUgMTIgbW9udGhzID09PSA0ODAwXG4gICAgICAgIHJldHVybiAoZGF5cyAqIDQ4MDApIC8gMTQ2MDk3O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoc1RvRGF5cyhtb250aHMpIHtcbiAgICAgICAgLy8gdGhlIHJldmVyc2Ugb2YgZGF5c1RvTW9udGhzXG4gICAgICAgIHJldHVybiAobW9udGhzICogMTQ2MDk3KSAvIDQ4MDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXModW5pdHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF5cyxcbiAgICAgICAgICAgIG1vbnRocyxcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgICAgICBpZiAodW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICdxdWFydGVyJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuICAgICAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRocztcbiAgICAgICAgICAgICAgICBjYXNlICdxdWFydGVyJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRocyAvIDM7XG4gICAgICAgICAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb250aHMgLyAxMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2NylcbiAgICAgICAgICAgIGRheXMgPSB0aGlzLl9kYXlzICsgTWF0aC5yb3VuZChtb250aHNUb0RheXModGhpcy5fbW9udGhzKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXlzIC8gNyArIG1pbGxpc2Vjb25kcyAvIDYwNDhlNTtcbiAgICAgICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF5cyArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hvdXInOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF5cyAqIDI0ICsgbWlsbGlzZWNvbmRzIC8gMzZlNTtcbiAgICAgICAgICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF5cyAqIDE0NDAgKyBtaWxsaXNlY29uZHMgLyA2ZTQ7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICAgICAgLy8gTWF0aC5mbG9vciBwcmV2ZW50cyBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyBoZXJlXG4gICAgICAgICAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihkYXlzICogODY0ZTUpICsgbWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVc2UgdGhpcy5hcygnbXMnKT9cbiAgICBmdW5jdGlvbiB2YWx1ZU9mJDEoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXG4gICAgICAgICAgICB0aGlzLl9kYXlzICogODY0ZTUgK1xuICAgICAgICAgICAgKHRoaXMuX21vbnRocyAlIDEyKSAqIDI1OTJlNiArXG4gICAgICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUFzKGFsaWFzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcyhhbGlhcyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGFzTWlsbGlzZWNvbmRzID0gbWFrZUFzKCdtcycpLFxuICAgICAgICBhc1NlY29uZHMgPSBtYWtlQXMoJ3MnKSxcbiAgICAgICAgYXNNaW51dGVzID0gbWFrZUFzKCdtJyksXG4gICAgICAgIGFzSG91cnMgPSBtYWtlQXMoJ2gnKSxcbiAgICAgICAgYXNEYXlzID0gbWFrZUFzKCdkJyksXG4gICAgICAgIGFzV2Vla3MgPSBtYWtlQXMoJ3cnKSxcbiAgICAgICAgYXNNb250aHMgPSBtYWtlQXMoJ00nKSxcbiAgICAgICAgYXNRdWFydGVycyA9IG1ha2VBcygnUScpLFxuICAgICAgICBhc1llYXJzID0gbWFrZUFzKCd5Jyk7XG5cbiAgICBmdW5jdGlvbiBjbG9uZSQxKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24odGhpcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0JDIodW5pdHMpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXNbdW5pdHMgKyAncyddKCkgOiBOYU47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUdldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9kYXRhW25hbWVdIDogTmFOO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBtaWxsaXNlY29uZHMgPSBtYWtlR2V0dGVyKCdtaWxsaXNlY29uZHMnKSxcbiAgICAgICAgc2Vjb25kcyA9IG1ha2VHZXR0ZXIoJ3NlY29uZHMnKSxcbiAgICAgICAgbWludXRlcyA9IG1ha2VHZXR0ZXIoJ21pbnV0ZXMnKSxcbiAgICAgICAgaG91cnMgPSBtYWtlR2V0dGVyKCdob3VycycpLFxuICAgICAgICBkYXlzID0gbWFrZUdldHRlcignZGF5cycpLFxuICAgICAgICBtb250aHMgPSBtYWtlR2V0dGVyKCdtb250aHMnKSxcbiAgICAgICAgeWVhcnMgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXG4gICAgZnVuY3Rpb24gd2Vla3MoKSB7XG4gICAgICAgIHJldHVybiBhYnNGbG9vcih0aGlzLmRheXMoKSAvIDcpO1xuICAgIH1cblxuICAgIHZhciByb3VuZCA9IE1hdGgucm91bmQsXG4gICAgICAgIHRocmVzaG9sZHMgPSB7XG4gICAgICAgICAgICBzczogNDQsIC8vIGEgZmV3IHNlY29uZHMgdG8gc2Vjb25kc1xuICAgICAgICAgICAgczogNDUsIC8vIHNlY29uZHMgdG8gbWludXRlXG4gICAgICAgICAgICBtOiA0NSwgLy8gbWludXRlcyB0byBob3VyXG4gICAgICAgICAgICBoOiAyMiwgLy8gaG91cnMgdG8gZGF5XG4gICAgICAgICAgICBkOiAyNiwgLy8gZGF5cyB0byBtb250aC93ZWVrXG4gICAgICAgICAgICB3OiBudWxsLCAvLyB3ZWVrcyB0byBtb250aFxuICAgICAgICAgICAgTTogMTEsIC8vIG1vbnRocyB0byB5ZWFyXG4gICAgICAgIH07XG5cbiAgICAvLyBoZWxwZXIgZnVuY3Rpb24gZm9yIG1vbWVudC5mbi5mcm9tLCBtb21lbnQuZm4uZnJvbU5vdywgYW5kIG1vbWVudC5kdXJhdGlvbi5mbi5odW1hbml6ZVxuICAgIGZ1bmN0aW9uIHN1YnN0aXR1dGVUaW1lQWdvKHN0cmluZywgbnVtYmVyLCB3aXRob3V0U3VmZml4LCBpc0Z1dHVyZSwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbGF0aXZlVGltZSQxKHBvc05lZ0R1cmF0aW9uLCB3aXRob3V0U3VmZml4LCB0aHJlc2hvbGRzLCBsb2NhbGUpIHtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gY3JlYXRlRHVyYXRpb24ocG9zTmVnRHVyYXRpb24pLmFicygpLFxuICAgICAgICAgICAgc2Vjb25kcyA9IHJvdW5kKGR1cmF0aW9uLmFzKCdzJykpLFxuICAgICAgICAgICAgbWludXRlcyA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpLFxuICAgICAgICAgICAgaG91cnMgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKSxcbiAgICAgICAgICAgIGRheXMgPSByb3VuZChkdXJhdGlvbi5hcygnZCcpKSxcbiAgICAgICAgICAgIG1vbnRocyA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpLFxuICAgICAgICAgICAgd2Vla3MgPSByb3VuZChkdXJhdGlvbi5hcygndycpKSxcbiAgICAgICAgICAgIHllYXJzID0gcm91bmQoZHVyYXRpb24uYXMoJ3knKSksXG4gICAgICAgICAgICBhID1cbiAgICAgICAgICAgICAgICAoc2Vjb25kcyA8PSB0aHJlc2hvbGRzLnNzICYmIFsncycsIHNlY29uZHNdKSB8fFxuICAgICAgICAgICAgICAgIChzZWNvbmRzIDwgdGhyZXNob2xkcy5zICYmIFsnc3MnLCBzZWNvbmRzXSkgfHxcbiAgICAgICAgICAgICAgICAobWludXRlcyA8PSAxICYmIFsnbSddKSB8fFxuICAgICAgICAgICAgICAgIChtaW51dGVzIDwgdGhyZXNob2xkcy5tICYmIFsnbW0nLCBtaW51dGVzXSkgfHxcbiAgICAgICAgICAgICAgICAoaG91cnMgPD0gMSAmJiBbJ2gnXSkgfHxcbiAgICAgICAgICAgICAgICAoaG91cnMgPCB0aHJlc2hvbGRzLmggJiYgWydoaCcsIGhvdXJzXSkgfHxcbiAgICAgICAgICAgICAgICAoZGF5cyA8PSAxICYmIFsnZCddKSB8fFxuICAgICAgICAgICAgICAgIChkYXlzIDwgdGhyZXNob2xkcy5kICYmIFsnZGQnLCBkYXlzXSk7XG5cbiAgICAgICAgaWYgKHRocmVzaG9sZHMudyAhPSBudWxsKSB7XG4gICAgICAgICAgICBhID1cbiAgICAgICAgICAgICAgICBhIHx8XG4gICAgICAgICAgICAgICAgKHdlZWtzIDw9IDEgJiYgWyd3J10pIHx8XG4gICAgICAgICAgICAgICAgKHdlZWtzIDwgdGhyZXNob2xkcy53ICYmIFsnd3cnLCB3ZWVrc10pO1xuICAgICAgICB9XG4gICAgICAgIGEgPSBhIHx8XG4gICAgICAgICAgICAobW9udGhzIDw9IDEgJiYgWydNJ10pIHx8XG4gICAgICAgICAgICAobW9udGhzIDwgdGhyZXNob2xkcy5NICYmIFsnTU0nLCBtb250aHNdKSB8fFxuICAgICAgICAgICAgKHllYXJzIDw9IDEgJiYgWyd5J10pIHx8IFsneXknLCB5ZWFyc107XG5cbiAgICAgICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG4gICAgICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgICAgICBhWzRdID0gbG9jYWxlO1xuICAgICAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCB0aGUgcm91bmRpbmcgZnVuY3Rpb24gZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nKHJvdW5kaW5nRnVuY3Rpb24pIHtcbiAgICAgICAgaWYgKHJvdW5kaW5nRnVuY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJvdW5kO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygcm91bmRpbmdGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcm91bmQgPSByb3VuZGluZ0Z1bmN0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgYSB0aHJlc2hvbGQgZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCh0aHJlc2hvbGQsIGxpbWl0KSB7XG4gICAgICAgIGlmICh0aHJlc2hvbGRzW3RocmVzaG9sZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuICAgICAgICB9XG4gICAgICAgIHRocmVzaG9sZHNbdGhyZXNob2xkXSA9IGxpbWl0O1xuICAgICAgICBpZiAodGhyZXNob2xkID09PSAncycpIHtcbiAgICAgICAgICAgIHRocmVzaG9sZHMuc3MgPSBsaW1pdCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaHVtYW5pemUoYXJnV2l0aFN1ZmZpeCwgYXJnVGhyZXNob2xkcykge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3aXRoU3VmZml4ID0gZmFsc2UsXG4gICAgICAgICAgICB0aCA9IHRocmVzaG9sZHMsXG4gICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICBvdXRwdXQ7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBhcmdXaXRoU3VmZml4ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgYXJnVGhyZXNob2xkcyA9IGFyZ1dpdGhTdWZmaXg7XG4gICAgICAgICAgICBhcmdXaXRoU3VmZml4ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBhcmdXaXRoU3VmZml4ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHdpdGhTdWZmaXggPSBhcmdXaXRoU3VmZml4O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYXJnVGhyZXNob2xkcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRoID0gT2JqZWN0LmFzc2lnbih7fSwgdGhyZXNob2xkcywgYXJnVGhyZXNob2xkcyk7XG4gICAgICAgICAgICBpZiAoYXJnVGhyZXNob2xkcy5zICE9IG51bGwgJiYgYXJnVGhyZXNob2xkcy5zcyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGguc3MgPSBhcmdUaHJlc2hvbGRzLnMgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgIG91dHB1dCA9IHJlbGF0aXZlVGltZSQxKHRoaXMsICF3aXRoU3VmZml4LCB0aCwgbG9jYWxlKTtcblxuICAgICAgICBpZiAod2l0aFN1ZmZpeCkge1xuICAgICAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgYWJzJDEgPSBNYXRoLmFicztcblxuICAgIGZ1bmN0aW9uIHNpZ24oeCkge1xuICAgICAgICByZXR1cm4gKHggPiAwKSAtICh4IDwgMCkgfHwgK3g7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9JU09TdHJpbmckMSgpIHtcbiAgICAgICAgLy8gZm9yIElTTyBzdHJpbmdzIHdlIGRvIG5vdCB1c2UgdGhlIG5vcm1hbCBidWJibGluZyBydWxlczpcbiAgICAgICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuICAgICAgICAvLyAgKiBkYXlzIGRvIG5vdCBidWJibGUgYXQgYWxsXG4gICAgICAgIC8vICAqIG1vbnRocyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgeWVhcnNcbiAgICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcbiAgICAgICAgLy8gKHRoaW5rIG9mIGNsb2NrIGNoYW5nZXMpXG4gICAgICAgIC8vIGFuZCBhbHNvIG5vdCBiZXR3ZWVuIGRheXMgYW5kIG1vbnRocyAoMjgtMzEgZGF5cyBwZXIgbW9udGgpXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlY29uZHMgPSBhYnMkMSh0aGlzLl9taWxsaXNlY29uZHMpIC8gMTAwMCxcbiAgICAgICAgICAgIGRheXMgPSBhYnMkMSh0aGlzLl9kYXlzKSxcbiAgICAgICAgICAgIG1vbnRocyA9IGFicyQxKHRoaXMuX21vbnRocyksXG4gICAgICAgICAgICBtaW51dGVzLFxuICAgICAgICAgICAgaG91cnMsXG4gICAgICAgICAgICB5ZWFycyxcbiAgICAgICAgICAgIHMsXG4gICAgICAgICAgICB0b3RhbCA9IHRoaXMuYXNTZWNvbmRzKCksXG4gICAgICAgICAgICB0b3RhbFNpZ24sXG4gICAgICAgICAgICB5bVNpZ24sXG4gICAgICAgICAgICBkYXlzU2lnbixcbiAgICAgICAgICAgIGhtc1NpZ247XG5cbiAgICAgICAgaWYgKCF0b3RhbCkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgc2FtZSBhcyBDIydzIChOb2RhKSBhbmQgcHl0aG9uIChpc29kYXRlKS4uLlxuICAgICAgICAgICAgLy8gYnV0IG5vdCBvdGhlciBKUyAoZ29vZy5kYXRlKVxuICAgICAgICAgICAgcmV0dXJuICdQMEQnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMzYwMCBzZWNvbmRzIC0+IDYwIG1pbnV0ZXMgLT4gMSBob3VyXG4gICAgICAgIG1pbnV0ZXMgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBob3VycyA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIHNlY29uZHMgJT0gNjA7XG4gICAgICAgIG1pbnV0ZXMgJT0gNjA7XG5cbiAgICAgICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgICAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICAgICAgbW9udGhzICU9IDEyO1xuXG4gICAgICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9kb3JkaWxsZS9tb21lbnQtaXNvZHVyYXRpb24vYmxvYi9tYXN0ZXIvbW9tZW50Lmlzb2R1cmF0aW9uLmpzXG4gICAgICAgIHMgPSBzZWNvbmRzID8gc2Vjb25kcy50b0ZpeGVkKDMpLnJlcGxhY2UoL1xcLj8wKyQvLCAnJykgOiAnJztcblxuICAgICAgICB0b3RhbFNpZ24gPSB0b3RhbCA8IDAgPyAnLScgOiAnJztcbiAgICAgICAgeW1TaWduID0gc2lnbih0aGlzLl9tb250aHMpICE9PSBzaWduKHRvdGFsKSA/ICctJyA6ICcnO1xuICAgICAgICBkYXlzU2lnbiA9IHNpZ24odGhpcy5fZGF5cykgIT09IHNpZ24odG90YWwpID8gJy0nIDogJyc7XG4gICAgICAgIGhtc1NpZ24gPSBzaWduKHRoaXMuX21pbGxpc2Vjb25kcykgIT09IHNpZ24odG90YWwpID8gJy0nIDogJyc7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRvdGFsU2lnbiArXG4gICAgICAgICAgICAnUCcgK1xuICAgICAgICAgICAgKHllYXJzID8geW1TaWduICsgeWVhcnMgKyAnWScgOiAnJykgK1xuICAgICAgICAgICAgKG1vbnRocyA/IHltU2lnbiArIG1vbnRocyArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAoZGF5cyA/IGRheXNTaWduICsgZGF5cyArICdEJyA6ICcnKSArXG4gICAgICAgICAgICAoaG91cnMgfHwgbWludXRlcyB8fCBzZWNvbmRzID8gJ1QnIDogJycpICtcbiAgICAgICAgICAgIChob3VycyA/IGhtc1NpZ24gKyBob3VycyArICdIJyA6ICcnKSArXG4gICAgICAgICAgICAobWludXRlcyA/IGhtc1NpZ24gKyBtaW51dGVzICsgJ00nIDogJycpICtcbiAgICAgICAgICAgIChzZWNvbmRzID8gaG1zU2lnbiArIHMgKyAnUycgOiAnJylcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8kMiA9IER1cmF0aW9uLnByb3RvdHlwZTtcblxuICAgIHByb3RvJDIuaXNWYWxpZCA9IGlzVmFsaWQkMTtcbiAgICBwcm90byQyLmFicyA9IGFicztcbiAgICBwcm90byQyLmFkZCA9IGFkZCQxO1xuICAgIHByb3RvJDIuc3VidHJhY3QgPSBzdWJ0cmFjdCQxO1xuICAgIHByb3RvJDIuYXMgPSBhcztcbiAgICBwcm90byQyLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG4gICAgcHJvdG8kMi5hc1NlY29uZHMgPSBhc1NlY29uZHM7XG4gICAgcHJvdG8kMi5hc01pbnV0ZXMgPSBhc01pbnV0ZXM7XG4gICAgcHJvdG8kMi5hc0hvdXJzID0gYXNIb3VycztcbiAgICBwcm90byQyLmFzRGF5cyA9IGFzRGF5cztcbiAgICBwcm90byQyLmFzV2Vla3MgPSBhc1dlZWtzO1xuICAgIHByb3RvJDIuYXNNb250aHMgPSBhc01vbnRocztcbiAgICBwcm90byQyLmFzUXVhcnRlcnMgPSBhc1F1YXJ0ZXJzO1xuICAgIHByb3RvJDIuYXNZZWFycyA9IGFzWWVhcnM7XG4gICAgcHJvdG8kMi52YWx1ZU9mID0gdmFsdWVPZiQxO1xuICAgIHByb3RvJDIuX2J1YmJsZSA9IGJ1YmJsZTtcbiAgICBwcm90byQyLmNsb25lID0gY2xvbmUkMTtcbiAgICBwcm90byQyLmdldCA9IGdldCQyO1xuICAgIHByb3RvJDIubWlsbGlzZWNvbmRzID0gbWlsbGlzZWNvbmRzO1xuICAgIHByb3RvJDIuc2Vjb25kcyA9IHNlY29uZHM7XG4gICAgcHJvdG8kMi5taW51dGVzID0gbWludXRlcztcbiAgICBwcm90byQyLmhvdXJzID0gaG91cnM7XG4gICAgcHJvdG8kMi5kYXlzID0gZGF5cztcbiAgICBwcm90byQyLndlZWtzID0gd2Vla3M7XG4gICAgcHJvdG8kMi5tb250aHMgPSBtb250aHM7XG4gICAgcHJvdG8kMi55ZWFycyA9IHllYXJzO1xuICAgIHByb3RvJDIuaHVtYW5pemUgPSBodW1hbml6ZTtcbiAgICBwcm90byQyLnRvSVNPU3RyaW5nID0gdG9JU09TdHJpbmckMTtcbiAgICBwcm90byQyLnRvU3RyaW5nID0gdG9JU09TdHJpbmckMTtcbiAgICBwcm90byQyLnRvSlNPTiA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi5sb2NhbGUgPSBsb2NhbGU7XG4gICAgcHJvdG8kMi5sb2NhbGVEYXRhID0gbG9jYWxlRGF0YTtcblxuICAgIHByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoXG4gICAgICAgICd0b0lzb1N0cmluZygpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdG9JU09TdHJpbmcoKSBpbnN0ZWFkIChub3RpY2UgdGhlIGNhcGl0YWxzKScsXG4gICAgICAgIHRvSVNPU3RyaW5nJDFcbiAgICApO1xuICAgIHByb3RvJDIubGFuZyA9IGxhbmc7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignWCcsIDAsIDAsICd1bml4Jyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbigneCcsIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUocGFyc2VGbG9hdChpbnB1dCkgKiAxMDAwKTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHRvSW50KGlucHV0KSk7XG4gICAgfSk7XG5cbiAgICAvLyEgbW9tZW50LmpzXG5cbiAgICBob29rcy52ZXJzaW9uID0gJzIuMjYuMCc7XG5cbiAgICBzZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXG4gICAgaG9va3MuZm4gPSBwcm90bztcbiAgICBob29rcy5taW4gPSBtaW47XG4gICAgaG9va3MubWF4ID0gbWF4O1xuICAgIGhvb2tzLm5vdyA9IG5vdztcbiAgICBob29rcy51dGMgPSBjcmVhdGVVVEM7XG4gICAgaG9va3MudW5peCA9IGNyZWF0ZVVuaXg7XG4gICAgaG9va3MubW9udGhzID0gbGlzdE1vbnRocztcbiAgICBob29rcy5pc0RhdGUgPSBpc0RhdGU7XG4gICAgaG9va3MubG9jYWxlID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuICAgIGhvb2tzLmludmFsaWQgPSBjcmVhdGVJbnZhbGlkO1xuICAgIGhvb2tzLmR1cmF0aW9uID0gY3JlYXRlRHVyYXRpb247XG4gICAgaG9va3MuaXNNb21lbnQgPSBpc01vbWVudDtcbiAgICBob29rcy53ZWVrZGF5cyA9IGxpc3RXZWVrZGF5cztcbiAgICBob29rcy5wYXJzZVpvbmUgPSBjcmVhdGVJblpvbmU7XG4gICAgaG9va3MubG9jYWxlRGF0YSA9IGdldExvY2FsZTtcbiAgICBob29rcy5pc0R1cmF0aW9uID0gaXNEdXJhdGlvbjtcbiAgICBob29rcy5tb250aHNTaG9ydCA9IGxpc3RNb250aHNTaG9ydDtcbiAgICBob29rcy53ZWVrZGF5c01pbiA9IGxpc3RXZWVrZGF5c01pbjtcbiAgICBob29rcy5kZWZpbmVMb2NhbGUgPSBkZWZpbmVMb2NhbGU7XG4gICAgaG9va3MudXBkYXRlTG9jYWxlID0gdXBkYXRlTG9jYWxlO1xuICAgIGhvb2tzLmxvY2FsZXMgPSBsaXN0TG9jYWxlcztcbiAgICBob29rcy53ZWVrZGF5c1Nob3J0ID0gbGlzdFdlZWtkYXlzU2hvcnQ7XG4gICAgaG9va3Mubm9ybWFsaXplVW5pdHMgPSBub3JtYWxpemVVbml0cztcbiAgICBob29rcy5yZWxhdGl2ZVRpbWVSb3VuZGluZyA9IGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nO1xuICAgIGhvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZDtcbiAgICBob29rcy5jYWxlbmRhckZvcm1hdCA9IGdldENhbGVuZGFyRm9ybWF0O1xuICAgIGhvb2tzLnByb3RvdHlwZSA9IHByb3RvO1xuXG4gICAgLy8gY3VycmVudGx5IEhUTUw1IGlucHV0IHR5cGUgb25seSBzdXBwb3J0cyAyNC1ob3VyIGZvcm1hdHNcbiAgICBob29rcy5IVE1MNV9GTVQgPSB7XG4gICAgICAgIERBVEVUSU1FX0xPQ0FMOiAnWVlZWS1NTS1ERFRISDptbScsIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiAvPlxuICAgICAgICBEQVRFVElNRV9MT0NBTF9TRUNPTkRTOiAnWVlZWS1NTS1ERFRISDptbTpzcycsIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBzdGVwPVwiMVwiIC8+XG4gICAgICAgIERBVEVUSU1FX0xPQ0FMX01TOiAnWVlZWS1NTS1ERFRISDptbTpzcy5TU1MnLCAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgc3RlcD1cIjAuMDAxXCIgLz5cbiAgICAgICAgREFURTogJ1lZWVktTU0tREQnLCAvLyA8aW5wdXQgdHlwZT1cImRhdGVcIiAvPlxuICAgICAgICBUSU1FOiAnSEg6bW0nLCAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiAvPlxuICAgICAgICBUSU1FX1NFQ09ORFM6ICdISDptbTpzcycsIC8vIDxpbnB1dCB0eXBlPVwidGltZVwiIHN0ZXA9XCIxXCIgLz5cbiAgICAgICAgVElNRV9NUzogJ0hIOm1tOnNzLlNTUycsIC8vIDxpbnB1dCB0eXBlPVwidGltZVwiIHN0ZXA9XCIwLjAwMVwiIC8+XG4gICAgICAgIFdFRUs6ICdHR0dHLVtXXVdXJywgLy8gPGlucHV0IHR5cGU9XCJ3ZWVrXCIgLz5cbiAgICAgICAgTU9OVEg6ICdZWVlZLU1NJywgLy8gPGlucHV0IHR5cGU9XCJtb250aFwiIC8+XG4gICAgfTtcblxuICAgIHJldHVybiBob29rcztcblxufSkpKTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgSUJNIENvcnAuXG4gKlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFsc1xuICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wXG4gKiBhbmQgRWNsaXBzZSBEaXN0cmlidXRpb24gTGljZW5zZSB2MS4wIHdoaWNoIGFjY29tcGFueSB0aGlzIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiBUaGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSBpcyBhdmFpbGFibGUgYXRcbiAqICAgIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sXG4gKiBhbmQgdGhlIEVjbGlwc2UgRGlzdHJpYnV0aW9uIExpY2Vuc2UgaXMgYXZhaWxhYmxlIGF0XG4gKiAgIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvb3JnL2RvY3VtZW50cy9lZGwtdjEwLnBocC5cbiAqXG4gKiBDb250cmlidXRvcnM6XG4gKiAgICBBbmRyZXcgQmFua3MgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24gYW5kIGluaXRpYWwgZG9jdW1lbnRhdGlvblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblxuLy8gT25seSBleHBvc2UgYSBzaW5nbGUgb2JqZWN0IG5hbWUgaW4gdGhlIGdsb2JhbCBuYW1lc3BhY2UuXG4vLyBFdmVyeXRoaW5nIG11c3QgZ28gdGhyb3VnaCB0aGlzIG1vZHVsZS4gR2xvYmFsIFBhaG8gbW9kdWxlXG4vLyBvbmx5IGhhcyBhIHNpbmdsZSBwdWJsaWMgZnVuY3Rpb24sIGNsaWVudCwgd2hpY2ggcmV0dXJuc1xuLy8gYSBQYWhvIGNsaWVudCBvYmplY3QgZ2l2ZW4gY29ubmVjdGlvbiBkZXRhaWxzLlxuXG4vKipcbiAqIFNlbmQgYW5kIHJlY2VpdmUgbWVzc2FnZXMgdXNpbmcgd2ViIGJyb3dzZXJzLlxuICogPHA+XG4gKiBUaGlzIHByb2dyYW1taW5nIGludGVyZmFjZSBsZXRzIGEgSmF2YVNjcmlwdCBjbGllbnQgYXBwbGljYXRpb24gdXNlIHRoZSBNUVRUIFYzLjEgb3JcbiAqIFYzLjEuMSBwcm90b2NvbCB0byBjb25uZWN0IHRvIGFuIE1RVFQtc3VwcG9ydGluZyBtZXNzYWdpbmcgc2VydmVyLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBzdXBwb3J0ZWQgaW5jbHVkZXM6XG4gKiA8b2w+XG4gKiA8bGk+Q29ubmVjdGluZyB0byBhbmQgZGlzY29ubmVjdGluZyBmcm9tIGEgc2VydmVyLiBUaGUgc2VydmVyIGlzIGlkZW50aWZpZWQgYnkgaXRzIGhvc3QgbmFtZSBhbmQgcG9ydCBudW1iZXIuXG4gKiA8bGk+U3BlY2lmeWluZyBvcHRpb25zIHRoYXQgcmVsYXRlIHRvIHRoZSBjb21tdW5pY2F0aW9ucyBsaW5rIHdpdGggdGhlIHNlcnZlcixcbiAqIGZvciBleGFtcGxlIHRoZSBmcmVxdWVuY3kgb2Yga2VlcC1hbGl2ZSBoZWFydGJlYXRzLCBhbmQgd2hldGhlciBTU0wvVExTIGlzIHJlcXVpcmVkLlxuICogPGxpPlN1YnNjcmliaW5nIHRvIGFuZCByZWNlaXZpbmcgbWVzc2FnZXMgZnJvbSBNUVRUIFRvcGljcy5cbiAqIDxsaT5QdWJsaXNoaW5nIG1lc3NhZ2VzIHRvIE1RVFQgVG9waWNzLlxuICogPC9vbD5cbiAqIDxwPlxuICogVGhlIEFQSSBjb25zaXN0cyBvZiB0d28gbWFpbiBvYmplY3RzOlxuICogPGRsPlxuICogPGR0PjxiPntAbGluayBQYWhvLkNsaWVudH08L2I+PC9kdD5cbiAqIDxkZD5UaGlzIGNvbnRhaW5zIG1ldGhvZHMgdGhhdCBwcm92aWRlIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHRoZSBBUEksXG4gKiBpbmNsdWRpbmcgcHJvdmlzaW9uIG9mIGNhbGxiYWNrcyB0aGF0IG5vdGlmeSB0aGUgYXBwbGljYXRpb24gd2hlbiBhIG1lc3NhZ2VcbiAqIGFycml2ZXMgZnJvbSBvciBpcyBkZWxpdmVyZWQgdG8gdGhlIG1lc3NhZ2luZyBzZXJ2ZXIsXG4gKiBvciB3aGVuIHRoZSBzdGF0dXMgb2YgaXRzIGNvbm5lY3Rpb24gdG8gdGhlIG1lc3NhZ2luZyBzZXJ2ZXIgY2hhbmdlcy48L2RkPlxuICogPGR0PjxiPntAbGluayBQYWhvLk1lc3NhZ2V9PC9iPjwvZHQ+XG4gKiA8ZGQ+VGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBheWxvYWQgb2YgdGhlIG1lc3NhZ2UgYWxvbmcgd2l0aCB2YXJpb3VzIGF0dHJpYnV0ZXNcbiAqIGFzc29jaWF0ZWQgd2l0aCBpdHMgZGVsaXZlcnksIGluIHBhcnRpY3VsYXIgdGhlIGRlc3RpbmF0aW9uIHRvIHdoaWNoIGl0IGhhc1xuICogYmVlbiAob3IgaXMgYWJvdXQgdG8gYmUpIHNlbnQuPC9kZD5cbiAqIDwvZGw+XG4gKiA8cD5cbiAqIFRoZSBwcm9ncmFtbWluZyBpbnRlcmZhY2UgdmFsaWRhdGVzIHBhcmFtZXRlcnMgcGFzc2VkIHRvIGl0LCBhbmQgd2lsbCB0aHJvd1xuICogYW4gRXJyb3IgY29udGFpbmluZyBhbiBlcnJvciBtZXNzYWdlIGludGVuZGVkIGZvciBkZXZlbG9wZXIgdXNlLCBpZiBpdCBkZXRlY3RzXG4gKiBhbiBlcnJvciB3aXRoIGFueSBwYXJhbWV0ZXIuXG4gKiA8cD5cbiAqIEV4YW1wbGU6XG4gKlxuICogPGNvZGU+PHByZT5cbnZhciBjbGllbnQgPSBuZXcgUGFoby5NUVRULkNsaWVudChsb2NhdGlvbi5ob3N0bmFtZSwgTnVtYmVyKGxvY2F0aW9uLnBvcnQpLCBcImNsaWVudElkXCIpO1xuY2xpZW50Lm9uQ29ubmVjdGlvbkxvc3QgPSBvbkNvbm5lY3Rpb25Mb3N0O1xuY2xpZW50Lm9uTWVzc2FnZUFycml2ZWQgPSBvbk1lc3NhZ2VBcnJpdmVkO1xuY2xpZW50LmNvbm5lY3Qoe29uU3VjY2VzczpvbkNvbm5lY3R9KTtcblxuZnVuY3Rpb24gb25Db25uZWN0KCkge1xuICAvLyBPbmNlIGEgY29ubmVjdGlvbiBoYXMgYmVlbiBtYWRlLCBtYWtlIGEgc3Vic2NyaXB0aW9uIGFuZCBzZW5kIGEgbWVzc2FnZS5cbiAgY29uc29sZS5sb2coXCJvbkNvbm5lY3RcIik7XG4gIGNsaWVudC5zdWJzY3JpYmUoXCIvV29ybGRcIik7XG4gIHZhciBtZXNzYWdlID0gbmV3IFBhaG8uTVFUVC5NZXNzYWdlKFwiSGVsbG9cIik7XG4gIG1lc3NhZ2UuZGVzdGluYXRpb25OYW1lID0gXCIvV29ybGRcIjtcbiAgY2xpZW50LnNlbmQobWVzc2FnZSk7XG59O1xuZnVuY3Rpb24gb25Db25uZWN0aW9uTG9zdChyZXNwb25zZU9iamVjdCkge1xuICBpZiAocmVzcG9uc2VPYmplY3QuZXJyb3JDb2RlICE9PSAwKVxuXHRjb25zb2xlLmxvZyhcIm9uQ29ubmVjdGlvbkxvc3Q6XCIrcmVzcG9uc2VPYmplY3QuZXJyb3JNZXNzYWdlKTtcbn07XG5mdW5jdGlvbiBvbk1lc3NhZ2VBcnJpdmVkKG1lc3NhZ2UpIHtcbiAgY29uc29sZS5sb2coXCJvbk1lc3NhZ2VBcnJpdmVkOlwiK21lc3NhZ2UucGF5bG9hZFN0cmluZyk7XG4gIGNsaWVudC5kaXNjb25uZWN0KCk7XG59O1xuICogPC9wcmU+PC9jb2RlPlxuICogQG5hbWVzcGFjZSBQYWhvXG4gKi9cblxuLyoganNoaW50IHNoYWRvdzp0cnVlICovXG4oZnVuY3Rpb24gRXhwb3J0TGlicmFyeShyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIpe1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKXtcblx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpe1xuXHRcdGV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0Ly9pZiAodHlwZW9mIHJvb3QuUGFobyA9PT0gXCJ1bmRlZmluZWRcIil7XG5cdFx0Ly9cdHJvb3QuUGFobyA9IHt9O1xuXHRcdC8vfVxuXHRcdHJvb3QuUGFobyA9IGZhY3RvcnkoKTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24gTGlicmFyeUZhY3RvcnkoKXtcblxuXG5cdHZhciBQYWhvTVFUVCA9IChmdW5jdGlvbiAoZ2xvYmFsKSB7XG5cblx0Ly8gUHJpdmF0ZSB2YXJpYWJsZXMgYmVsb3csIHRoZXNlIGFyZSBvbmx5IHZpc2libGUgaW5zaWRlIHRoZSBmdW5jdGlvbiBjbG9zdXJlXG5cdC8vIHdoaWNoIGlzIHVzZWQgdG8gZGVmaW5lIHRoZSBtb2R1bGUuXG5cdHZhciB2ZXJzaW9uID0gXCJAVkVSU0lPTkAtQEJVSUxETEVWRUxAXCI7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHR2YXIgbG9jYWxTdG9yYWdlID0gZ2xvYmFsLmxvY2FsU3RvcmFnZSB8fCAoZnVuY3Rpb24gKCkge1xuXHRcdHZhciBkYXRhID0ge307XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c2V0SXRlbTogZnVuY3Rpb24gKGtleSwgaXRlbSkgeyBkYXRhW2tleV0gPSBpdGVtOyB9LFxuXHRcdFx0Z2V0SXRlbTogZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZGF0YVtrZXldOyB9LFxuXHRcdFx0cmVtb3ZlSXRlbTogZnVuY3Rpb24gKGtleSkgeyBkZWxldGUgZGF0YVtrZXldOyB9LFxuXHRcdH07XG5cdH0pKCk7XG5cblx0XHQvKipcblx0ICogVW5pcXVlIG1lc3NhZ2UgdHlwZSBpZGVudGlmaWVycywgd2l0aCBhc3NvY2lhdGVkXG5cdCAqIGFzc29jaWF0ZWQgaW50ZWdlciB2YWx1ZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRcdHZhciBNRVNTQUdFX1RZUEUgPSB7XG5cdFx0XHRDT05ORUNUOiAxLFxuXHRcdFx0Q09OTkFDSzogMixcblx0XHRcdFBVQkxJU0g6IDMsXG5cdFx0XHRQVUJBQ0s6IDQsXG5cdFx0XHRQVUJSRUM6IDUsXG5cdFx0XHRQVUJSRUw6IDYsXG5cdFx0XHRQVUJDT01QOiA3LFxuXHRcdFx0U1VCU0NSSUJFOiA4LFxuXHRcdFx0U1VCQUNLOiA5LFxuXHRcdFx0VU5TVUJTQ1JJQkU6IDEwLFxuXHRcdFx0VU5TVUJBQ0s6IDExLFxuXHRcdFx0UElOR1JFUTogMTIsXG5cdFx0XHRQSU5HUkVTUDogMTMsXG5cdFx0XHRESVNDT05ORUNUOiAxNFxuXHRcdH07XG5cblx0XHQvLyBDb2xsZWN0aW9uIG9mIHV0aWxpdHkgbWV0aG9kcyB1c2VkIHRvIHNpbXBsaWZ5IG1vZHVsZSBjb2RlXG5cdFx0Ly8gYW5kIHByb21vdGUgdGhlIERSWSBwYXR0ZXJuLlxuXG5cdFx0LyoqXG5cdCAqIFZhbGlkYXRlIGFuIG9iamVjdCdzIHBhcmFtZXRlciBuYW1lcyB0byBlbnN1cmUgdGhleVxuXHQgKiBtYXRjaCBhIGxpc3Qgb2YgZXhwZWN0ZWQgdmFyaWFibGVzIG5hbWUgZm9yIHRoaXMgb3B0aW9uXG5cdCAqIHR5cGUuIFVzZWQgdG8gZW5zdXJlIG9wdGlvbiBvYmplY3QgcGFzc2VkIGludG8gdGhlIEFQSSBkb24ndFxuXHQgKiBjb250YWluIGVycm9uZW91cyBwYXJhbWV0ZXJzLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gVXNlciBvcHRpb25zIG9iamVjdFxuXHQgKiBAcGFyYW0ge09iamVjdH0ga2V5cyAtIHZhbGlkIGtleXMgYW5kIHR5cGVzIHRoYXQgbWF5IGV4aXN0IGluIG9iai5cblx0ICogQHRocm93cyB7RXJyb3J9IEludmFsaWQgb3B0aW9uIHBhcmFtZXRlciBmb3VuZC5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdFx0dmFyIHZhbGlkYXRlID0gZnVuY3Rpb24ob2JqLCBrZXlzKSB7XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdFx0XHRcdGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGlmIChrZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2Ygb2JqW2tleV0gIT09IGtleXNba2V5XSlcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2Ygb2JqW2tleV0sIGtleV0pKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dmFyIGVycm9yU3RyID0gXCJVbmtub3duIHByb3BlcnR5LCBcIiArIGtleSArIFwiLiBWYWxpZCBwcm9wZXJ0aWVzIGFyZTpcIjtcblx0XHRcdFx0XHRcdGZvciAodmFyIHZhbGlkS2V5IGluIGtleXMpXG5cdFx0XHRcdFx0XHRcdGlmIChrZXlzLmhhc093blByb3BlcnR5KHZhbGlkS2V5KSlcblx0XHRcdFx0XHRcdFx0XHRlcnJvclN0ciA9IGVycm9yU3RyK1wiIFwiK3ZhbGlkS2V5O1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycm9yU3RyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdCAqIFJldHVybiBhIG5ldyBmdW5jdGlvbiB3aGljaCBydW5zIHRoZSB1c2VyIGZ1bmN0aW9uIGJvdW5kXG5cdCAqIHRvIGEgZml4ZWQgc2NvcGUuXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IFVzZXIgZnVuY3Rpb25cblx0ICogQHBhcmFtIHtvYmplY3R9IEZ1bmN0aW9uIHNjb3BlXG5cdCAqIEByZXR1cm4ge2Z1bmN0aW9ufSBVc2VyIGZ1bmN0aW9uIGJvdW5kIHRvIGFub3RoZXIgc2NvcGVcblx0ICogQHByaXZhdGVcblx0ICovXG5cdFx0dmFyIHNjb3BlID0gZnVuY3Rpb24gKGYsIHNjb3BlKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gZi5hcHBseShzY29wZSwgYXJndW1lbnRzKTtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBVbmlxdWUgbWVzc2FnZSB0eXBlIGlkZW50aWZpZXJzLCB3aXRoIGFzc29jaWF0ZWRcblx0ICogYXNzb2NpYXRlZCBpbnRlZ2VyIHZhbHVlcy5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdFx0dmFyIEVSUk9SID0ge1xuXHRcdFx0T0s6IHtjb2RlOjAsIHRleHQ6XCJBTVFKU0MwMDAwSSBPSy5cIn0sXG5cdFx0XHRDT05ORUNUX1RJTUVPVVQ6IHtjb2RlOjEsIHRleHQ6XCJBTVFKU0MwMDAxRSBDb25uZWN0IHRpbWVkIG91dC5cIn0sXG5cdFx0XHRTVUJTQ1JJQkVfVElNRU9VVDoge2NvZGU6MiwgdGV4dDpcIkFNUUpTMDAwMkUgU3Vic2NyaWJlIHRpbWVkIG91dC5cIn0sXG5cdFx0XHRVTlNVQlNDUklCRV9USU1FT1VUOiB7Y29kZTozLCB0ZXh0OlwiQU1RSlMwMDAzRSBVbnN1YnNjcmliZSB0aW1lZCBvdXQuXCJ9LFxuXHRcdFx0UElOR19USU1FT1VUOiB7Y29kZTo0LCB0ZXh0OlwiQU1RSlMwMDA0RSBQaW5nIHRpbWVkIG91dC5cIn0sXG5cdFx0XHRJTlRFUk5BTF9FUlJPUjoge2NvZGU6NSwgdGV4dDpcIkFNUUpTMDAwNUUgSW50ZXJuYWwgZXJyb3IuIEVycm9yIE1lc3NhZ2U6IHswfSwgU3RhY2sgdHJhY2U6IHsxfVwifSxcblx0XHRcdENPTk5BQ0tfUkVUVVJOQ09ERToge2NvZGU6NiwgdGV4dDpcIkFNUUpTMDAwNkUgQmFkIENvbm5hY2sgcmV0dXJuIGNvZGU6ezB9IHsxfS5cIn0sXG5cdFx0XHRTT0NLRVRfRVJST1I6IHtjb2RlOjcsIHRleHQ6XCJBTVFKUzAwMDdFIFNvY2tldCBlcnJvcjp7MH0uXCJ9LFxuXHRcdFx0U09DS0VUX0NMT1NFOiB7Y29kZTo4LCB0ZXh0OlwiQU1RSlMwMDA4SSBTb2NrZXQgY2xvc2VkLlwifSxcblx0XHRcdE1BTEZPUk1FRF9VVEY6IHtjb2RlOjksIHRleHQ6XCJBTVFKUzAwMDlFIE1hbGZvcm1lZCBVVEYgZGF0YTp7MH0gezF9IHsyfS5cIn0sXG5cdFx0XHRVTlNVUFBPUlRFRDoge2NvZGU6MTAsIHRleHQ6XCJBTVFKUzAwMTBFIHswfSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci5cIn0sXG5cdFx0XHRJTlZBTElEX1NUQVRFOiB7Y29kZToxMSwgdGV4dDpcIkFNUUpTMDAxMUUgSW52YWxpZCBzdGF0ZSB7MH0uXCJ9LFxuXHRcdFx0SU5WQUxJRF9UWVBFOiB7Y29kZToxMiwgdGV4dDpcIkFNUUpTMDAxMkUgSW52YWxpZCB0eXBlIHswfSBmb3IgezF9LlwifSxcblx0XHRcdElOVkFMSURfQVJHVU1FTlQ6IHtjb2RlOjEzLCB0ZXh0OlwiQU1RSlMwMDEzRSBJbnZhbGlkIGFyZ3VtZW50IHswfSBmb3IgezF9LlwifSxcblx0XHRcdFVOU1VQUE9SVEVEX09QRVJBVElPTjoge2NvZGU6MTQsIHRleHQ6XCJBTVFKUzAwMTRFIFVuc3VwcG9ydGVkIG9wZXJhdGlvbi5cIn0sXG5cdFx0XHRJTlZBTElEX1NUT1JFRF9EQVRBOiB7Y29kZToxNSwgdGV4dDpcIkFNUUpTMDAxNUUgSW52YWxpZCBkYXRhIGluIGxvY2FsIHN0b3JhZ2Uga2V5PXswfSB2YWx1ZT17MX0uXCJ9LFxuXHRcdFx0SU5WQUxJRF9NUVRUX01FU1NBR0VfVFlQRToge2NvZGU6MTYsIHRleHQ6XCJBTVFKUzAwMTZFIEludmFsaWQgTVFUVCBtZXNzYWdlIHR5cGUgezB9LlwifSxcblx0XHRcdE1BTEZPUk1FRF9VTklDT0RFOiB7Y29kZToxNywgdGV4dDpcIkFNUUpTMDAxN0UgTWFsZm9ybWVkIFVuaWNvZGUgc3RyaW5nOnswfSB7MX0uXCJ9LFxuXHRcdFx0QlVGRkVSX0ZVTEw6IHtjb2RlOjE4LCB0ZXh0OlwiQU1RSlMwMDE4RSBNZXNzYWdlIGJ1ZmZlciBpcyBmdWxsLCBtYXhpbXVtIGJ1ZmZlciBzaXplOiB7MH0uXCJ9LFxuXHRcdH07XG5cblx0XHQvKiogQ09OTkFDSyBSQyBNZWFuaW5nLiAqL1xuXHRcdHZhciBDT05OQUNLX1JDID0ge1xuXHRcdFx0MDpcIkNvbm5lY3Rpb24gQWNjZXB0ZWRcIixcblx0XHRcdDE6XCJDb25uZWN0aW9uIFJlZnVzZWQ6IHVuYWNjZXB0YWJsZSBwcm90b2NvbCB2ZXJzaW9uXCIsXG5cdFx0XHQyOlwiQ29ubmVjdGlvbiBSZWZ1c2VkOiBpZGVudGlmaWVyIHJlamVjdGVkXCIsXG5cdFx0XHQzOlwiQ29ubmVjdGlvbiBSZWZ1c2VkOiBzZXJ2ZXIgdW5hdmFpbGFibGVcIixcblx0XHRcdDQ6XCJDb25uZWN0aW9uIFJlZnVzZWQ6IGJhZCB1c2VyIG5hbWUgb3IgcGFzc3dvcmRcIixcblx0XHRcdDU6XCJDb25uZWN0aW9uIFJlZnVzZWQ6IG5vdCBhdXRob3JpemVkXCJcblx0XHR9O1xuXG5cdC8qKlxuXHQgKiBGb3JtYXQgYW4gZXJyb3IgbWVzc2FnZSB0ZXh0LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge2Vycm9yfSBFUlJPUiB2YWx1ZSBhYm92ZS5cblx0ICogQHBhcmFtIHtzdWJzdGl0dXRpb25zfSBbYXJyYXldIHN1YnN0aXR1dGVkIGludG8gdGhlIHRleHQuXG5cdCAqIEByZXR1cm4gdGhlIHRleHQgd2l0aCB0aGUgc3Vic3RpdHV0aW9ucyBtYWRlLlxuXHQgKi9cblx0XHR2YXIgZm9ybWF0ID0gZnVuY3Rpb24oZXJyb3IsIHN1YnN0aXR1dGlvbnMpIHtcblx0XHRcdHZhciB0ZXh0ID0gZXJyb3IudGV4dDtcblx0XHRcdGlmIChzdWJzdGl0dXRpb25zKSB7XG5cdFx0XHRcdHZhciBmaWVsZCxzdGFydDtcblx0XHRcdFx0Zm9yICh2YXIgaT0wOyBpPHN1YnN0aXR1dGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRmaWVsZCA9IFwie1wiK2krXCJ9XCI7XG5cdFx0XHRcdFx0c3RhcnQgPSB0ZXh0LmluZGV4T2YoZmllbGQpO1xuXHRcdFx0XHRcdGlmKHN0YXJ0ID4gMCkge1xuXHRcdFx0XHRcdFx0dmFyIHBhcnQxID0gdGV4dC5zdWJzdHJpbmcoMCxzdGFydCk7XG5cdFx0XHRcdFx0XHR2YXIgcGFydDIgPSB0ZXh0LnN1YnN0cmluZyhzdGFydCtmaWVsZC5sZW5ndGgpO1xuXHRcdFx0XHRcdFx0dGV4dCA9IHBhcnQxK3N1YnN0aXR1dGlvbnNbaV0rcGFydDI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGV4dDtcblx0XHR9O1xuXG5cdFx0Ly9NUVRUIHByb3RvY29sIGFuZCB2ZXJzaW9uICAgICAgICAgIDYgICAgTSAgICBRICAgIEkgICAgcyAgICBkICAgIHAgICAgM1xuXHRcdHZhciBNcXR0UHJvdG9JZGVudGlmaWVydjMgPSBbMHgwMCwweDA2LDB4NGQsMHg1MSwweDQ5LDB4NzMsMHg2NCwweDcwLDB4MDNdO1xuXHRcdC8vTVFUVCBwcm90by92ZXJzaW9uIGZvciAzMTEgICAgICAgICA0ICAgIE0gICAgUSAgICBUICAgIFQgICAgNFxuXHRcdHZhciBNcXR0UHJvdG9JZGVudGlmaWVydjQgPSBbMHgwMCwweDA0LDB4NGQsMHg1MSwweDU0LDB4NTQsMHgwNF07XG5cblx0XHQvKipcblx0ICogQ29uc3RydWN0IGFuIE1RVFQgd2lyZSBwcm90b2NvbCBtZXNzYWdlLlxuXHQgKiBAcGFyYW0gdHlwZSBNUVRUIHBhY2tldCB0eXBlLlxuXHQgKiBAcGFyYW0gb3B0aW9ucyBvcHRpb25hbCB3aXJlIG1lc3NhZ2UgYXR0cmlidXRlcy5cblx0ICpcblx0ICogT3B0aW9uYWwgcHJvcGVydGllc1xuXHQgKlxuXHQgKiBtZXNzYWdlSWRlbnRpZmllcjogbWVzc2FnZSBJRCBpbiB0aGUgcmFuZ2UgWzAuLjY1NTM1XVxuXHQgKiBwYXlsb2FkTWVzc2FnZTpcdEFwcGxpY2F0aW9uIE1lc3NhZ2UgLSBQVUJMSVNIIG9ubHlcblx0ICogY29ubmVjdFN0cmluZ3M6XHRhcnJheSBvZiAwIG9yIG1vcmUgU3RyaW5ncyB0byBiZSBwdXQgaW50byB0aGUgQ09OTkVDVCBwYXlsb2FkXG5cdCAqIHRvcGljczpcdFx0XHRhcnJheSBvZiBzdHJpbmdzIChTVUJTQ1JJQkUsIFVOU1VCU0NSSUJFKVxuXHQgKiByZXF1ZXN0UW9TOlx0XHRhcnJheSBvZiBRb1MgdmFsdWVzIFswLi4yXVxuXHQgKlxuXHQgKiBcIkZsYWdcIiBwcm9wZXJ0aWVzXG5cdCAqIGNsZWFuU2Vzc2lvbjpcdHRydWUgaWYgcHJlc2VudCAvIGZhbHNlIGlmIGFic2VudCAoQ09OTkVDVClcblx0ICogd2lsbE1lc3NhZ2U6ICBcdHRydWUgaWYgcHJlc2VudCAvIGZhbHNlIGlmIGFic2VudCAoQ09OTkVDVClcblx0ICogaXNSZXRhaW5lZDpcdFx0dHJ1ZSBpZiBwcmVzZW50IC8gZmFsc2UgaWYgYWJzZW50IChDT05ORUNUKVxuXHQgKiB1c2VyTmFtZTpcdFx0dHJ1ZSBpZiBwcmVzZW50IC8gZmFsc2UgaWYgYWJzZW50IChDT05ORUNUKVxuXHQgKiBwYXNzd29yZDpcdFx0dHJ1ZSBpZiBwcmVzZW50IC8gZmFsc2UgaWYgYWJzZW50IChDT05ORUNUKVxuXHQgKiBrZWVwQWxpdmVJbnRlcnZhbDpcdGludGVnZXIgWzAuLjY1NTM1XSAgKENPTk5FQ1QpXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdFx0dmFyIFdpcmVNZXNzYWdlID0gZnVuY3Rpb24gKHR5cGUsIG9wdGlvbnMpIHtcblx0XHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdFx0XHRmb3IgKHZhciBuYW1lIGluIG9wdGlvbnMpIHtcblx0XHRcdFx0aWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcblx0XHRcdFx0XHR0aGlzW25hbWVdID0gb3B0aW9uc1tuYW1lXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRXaXJlTWVzc2FnZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gQ29tcHV0ZSB0aGUgZmlyc3QgYnl0ZSBvZiB0aGUgZml4ZWQgaGVhZGVyXG5cdFx0XHR2YXIgZmlyc3QgPSAoKHRoaXMudHlwZSAmIDB4MGYpIDw8IDQpO1xuXG5cdFx0XHQvKlxuXHRcdCAqIE5vdyBjYWxjdWxhdGUgdGhlIGxlbmd0aCBvZiB0aGUgdmFyaWFibGUgaGVhZGVyICsgcGF5bG9hZCBieSBhZGRpbmcgdXAgdGhlIGxlbmd0aHNcblx0XHQgKiBvZiBhbGwgdGhlIGNvbXBvbmVudCBwYXJ0c1xuXHRcdCAqL1xuXG5cdFx0XHR2YXIgcmVtTGVuZ3RoID0gMDtcblx0XHRcdHZhciB0b3BpY1N0ckxlbmd0aCA9IFtdO1xuXHRcdFx0dmFyIGRlc3RpbmF0aW9uTmFtZUxlbmd0aCA9IDA7XG5cdFx0XHR2YXIgd2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXM7XG5cblx0XHRcdC8vIGlmIHRoZSBtZXNzYWdlIGNvbnRhaW5zIGEgbWVzc2FnZUlkZW50aWZpZXIgdGhlbiB3ZSBuZWVkIHR3byBieXRlcyBmb3IgdGhhdFxuXHRcdFx0aWYgKHRoaXMubWVzc2FnZUlkZW50aWZpZXIgIT09IHVuZGVmaW5lZClcblx0XHRcdFx0cmVtTGVuZ3RoICs9IDI7XG5cblx0XHRcdHN3aXRjaCh0aGlzLnR5cGUpIHtcblx0XHRcdC8vIElmIHRoaXMgYSBDb25uZWN0IHRoZW4gd2UgbmVlZCB0byBpbmNsdWRlIDEyIGJ5dGVzIGZvciBpdHMgaGVhZGVyXG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5DT05ORUNUOlxuXHRcdFx0XHRzd2l0Y2godGhpcy5tcXR0VmVyc2lvbikge1xuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0cmVtTGVuZ3RoICs9IE1xdHRQcm90b0lkZW50aWZpZXJ2My5sZW5ndGggKyAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0cmVtTGVuZ3RoICs9IE1xdHRQcm90b0lkZW50aWZpZXJ2NC5sZW5ndGggKyAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVtTGVuZ3RoICs9IFVURjhMZW5ndGgodGhpcy5jbGllbnRJZCkgKyAyO1xuXHRcdFx0XHRpZiAodGhpcy53aWxsTWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmVtTGVuZ3RoICs9IFVURjhMZW5ndGgodGhpcy53aWxsTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUpICsgMjtcblx0XHRcdFx0XHQvLyBXaWxsIG1lc3NhZ2UgaXMgYWx3YXlzIGEgc3RyaW5nLCBzZW50IGFzIFVURi04IGNoYXJhY3RlcnMgd2l0aCBhIHByZWNlZGluZyBsZW5ndGguXG5cdFx0XHRcdFx0d2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXMgPSB0aGlzLndpbGxNZXNzYWdlLnBheWxvYWRCeXRlcztcblx0XHRcdFx0XHRpZiAoISh3aWxsTWVzc2FnZVBheWxvYWRCeXRlcyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKVxuXHRcdFx0XHRcdFx0d2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXMgPSBuZXcgVWludDhBcnJheShwYXlsb2FkQnl0ZXMpO1xuXHRcdFx0XHRcdHJlbUxlbmd0aCArPSB3aWxsTWVzc2FnZVBheWxvYWRCeXRlcy5ieXRlTGVuZ3RoICsyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLnVzZXJOYW1lICE9PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0cmVtTGVuZ3RoICs9IFVURjhMZW5ndGgodGhpcy51c2VyTmFtZSkgKyAyO1xuXHRcdFx0XHRpZiAodGhpcy5wYXNzd29yZCAhPT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdHJlbUxlbmd0aCArPSBVVEY4TGVuZ3RoKHRoaXMucGFzc3dvcmQpICsgMjtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdC8vIFN1YnNjcmliZSwgVW5zdWJzY3JpYmUgY2FuIGJvdGggY29udGFpbiB0b3BpYyBzdHJpbmdzXG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5TVUJTQ1JJQkU6XG5cdFx0XHRcdGZpcnN0IHw9IDB4MDI7IC8vIFFvcyA9IDE7XG5cdFx0XHRcdGZvciAoIHZhciBpID0gMDsgaSA8IHRoaXMudG9waWNzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0dG9waWNTdHJMZW5ndGhbaV0gPSBVVEY4TGVuZ3RoKHRoaXMudG9waWNzW2ldKTtcblx0XHRcdFx0XHRyZW1MZW5ndGggKz0gdG9waWNTdHJMZW5ndGhbaV0gKyAyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJlbUxlbmd0aCArPSB0aGlzLnJlcXVlc3RlZFFvcy5sZW5ndGg7IC8vIDEgYnl0ZSBmb3IgZWFjaCB0b3BpYydzIFFvc1xuXHRcdFx0XHQvLyBRb1Mgb24gU3Vic2NyaWJlIG9ubHlcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlVOU1VCU0NSSUJFOlxuXHRcdFx0XHRmaXJzdCB8PSAweDAyOyAvLyBRb3MgPSAxO1xuXHRcdFx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCB0aGlzLnRvcGljcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHRvcGljU3RyTGVuZ3RoW2ldID0gVVRGOExlbmd0aCh0aGlzLnRvcGljc1tpXSk7XG5cdFx0XHRcdFx0cmVtTGVuZ3RoICs9IHRvcGljU3RyTGVuZ3RoW2ldICsgMjtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUFVCUkVMOlxuXHRcdFx0XHRmaXJzdCB8PSAweDAyOyAvLyBRb3MgPSAxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUFVCTElTSDpcblx0XHRcdFx0aWYgKHRoaXMucGF5bG9hZE1lc3NhZ2UuZHVwbGljYXRlKSBmaXJzdCB8PSAweDA4O1xuXHRcdFx0XHRmaXJzdCAgPSBmaXJzdCB8PSAodGhpcy5wYXlsb2FkTWVzc2FnZS5xb3MgPDwgMSk7XG5cdFx0XHRcdGlmICh0aGlzLnBheWxvYWRNZXNzYWdlLnJldGFpbmVkKSBmaXJzdCB8PSAweDAxO1xuXHRcdFx0XHRkZXN0aW5hdGlvbk5hbWVMZW5ndGggPSBVVEY4TGVuZ3RoKHRoaXMucGF5bG9hZE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lKTtcblx0XHRcdFx0cmVtTGVuZ3RoICs9IGRlc3RpbmF0aW9uTmFtZUxlbmd0aCArIDI7XG5cdFx0XHRcdHZhciBwYXlsb2FkQnl0ZXMgPSB0aGlzLnBheWxvYWRNZXNzYWdlLnBheWxvYWRCeXRlcztcblx0XHRcdFx0cmVtTGVuZ3RoICs9IHBheWxvYWRCeXRlcy5ieXRlTGVuZ3RoO1xuXHRcdFx0XHRpZiAocGF5bG9hZEJ5dGVzIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpXG5cdFx0XHRcdFx0cGF5bG9hZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkocGF5bG9hZEJ5dGVzKTtcblx0XHRcdFx0ZWxzZSBpZiAoIShwYXlsb2FkQnl0ZXMgaW5zdGFuY2VvZiBVaW50OEFycmF5KSlcblx0XHRcdFx0XHRwYXlsb2FkQnl0ZXMgPSBuZXcgVWludDhBcnJheShwYXlsb2FkQnl0ZXMuYnVmZmVyKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLkRJU0NPTk5FQ1Q6XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0Ly8gTm93IHdlIGNhbiBhbGxvY2F0ZSBhIGJ1ZmZlciBmb3IgdGhlIG1lc3NhZ2VcblxuXHRcdFx0dmFyIG1iaSA9IGVuY29kZU1CSShyZW1MZW5ndGgpOyAgLy8gQ29udmVydCB0aGUgbGVuZ3RoIHRvIE1RVFQgTUJJIGZvcm1hdFxuXHRcdFx0dmFyIHBvcyA9IG1iaS5sZW5ndGggKyAxOyAgICAgICAgLy8gT2Zmc2V0IG9mIHN0YXJ0IG9mIHZhcmlhYmxlIGhlYWRlclxuXHRcdFx0dmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihyZW1MZW5ndGggKyBwb3MpO1xuXHRcdFx0dmFyIGJ5dGVTdHJlYW0gPSBuZXcgVWludDhBcnJheShidWZmZXIpOyAgICAvLyB2aWV3IGl0IGFzIGEgc2VxdWVuY2Ugb2YgYnl0ZXNcblxuXHRcdFx0Ly9Xcml0ZSB0aGUgZml4ZWQgaGVhZGVyIGludG8gdGhlIGJ1ZmZlclxuXHRcdFx0Ynl0ZVN0cmVhbVswXSA9IGZpcnN0O1xuXHRcdFx0Ynl0ZVN0cmVhbS5zZXQobWJpLDEpO1xuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgUFVCTElTSCB0aGVuIHRoZSB2YXJpYWJsZSBoZWFkZXIgc3RhcnRzIHdpdGggYSB0b3BpY1xuXHRcdFx0aWYgKHRoaXMudHlwZSA9PSBNRVNTQUdFX1RZUEUuUFVCTElTSClcblx0XHRcdFx0cG9zID0gd3JpdGVTdHJpbmcodGhpcy5wYXlsb2FkTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUsIGRlc3RpbmF0aW9uTmFtZUxlbmd0aCwgYnl0ZVN0cmVhbSwgcG9zKTtcblx0XHRcdC8vIElmIHRoaXMgaXMgYSBDT05ORUNUIHRoZW4gdGhlIHZhcmlhYmxlIGhlYWRlciBjb250YWlucyB0aGUgcHJvdG9jb2wgbmFtZS92ZXJzaW9uLCBmbGFncyBhbmQga2VlcGFsaXZlIHRpbWVcblxuXHRcdFx0ZWxzZSBpZiAodGhpcy50eXBlID09IE1FU1NBR0VfVFlQRS5DT05ORUNUKSB7XG5cdFx0XHRcdHN3aXRjaCAodGhpcy5tcXR0VmVyc2lvbikge1xuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0Ynl0ZVN0cmVhbS5zZXQoTXF0dFByb3RvSWRlbnRpZmllcnYzLCBwb3MpO1xuXHRcdFx0XHRcdHBvcyArPSBNcXR0UHJvdG9JZGVudGlmaWVydjMubGVuZ3RoO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0Ynl0ZVN0cmVhbS5zZXQoTXF0dFByb3RvSWRlbnRpZmllcnY0LCBwb3MpO1xuXHRcdFx0XHRcdHBvcyArPSBNcXR0UHJvdG9JZGVudGlmaWVydjQubGVuZ3RoO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBjb25uZWN0RmxhZ3MgPSAwO1xuXHRcdFx0XHRpZiAodGhpcy5jbGVhblNlc3Npb24pXG5cdFx0XHRcdFx0Y29ubmVjdEZsYWdzID0gMHgwMjtcblx0XHRcdFx0aWYgKHRoaXMud2lsbE1lc3NhZ2UgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRjb25uZWN0RmxhZ3MgfD0gMHgwNDtcblx0XHRcdFx0XHRjb25uZWN0RmxhZ3MgfD0gKHRoaXMud2lsbE1lc3NhZ2UucW9zPDwzKTtcblx0XHRcdFx0XHRpZiAodGhpcy53aWxsTWVzc2FnZS5yZXRhaW5lZCkge1xuXHRcdFx0XHRcdFx0Y29ubmVjdEZsYWdzIHw9IDB4MjA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLnVzZXJOYW1lICE9PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0Y29ubmVjdEZsYWdzIHw9IDB4ODA7XG5cdFx0XHRcdGlmICh0aGlzLnBhc3N3b3JkICE9PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0Y29ubmVjdEZsYWdzIHw9IDB4NDA7XG5cdFx0XHRcdGJ5dGVTdHJlYW1bcG9zKytdID0gY29ubmVjdEZsYWdzO1xuXHRcdFx0XHRwb3MgPSB3cml0ZVVpbnQxNiAodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCwgYnl0ZVN0cmVhbSwgcG9zKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3V0cHV0IHRoZSBtZXNzYWdlSWRlbnRpZmllciAtIGlmIHRoZXJlIGlzIG9uZVxuXHRcdFx0aWYgKHRoaXMubWVzc2FnZUlkZW50aWZpZXIgIT09IHVuZGVmaW5lZClcblx0XHRcdFx0cG9zID0gd3JpdGVVaW50MTYgKHRoaXMubWVzc2FnZUlkZW50aWZpZXIsIGJ5dGVTdHJlYW0sIHBvcyk7XG5cblx0XHRcdHN3aXRjaCh0aGlzLnR5cGUpIHtcblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLkNPTk5FQ1Q6XG5cdFx0XHRcdHBvcyA9IHdyaXRlU3RyaW5nKHRoaXMuY2xpZW50SWQsIFVURjhMZW5ndGgodGhpcy5jbGllbnRJZCksIGJ5dGVTdHJlYW0sIHBvcyk7XG5cdFx0XHRcdGlmICh0aGlzLndpbGxNZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRwb3MgPSB3cml0ZVN0cmluZyh0aGlzLndpbGxNZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSwgVVRGOExlbmd0aCh0aGlzLndpbGxNZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSksIGJ5dGVTdHJlYW0sIHBvcyk7XG5cdFx0XHRcdFx0cG9zID0gd3JpdGVVaW50MTYod2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXMuYnl0ZUxlbmd0aCwgYnl0ZVN0cmVhbSwgcG9zKTtcblx0XHRcdFx0XHRieXRlU3RyZWFtLnNldCh3aWxsTWVzc2FnZVBheWxvYWRCeXRlcywgcG9zKTtcblx0XHRcdFx0XHRwb3MgKz0gd2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXMuYnl0ZUxlbmd0aDtcblxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLnVzZXJOYW1lICE9PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0cG9zID0gd3JpdGVTdHJpbmcodGhpcy51c2VyTmFtZSwgVVRGOExlbmd0aCh0aGlzLnVzZXJOYW1lKSwgYnl0ZVN0cmVhbSwgcG9zKTtcblx0XHRcdFx0aWYgKHRoaXMucGFzc3dvcmQgIT09IHVuZGVmaW5lZClcblx0XHRcdFx0XHRwb3MgPSB3cml0ZVN0cmluZyh0aGlzLnBhc3N3b3JkLCBVVEY4TGVuZ3RoKHRoaXMucGFzc3dvcmQpLCBieXRlU3RyZWFtLCBwb3MpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUFVCTElTSDpcblx0XHRcdFx0Ly8gUFVCTElTSCBoYXMgYSB0ZXh0IG9yIGJpbmFyeSBwYXlsb2FkLCBpZiB0ZXh0IGRvIG5vdCBhZGQgYSAyIGJ5dGUgbGVuZ3RoIGZpZWxkLCBqdXN0IHRoZSBVVEYgY2hhcmFjdGVycy5cblx0XHRcdFx0Ynl0ZVN0cmVhbS5zZXQocGF5bG9hZEJ5dGVzLCBwb3MpO1xuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdC8vICAgIFx0ICAgIGNhc2UgTUVTU0FHRV9UWVBFLlBVQlJFQzpcblx0XHRcdFx0Ly8gICAgXHQgICAgY2FzZSBNRVNTQUdFX1RZUEUuUFVCUkVMOlxuXHRcdFx0XHQvLyAgICBcdCAgICBjYXNlIE1FU1NBR0VfVFlQRS5QVUJDT01QOlxuXHRcdFx0XHQvLyAgICBcdCAgICBcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5TVUJTQ1JJQkU6XG5cdFx0XHRcdC8vIFNVQlNDUklCRSBoYXMgYSBsaXN0IG9mIHRvcGljIHN0cmluZ3MgYW5kIHJlcXVlc3QgUW9TXG5cdFx0XHRcdGZvciAodmFyIGk9MDsgaTx0aGlzLnRvcGljcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHBvcyA9IHdyaXRlU3RyaW5nKHRoaXMudG9waWNzW2ldLCB0b3BpY1N0ckxlbmd0aFtpXSwgYnl0ZVN0cmVhbSwgcG9zKTtcblx0XHRcdFx0XHRieXRlU3RyZWFtW3BvcysrXSA9IHRoaXMucmVxdWVzdGVkUW9zW2ldO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5VTlNVQlNDUklCRTpcblx0XHRcdFx0Ly8gVU5TVUJTQ1JJQkUgaGFzIGEgbGlzdCBvZiB0b3BpYyBzdHJpbmdzXG5cdFx0XHRcdGZvciAodmFyIGk9MDsgaTx0aGlzLnRvcGljcy5sZW5ndGg7IGkrKylcblx0XHRcdFx0XHRwb3MgPSB3cml0ZVN0cmluZyh0aGlzLnRvcGljc1tpXSwgdG9waWNTdHJMZW5ndGhbaV0sIGJ5dGVTdHJlYW0sIHBvcyk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHQvLyBEbyBub3RoaW5nLlxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYnVmZmVyO1xuXHRcdH07XG5cblx0XHRmdW5jdGlvbiBkZWNvZGVNZXNzYWdlKGlucHV0LHBvcykge1xuXHRcdFx0dmFyIHN0YXJ0aW5nUG9zID0gcG9zO1xuXHRcdFx0dmFyIGZpcnN0ID0gaW5wdXRbcG9zXTtcblx0XHRcdHZhciB0eXBlID0gZmlyc3QgPj4gNDtcblx0XHRcdHZhciBtZXNzYWdlSW5mbyA9IGZpcnN0ICY9IDB4MGY7XG5cdFx0XHRwb3MgKz0gMTtcblxuXG5cdFx0XHQvLyBEZWNvZGUgdGhlIHJlbWFpbmluZyBsZW5ndGggKE1CSSBmb3JtYXQpXG5cblx0XHRcdHZhciBkaWdpdDtcblx0XHRcdHZhciByZW1MZW5ndGggPSAwO1xuXHRcdFx0dmFyIG11bHRpcGxpZXIgPSAxO1xuXHRcdFx0ZG8ge1xuXHRcdFx0XHRpZiAocG9zID09IGlucHV0Lmxlbmd0aCkge1xuXHRcdFx0XHRcdHJldHVybiBbbnVsbCxzdGFydGluZ1Bvc107XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGlnaXQgPSBpbnB1dFtwb3MrK107XG5cdFx0XHRcdHJlbUxlbmd0aCArPSAoKGRpZ2l0ICYgMHg3RikgKiBtdWx0aXBsaWVyKTtcblx0XHRcdFx0bXVsdGlwbGllciAqPSAxMjg7XG5cdFx0XHR9IHdoaWxlICgoZGlnaXQgJiAweDgwKSAhPT0gMCk7XG5cblx0XHRcdHZhciBlbmRQb3MgPSBwb3MrcmVtTGVuZ3RoO1xuXHRcdFx0aWYgKGVuZFBvcyA+IGlucHV0Lmxlbmd0aCkge1xuXHRcdFx0XHRyZXR1cm4gW251bGwsc3RhcnRpbmdQb3NdO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgd2lyZU1lc3NhZ2UgPSBuZXcgV2lyZU1lc3NhZ2UodHlwZSk7XG5cdFx0XHRzd2l0Y2godHlwZSkge1xuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuQ09OTkFDSzpcblx0XHRcdFx0dmFyIGNvbm5lY3RBY2tub3dsZWRnZUZsYWdzID0gaW5wdXRbcG9zKytdO1xuXHRcdFx0XHRpZiAoY29ubmVjdEFja25vd2xlZGdlRmxhZ3MgJiAweDAxKVxuXHRcdFx0XHRcdHdpcmVNZXNzYWdlLnNlc3Npb25QcmVzZW50ID0gdHJ1ZTtcblx0XHRcdFx0d2lyZU1lc3NhZ2UucmV0dXJuQ29kZSA9IGlucHV0W3BvcysrXTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQkxJU0g6XG5cdFx0XHRcdHZhciBxb3MgPSAobWVzc2FnZUluZm8gPj4gMSkgJiAweDAzO1xuXG5cdFx0XHRcdHZhciBsZW4gPSByZWFkVWludDE2KGlucHV0LCBwb3MpO1xuXHRcdFx0XHRwb3MgKz0gMjtcblx0XHRcdFx0dmFyIHRvcGljTmFtZSA9IHBhcnNlVVRGOChpbnB1dCwgcG9zLCBsZW4pO1xuXHRcdFx0XHRwb3MgKz0gbGVuO1xuXHRcdFx0XHQvLyBJZiBRb1MgMSBvciAyIHRoZXJlIHdpbGwgYmUgYSBtZXNzYWdlSWRlbnRpZmllclxuXHRcdFx0XHRpZiAocW9zID4gMCkge1xuXHRcdFx0XHRcdHdpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyID0gcmVhZFVpbnQxNihpbnB1dCwgcG9zKTtcblx0XHRcdFx0XHRwb3MgKz0gMjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBtZXNzYWdlID0gbmV3IE1lc3NhZ2UoaW5wdXQuc3ViYXJyYXkocG9zLCBlbmRQb3MpKTtcblx0XHRcdFx0aWYgKChtZXNzYWdlSW5mbyAmIDB4MDEpID09IDB4MDEpXG5cdFx0XHRcdFx0bWVzc2FnZS5yZXRhaW5lZCA9IHRydWU7XG5cdFx0XHRcdGlmICgobWVzc2FnZUluZm8gJiAweDA4KSA9PSAweDA4KVxuXHRcdFx0XHRcdG1lc3NhZ2UuZHVwbGljYXRlID0gIHRydWU7XG5cdFx0XHRcdG1lc3NhZ2UucW9zID0gcW9zO1xuXHRcdFx0XHRtZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSA9IHRvcGljTmFtZTtcblx0XHRcdFx0d2lyZU1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UgPSBtZXNzYWdlO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAgTUVTU0FHRV9UWVBFLlBVQkFDSzpcblx0XHRcdGNhc2UgIE1FU1NBR0VfVFlQRS5QVUJSRUM6XG5cdFx0XHRjYXNlICBNRVNTQUdFX1RZUEUuUFVCUkVMOlxuXHRcdFx0Y2FzZSAgTUVTU0FHRV9UWVBFLlBVQkNPTVA6XG5cdFx0XHRjYXNlICBNRVNTQUdFX1RZUEUuVU5TVUJBQ0s6XG5cdFx0XHRcdHdpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyID0gcmVhZFVpbnQxNihpbnB1dCwgcG9zKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgIE1FU1NBR0VfVFlQRS5TVUJBQ0s6XG5cdFx0XHRcdHdpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyID0gcmVhZFVpbnQxNihpbnB1dCwgcG9zKTtcblx0XHRcdFx0cG9zICs9IDI7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLnJldHVybkNvZGUgPSBpbnB1dC5zdWJhcnJheShwb3MsIGVuZFBvcyk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFt3aXJlTWVzc2FnZSxlbmRQb3NdO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHdyaXRlVWludDE2KGlucHV0LCBidWZmZXIsIG9mZnNldCkge1xuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IGlucHV0ID4+IDg7ICAgICAgLy9NU0Jcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSBpbnB1dCAlIDI1NjsgICAgIC8vTFNCXG5cdFx0XHRyZXR1cm4gb2Zmc2V0O1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHdyaXRlU3RyaW5nKGlucHV0LCB1dGY4TGVuZ3RoLCBidWZmZXIsIG9mZnNldCkge1xuXHRcdFx0b2Zmc2V0ID0gd3JpdGVVaW50MTYodXRmOExlbmd0aCwgYnVmZmVyLCBvZmZzZXQpO1xuXHRcdFx0c3RyaW5nVG9VVEY4KGlucHV0LCBidWZmZXIsIG9mZnNldCk7XG5cdFx0XHRyZXR1cm4gb2Zmc2V0ICsgdXRmOExlbmd0aDtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiByZWFkVWludDE2KGJ1ZmZlciwgb2Zmc2V0KSB7XG5cdFx0XHRyZXR1cm4gMjU2KmJ1ZmZlcltvZmZzZXRdICsgYnVmZmVyW29mZnNldCsxXTtcblx0XHR9XG5cblx0XHQvKipcblx0ICogRW5jb2RlcyBhbiBNUVRUIE11bHRpLUJ5dGUgSW50ZWdlclxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0XHRmdW5jdGlvbiBlbmNvZGVNQkkobnVtYmVyKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gbmV3IEFycmF5KDEpO1xuXHRcdFx0dmFyIG51bUJ5dGVzID0gMDtcblxuXHRcdFx0ZG8ge1xuXHRcdFx0XHR2YXIgZGlnaXQgPSBudW1iZXIgJSAxMjg7XG5cdFx0XHRcdG51bWJlciA9IG51bWJlciA+PiA3O1xuXHRcdFx0XHRpZiAobnVtYmVyID4gMCkge1xuXHRcdFx0XHRcdGRpZ2l0IHw9IDB4ODA7XG5cdFx0XHRcdH1cblx0XHRcdFx0b3V0cHV0W251bUJ5dGVzKytdID0gZGlnaXQ7XG5cdFx0XHR9IHdoaWxlICggKG51bWJlciA+IDApICYmIChudW1CeXRlczw0KSApO1xuXG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH1cblxuXHRcdC8qKlxuXHQgKiBUYWtlcyBhIFN0cmluZyBhbmQgY2FsY3VsYXRlcyBpdHMgbGVuZ3RoIGluIGJ5dGVzIHdoZW4gZW5jb2RlZCBpbiBVVEY4LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0XHRmdW5jdGlvbiBVVEY4TGVuZ3RoKGlucHV0KSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gMDtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpPGlucHV0Lmxlbmd0aDsgaSsrKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgY2hhckNvZGUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0XHRpZiAoY2hhckNvZGUgPiAweDdGRilcblx0XHRcdFx0e1xuXHRcdFx0XHRcdC8vIFN1cnJvZ2F0ZSBwYWlyIG1lYW5zIGl0cyBhIDQgYnl0ZSBjaGFyYWN0ZXJcblx0XHRcdFx0XHRpZiAoMHhEODAwIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IDB4REJGRilcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0XHRvdXRwdXQrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0b3V0cHV0ICs9Mztcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChjaGFyQ29kZSA+IDB4N0YpXG5cdFx0XHRcdFx0b3V0cHV0ICs9Mjtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdG91dHB1dCsrO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9XG5cblx0XHQvKipcblx0ICogVGFrZXMgYSBTdHJpbmcgYW5kIHdyaXRlcyBpdCBpbnRvIGFuIGFycmF5IGFzIFVURjggZW5jb2RlZCBieXRlcy5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdFx0ZnVuY3Rpb24gc3RyaW5nVG9VVEY4KGlucHV0LCBvdXRwdXQsIHN0YXJ0KSB7XG5cdFx0XHR2YXIgcG9zID0gc3RhcnQ7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaTxpbnB1dC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgY2hhckNvZGUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuXG5cdFx0XHRcdC8vIENoZWNrIGZvciBhIHN1cnJvZ2F0ZSBwYWlyLlxuXHRcdFx0XHRpZiAoMHhEODAwIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IDB4REJGRikge1xuXHRcdFx0XHRcdHZhciBsb3dDaGFyQ29kZSA9IGlucHV0LmNoYXJDb2RlQXQoKytpKTtcblx0XHRcdFx0XHRpZiAoaXNOYU4obG93Q2hhckNvZGUpKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLk1BTEZPUk1FRF9VTklDT0RFLCBbY2hhckNvZGUsIGxvd0NoYXJDb2RlXSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjaGFyQ29kZSA9ICgoY2hhckNvZGUgLSAweEQ4MDApPDwxMCkgKyAobG93Q2hhckNvZGUgLSAweERDMDApICsgMHgxMDAwMDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGNoYXJDb2RlIDw9IDB4N0YpIHtcblx0XHRcdFx0XHRvdXRwdXRbcG9zKytdID0gY2hhckNvZGU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoY2hhckNvZGUgPD0gMHg3RkYpIHtcblx0XHRcdFx0XHRvdXRwdXRbcG9zKytdID0gY2hhckNvZGU+PjYgICYgMHgxRiB8IDB4QzA7XG5cdFx0XHRcdFx0b3V0cHV0W3BvcysrXSA9IGNoYXJDb2RlICAgICAmIDB4M0YgfCAweDgwO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGNoYXJDb2RlIDw9IDB4RkZGRikge1xuXHRcdFx0XHRcdG91dHB1dFtwb3MrK10gPSBjaGFyQ29kZT4+MTIgJiAweDBGIHwgMHhFMDtcblx0XHRcdFx0XHRvdXRwdXRbcG9zKytdID0gY2hhckNvZGU+PjYgICYgMHgzRiB8IDB4ODA7XG5cdFx0XHRcdFx0b3V0cHV0W3BvcysrXSA9IGNoYXJDb2RlICAgICAmIDB4M0YgfCAweDgwO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG91dHB1dFtwb3MrK10gPSBjaGFyQ29kZT4+MTggJiAweDA3IHwgMHhGMDtcblx0XHRcdFx0XHRvdXRwdXRbcG9zKytdID0gY2hhckNvZGU+PjEyICYgMHgzRiB8IDB4ODA7XG5cdFx0XHRcdFx0b3V0cHV0W3BvcysrXSA9IGNoYXJDb2RlPj42ICAmIDB4M0YgfCAweDgwO1xuXHRcdFx0XHRcdG91dHB1dFtwb3MrK10gPSBjaGFyQ29kZSAgICAgJiAweDNGIHwgMHg4MDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBwYXJzZVVURjgoaW5wdXQsIG9mZnNldCwgbGVuZ3RoKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gXCJcIjtcblx0XHRcdHZhciB1dGYxNjtcblx0XHRcdHZhciBwb3MgPSBvZmZzZXQ7XG5cblx0XHRcdHdoaWxlIChwb3MgPCBvZmZzZXQrbGVuZ3RoKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgYnl0ZTEgPSBpbnB1dFtwb3MrK107XG5cdFx0XHRcdGlmIChieXRlMSA8IDEyOClcblx0XHRcdFx0XHR1dGYxNiA9IGJ5dGUxO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR2YXIgYnl0ZTIgPSBpbnB1dFtwb3MrK10tMTI4O1xuXHRcdFx0XHRcdGlmIChieXRlMiA8IDApXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLk1BTEZPUk1FRF9VVEYsIFtieXRlMS50b1N0cmluZygxNiksIGJ5dGUyLnRvU3RyaW5nKDE2KSxcIlwiXSkpO1xuXHRcdFx0XHRcdGlmIChieXRlMSA8IDB4RTApICAgICAgICAgICAgIC8vIDIgYnl0ZSBjaGFyYWN0ZXJcblx0XHRcdFx0XHRcdHV0ZjE2ID0gNjQqKGJ5dGUxLTB4QzApICsgYnl0ZTI7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHZhciBieXRlMyA9IGlucHV0W3BvcysrXS0xMjg7XG5cdFx0XHRcdFx0XHRpZiAoYnl0ZTMgPCAwKVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLk1BTEZPUk1FRF9VVEYsIFtieXRlMS50b1N0cmluZygxNiksIGJ5dGUyLnRvU3RyaW5nKDE2KSwgYnl0ZTMudG9TdHJpbmcoMTYpXSkpO1xuXHRcdFx0XHRcdFx0aWYgKGJ5dGUxIDwgMHhGMCkgICAgICAgIC8vIDMgYnl0ZSBjaGFyYWN0ZXJcblx0XHRcdFx0XHRcdFx0dXRmMTYgPSA0MDk2KihieXRlMS0weEUwKSArIDY0KmJ5dGUyICsgYnl0ZTM7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHZhciBieXRlNCA9IGlucHV0W3BvcysrXS0xMjg7XG5cdFx0XHRcdFx0XHRcdGlmIChieXRlNCA8IDApXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5NQUxGT1JNRURfVVRGLCBbYnl0ZTEudG9TdHJpbmcoMTYpLCBieXRlMi50b1N0cmluZygxNiksIGJ5dGUzLnRvU3RyaW5nKDE2KSwgYnl0ZTQudG9TdHJpbmcoMTYpXSkpO1xuXHRcdFx0XHRcdFx0XHRpZiAoYnl0ZTEgPCAweEY4KSAgICAgICAgLy8gNCBieXRlIGNoYXJhY3RlclxuXHRcdFx0XHRcdFx0XHRcdHV0ZjE2ID0gMjYyMTQ0KihieXRlMS0weEYwKSArIDQwOTYqYnl0ZTIgKyA2NCpieXRlMyArIGJ5dGU0O1xuXHRcdFx0XHRcdFx0XHRlbHNlICAgICAgICAgICAgICAgICAgICAgLy8gbG9uZ2VyIGVuY29kaW5ncyBhcmUgbm90IHN1cHBvcnRlZFxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuTUFMRk9STUVEX1VURiwgW2J5dGUxLnRvU3RyaW5nKDE2KSwgYnl0ZTIudG9TdHJpbmcoMTYpLCBieXRlMy50b1N0cmluZygxNiksIGJ5dGU0LnRvU3RyaW5nKDE2KV0pKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodXRmMTYgPiAweEZGRkYpICAgLy8gNCBieXRlIGNoYXJhY3RlciAtIGV4cHJlc3MgYXMgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dXRmMTYgLT0gMHgxMDAwMDtcblx0XHRcdFx0XHRvdXRwdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweEQ4MDAgKyAodXRmMTYgPj4gMTApKTsgLy8gbGVhZCBjaGFyYWN0ZXJcblx0XHRcdFx0XHR1dGYxNiA9IDB4REMwMCArICh1dGYxNiAmIDB4M0ZGKTsgIC8vIHRyYWlsIGNoYXJhY3RlclxuXHRcdFx0XHR9XG5cdFx0XHRcdG91dHB1dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHV0ZjE2KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdCAqIFJlcGVhdCBrZWVwYWxpdmUgcmVxdWVzdHMsIG1vbml0b3IgcmVzcG9uc2VzLlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRcdHZhciBQaW5nZXIgPSBmdW5jdGlvbihjbGllbnQsIGtlZXBBbGl2ZUludGVydmFsKSB7XG5cdFx0XHR0aGlzLl9jbGllbnQgPSBjbGllbnQ7XG5cdFx0XHR0aGlzLl9rZWVwQWxpdmVJbnRlcnZhbCA9IGtlZXBBbGl2ZUludGVydmFsKjEwMDA7XG5cdFx0XHR0aGlzLmlzUmVzZXQgPSBmYWxzZTtcblxuXHRcdFx0dmFyIHBpbmdSZXEgPSBuZXcgV2lyZU1lc3NhZ2UoTUVTU0FHRV9UWVBFLlBJTkdSRVEpLmVuY29kZSgpO1xuXG5cdFx0XHR2YXIgZG9UaW1lb3V0ID0gZnVuY3Rpb24gKHBpbmdlcikge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiBkb1BpbmcuYXBwbHkocGluZ2VyKTtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHRcdC8qKiBAaWdub3JlICovXG5cdFx0XHR2YXIgZG9QaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICghdGhpcy5pc1Jlc2V0KSB7XG5cdFx0XHRcdFx0dGhpcy5fY2xpZW50Ll90cmFjZShcIlBpbmdlci5kb1BpbmdcIiwgXCJUaW1lZCBvdXRcIik7XG5cdFx0XHRcdFx0dGhpcy5fY2xpZW50Ll9kaXNjb25uZWN0ZWQoIEVSUk9SLlBJTkdfVElNRU9VVC5jb2RlICwgZm9ybWF0KEVSUk9SLlBJTkdfVElNRU9VVCkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuaXNSZXNldCA9IGZhbHNlO1xuXHRcdFx0XHRcdHRoaXMuX2NsaWVudC5fdHJhY2UoXCJQaW5nZXIuZG9QaW5nXCIsIFwic2VuZCBQSU5HUkVRXCIpO1xuXHRcdFx0XHRcdHRoaXMuX2NsaWVudC5zb2NrZXQuc2VuZChwaW5nUmVxKTtcblx0XHRcdFx0XHR0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGRvVGltZW91dCh0aGlzKSwgdGhpcy5fa2VlcEFsaXZlSW50ZXJ2YWwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHR0aGlzLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuaXNSZXNldCA9IHRydWU7XG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXHRcdFx0XHRpZiAodGhpcy5fa2VlcEFsaXZlSW50ZXJ2YWwgPiAwKVxuXHRcdFx0XHRcdHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZG9UaW1lb3V0KHRoaXMpLCB0aGlzLl9rZWVwQWxpdmVJbnRlcnZhbCk7XG5cdFx0XHR9O1xuXG5cdFx0XHR0aGlzLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBNb25pdG9yIHJlcXVlc3QgY29tcGxldGlvbi5cblx0ICogQGlnbm9yZVxuXHQgKi9cblx0XHR2YXIgVGltZW91dCA9IGZ1bmN0aW9uKGNsaWVudCwgdGltZW91dFNlY29uZHMsIGFjdGlvbiwgYXJncykge1xuXHRcdFx0aWYgKCF0aW1lb3V0U2Vjb25kcylcblx0XHRcdFx0dGltZW91dFNlY29uZHMgPSAzMDtcblxuXHRcdFx0dmFyIGRvVGltZW91dCA9IGZ1bmN0aW9uIChhY3Rpb24sIGNsaWVudCwgYXJncykge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiBhY3Rpb24uYXBwbHkoY2xpZW50LCBhcmdzKTtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGRvVGltZW91dChhY3Rpb24sIGNsaWVudCwgYXJncyksIHRpbWVvdXRTZWNvbmRzICogMTAwMCk7XG5cblx0XHRcdHRoaXMuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdC8qKlxuXHQgKiBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgV2Vic29ja2V0cyBNUVRUIFYzLjEgY2xpZW50LlxuXHQgKlxuXHQgKiBAbmFtZSBQYWhvLkNsaWVudEltcGwgQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBob3N0IHRoZSBETlMgbmFtZW9mIHRoZSB3ZWJTb2NrZXQgaG9zdC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHBvcnQgdGhlIHBvcnQgbnVtYmVyIGZvciB0aGF0IGhvc3QuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBjbGllbnRJZCB0aGUgTVEgY2xpZW50IGlkZW50aWZpZXIuXG5cdCAqL1xuXHRcdHZhciBDbGllbnRJbXBsID0gZnVuY3Rpb24gKHVyaSwgaG9zdCwgcG9ydCwgcGF0aCwgY2xpZW50SWQpIHtcblx0XHQvLyBDaGVjayBkZXBlbmRlbmNpZXMgYXJlIHNhdGlzZmllZCBpbiB0aGlzIGJyb3dzZXIuXG5cdFx0XHRpZiAoIShcIldlYlNvY2tldFwiIGluIGdsb2JhbCAmJiBnbG9iYWwuV2ViU29ja2V0ICE9PSBudWxsKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLlVOU1VQUE9SVEVELCBbXCJXZWJTb2NrZXRcIl0pKTtcblx0XHRcdH1cblx0XHRcdGlmICghKFwiQXJyYXlCdWZmZXJcIiBpbiBnbG9iYWwgJiYgZ2xvYmFsLkFycmF5QnVmZmVyICE9PSBudWxsKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLlVOU1VQUE9SVEVELCBbXCJBcnJheUJ1ZmZlclwiXSkpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fdHJhY2UoXCJQYWhvLkNsaWVudFwiLCB1cmksIGhvc3QsIHBvcnQsIHBhdGgsIGNsaWVudElkKTtcblxuXHRcdFx0dGhpcy5ob3N0ID0gaG9zdDtcblx0XHRcdHRoaXMucG9ydCA9IHBvcnQ7XG5cdFx0XHR0aGlzLnBhdGggPSBwYXRoO1xuXHRcdFx0dGhpcy51cmkgPSB1cmk7XG5cdFx0XHR0aGlzLmNsaWVudElkID0gY2xpZW50SWQ7XG5cdFx0XHR0aGlzLl93c3VyaSA9IG51bGw7XG5cblx0XHRcdC8vIExvY2FsIHN0b3JhZ2VrZXlzIGFyZSBxdWFsaWZpZWQgd2l0aCB0aGUgZm9sbG93aW5nIHN0cmluZy5cblx0XHRcdC8vIFRoZSBjb25kaXRpb25hbCBpbmNsdXNpb24gb2YgcGF0aCBpbiB0aGUga2V5IGlzIGZvciBiYWNrd2FyZFxuXHRcdFx0Ly8gY29tcGF0aWJpbGl0eSB0byB3aGVuIHRoZSBwYXRoIHdhcyBub3QgY29uZmlndXJhYmxlIGFuZCBhc3N1bWVkIHRvXG5cdFx0XHQvLyBiZSAvbXF0dFxuXHRcdFx0dGhpcy5fbG9jYWxLZXk9aG9zdCtcIjpcIitwb3J0KyhwYXRoIT1cIi9tcXR0XCI/XCI6XCIrcGF0aDpcIlwiKStcIjpcIitjbGllbnRJZCtcIjpcIjtcblxuXHRcdFx0Ly8gQ3JlYXRlIHByaXZhdGUgaW5zdGFuY2Utb25seSBtZXNzYWdlIHF1ZXVlXG5cdFx0XHQvLyBJbnRlcm5hbCBxdWV1ZSBvZiBtZXNzYWdlcyB0byBiZSBzZW50LCBpbiBzZW5kaW5nIG9yZGVyLlxuXHRcdFx0dGhpcy5fbXNnX3F1ZXVlID0gW107XG5cdFx0XHR0aGlzLl9idWZmZXJlZF9tc2dfcXVldWUgPSBbXTtcblxuXHRcdFx0Ly8gTWVzc2FnZXMgd2UgaGF2ZSBzZW50IGFuZCBhcmUgZXhwZWN0aW5nIGEgcmVzcG9uc2UgZm9yLCBpbmRleGVkIGJ5IHRoZWlyIHJlc3BlY3RpdmUgbWVzc2FnZSBpZHMuXG5cdFx0XHR0aGlzLl9zZW50TWVzc2FnZXMgPSB7fTtcblxuXHRcdFx0Ly8gTWVzc2FnZXMgd2UgaGF2ZSByZWNlaXZlZCBhbmQgYWNrbm93bGVnZWQgYW5kIGFyZSBleHBlY3RpbmcgYSBjb25maXJtIG1lc3NhZ2UgZm9yXG5cdFx0XHQvLyBpbmRleGVkIGJ5IHRoZWlyIHJlc3BlY3RpdmUgbWVzc2FnZSBpZHMuXG5cdFx0XHR0aGlzLl9yZWNlaXZlZE1lc3NhZ2VzID0ge307XG5cblx0XHRcdC8vIEludGVybmFsIGxpc3Qgb2YgY2FsbGJhY2tzIHRvIGJlIGV4ZWN1dGVkIHdoZW4gbWVzc2FnZXNcblx0XHRcdC8vIGhhdmUgYmVlbiBzdWNjZXNzZnVsbHkgc2VudCBvdmVyIHdlYiBzb2NrZXQsIGUuZy4gZGlzY29ubmVjdFxuXHRcdFx0Ly8gd2hlbiBpdCBkb2Vzbid0IGhhdmUgdG8gd2FpdCBmb3IgQUNLLCBqdXN0IG1lc3NhZ2UgaXMgZGlzcGF0Y2hlZC5cblx0XHRcdHRoaXMuX25vdGlmeV9tc2dfc2VudCA9IHt9O1xuXG5cdFx0XHQvLyBVbmlxdWUgaWRlbnRpZmllciBmb3IgU0VORCBtZXNzYWdlcywgaW5jcmVtZW50aW5nXG5cdFx0XHQvLyBjb3VudGVyIGFzIG1lc3NhZ2VzIGFyZSBzZW50LlxuXHRcdFx0dGhpcy5fbWVzc2FnZV9pZGVudGlmaWVyID0gMTtcblxuXHRcdFx0Ly8gVXNlZCB0byBkZXRlcm1pbmUgdGhlIHRyYW5zbWlzc2lvbiBzZXF1ZW5jZSBvZiBzdG9yZWQgc2VudCBtZXNzYWdlcy5cblx0XHRcdHRoaXMuX3NlcXVlbmNlID0gMDtcblxuXG5cdFx0XHQvLyBMb2FkIHRoZSBsb2NhbCBzdGF0ZSwgaWYgYW55LCBmcm9tIHRoZSBzYXZlZCB2ZXJzaW9uLCBvbmx5IHJlc3RvcmUgc3RhdGUgcmVsZXZhbnQgdG8gdGhpcyBjbGllbnQuXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gbG9jYWxTdG9yYWdlKVxuXHRcdFx0XHRpZiAoICAga2V5LmluZGV4T2YoXCJTZW50OlwiK3RoaXMuX2xvY2FsS2V5KSA9PT0gMCB8fCBrZXkuaW5kZXhPZihcIlJlY2VpdmVkOlwiK3RoaXMuX2xvY2FsS2V5KSA9PT0gMClcblx0XHRcdFx0XHR0aGlzLnJlc3RvcmUoa2V5KTtcblx0XHR9O1xuXG5cdFx0Ly8gTWVzc2FnaW5nIENsaWVudCBwdWJsaWMgaW5zdGFuY2UgbWVtYmVycy5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5ob3N0ID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5wb3J0ID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5wYXRoID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS51cmkgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmNsaWVudElkID0gbnVsbDtcblxuXHRcdC8vIE1lc3NhZ2luZyBDbGllbnQgcHJpdmF0ZSBpbnN0YW5jZSBtZW1iZXJzLlxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnNvY2tldCA9IG51bGw7XG5cdFx0LyogdHJ1ZSBvbmNlIHdlIGhhdmUgcmVjZWl2ZWQgYW4gYWNrbm93bGVkZ2VtZW50IHRvIGEgQ09OTkVDVCBwYWNrZXQuICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuY29ubmVjdGVkID0gZmFsc2U7XG5cdFx0LyogVGhlIGxhcmdlc3QgbWVzc2FnZSBpZGVudGlmaWVyIGFsbG93ZWQsIG1heSBub3QgYmUgbGFyZ2VyIHRoYW4gMioqMTYgYnV0XG5cdFx0ICogaWYgc2V0IHNtYWxsZXIgcmVkdWNlcyB0aGUgbWF4aW11bSBudW1iZXIgb2Ygb3V0Ym91bmQgbWVzc2FnZXMgYWxsb3dlZC5cblx0XHQgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5tYXhNZXNzYWdlSWRlbnRpZmllciA9IDY1NTM2O1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmNvbm5lY3RPcHRpb25zID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5ob3N0SW5kZXggPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLm9uQ29ubmVjdGVkID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5vbkNvbm5lY3Rpb25Mb3N0ID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5vbk1lc3NhZ2VEZWxpdmVyZWQgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLm9uTWVzc2FnZUFycml2ZWQgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnRyYWNlRnVuY3Rpb24gPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9tc2dfcXVldWUgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9idWZmZXJlZF9tc2dfcXVldWUgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9jb25uZWN0VGltZW91dCA9IG51bGw7XG5cdFx0LyogVGhlIHNlbmRQaW5nZXIgbW9uaXRvcnMgaG93IGxvbmcgd2UgYWxsb3cgYmVmb3JlIHdlIHNlbmQgZGF0YSB0byBwcm92ZSB0byB0aGUgc2VydmVyIHRoYXQgd2UgYXJlIGFsaXZlLiAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnNlbmRQaW5nZXIgPSBudWxsO1xuXHRcdC8qIFRoZSByZWNlaXZlUGluZ2VyIG1vbml0b3JzIGhvdyBsb25nIHdlIGFsbG93IGJlZm9yZSB3ZSByZXF1aXJlIGV2aWRlbmNlIHRoYXQgdGhlIHNlcnZlciBpcyBhbGl2ZS4gKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5yZWNlaXZlUGluZ2VyID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fcmVjb25uZWN0SW50ZXJ2YWwgPSAxOyAvLyBSZWNvbm5lY3QgRGVsYXksIHN0YXJ0cyBhdCAxIHNlY29uZFxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fcmVjb25uZWN0VGltZW91dCA9IG51bGw7XG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuZGlzY29ubmVjdGVkUHVibGlzaGluZyA9IGZhbHNlO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmRpc2Nvbm5lY3RlZEJ1ZmZlclNpemUgPSA1MDAwO1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUucmVjZWl2ZUJ1ZmZlciA9IG51bGw7XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fdHJhY2VCdWZmZXIgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9NQVhfVFJBQ0VfRU5UUklFUyA9IDEwMDtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoY29ubmVjdE9wdGlvbnMpIHtcblx0XHRcdHZhciBjb25uZWN0T3B0aW9uc01hc2tlZCA9IHRoaXMuX3RyYWNlTWFzayhjb25uZWN0T3B0aW9ucywgXCJwYXNzd29yZFwiKTtcblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50LmNvbm5lY3RcIiwgY29ubmVjdE9wdGlvbnNNYXNrZWQsIHRoaXMuc29ja2V0LCB0aGlzLmNvbm5lY3RlZCk7XG5cblx0XHRcdGlmICh0aGlzLmNvbm5lY3RlZClcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1NUQVRFLCBbXCJhbHJlYWR5IGNvbm5lY3RlZFwiXSkpO1xuXHRcdFx0aWYgKHRoaXMuc29ja2V0KVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfU1RBVEUsIFtcImFscmVhZHkgY29ubmVjdGVkXCJdKSk7XG5cblx0XHRcdGlmICh0aGlzLl9yZWNvbm5lY3RpbmcpIHtcblx0XHRcdC8vIGNvbm5lY3QoKSBmdW5jdGlvbiBpcyBjYWxsZWQgd2hpbGUgcmVjb25uZWN0IGlzIGluIHByb2dyZXNzLlxuXHRcdFx0Ly8gVGVybWluYXRlIHRoZSBhdXRvIHJlY29ubmVjdCBwcm9jZXNzIHRvIHVzZSBuZXcgY29ubmVjdCBvcHRpb25zLlxuXHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RUaW1lb3V0LmNhbmNlbCgpO1xuXHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RUaW1lb3V0ID0gbnVsbDtcblx0XHRcdFx0dGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuY29ubmVjdE9wdGlvbnMgPSBjb25uZWN0T3B0aW9ucztcblx0XHRcdHRoaXMuX3JlY29ubmVjdEludGVydmFsID0gMTtcblx0XHRcdHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuXHRcdFx0aWYgKGNvbm5lY3RPcHRpb25zLnVyaXMpIHtcblx0XHRcdFx0dGhpcy5ob3N0SW5kZXggPSAwO1xuXHRcdFx0XHR0aGlzLl9kb0Nvbm5lY3QoY29ubmVjdE9wdGlvbnMudXJpc1swXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9kb0Nvbm5lY3QodGhpcy51cmkpO1xuXHRcdFx0fVxuXG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIHN1YnNjcmliZU9wdGlvbnMpIHtcblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50LnN1YnNjcmliZVwiLCBmaWx0ZXIsIHN1YnNjcmliZU9wdGlvbnMpO1xuXG5cdFx0XHRpZiAoIXRoaXMuY29ubmVjdGVkKVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfU1RBVEUsIFtcIm5vdCBjb25uZWN0ZWRcIl0pKTtcblxuICAgICAgICAgICAgdmFyIHdpcmVNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5TVUJTQ1JJQkUpO1xuICAgICAgICAgICAgd2lyZU1lc3NhZ2UudG9waWNzID0gZmlsdGVyLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IGZpbHRlciA6IFtmaWx0ZXJdO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZU9wdGlvbnMucW9zID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlT3B0aW9ucy5xb3MgPSAwO1xuICAgICAgICAgICAgd2lyZU1lc3NhZ2UucmVxdWVzdGVkUW9zID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpcmVNZXNzYWdlLnRvcGljcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICB3aXJlTWVzc2FnZS5yZXF1ZXN0ZWRRb3NbaV0gPSBzdWJzY3JpYmVPcHRpb25zLnFvcztcblxuXHRcdFx0aWYgKHN1YnNjcmliZU9wdGlvbnMub25TdWNjZXNzKSB7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLm9uU3VjY2VzcyA9IGZ1bmN0aW9uKGdyYW50ZWRRb3MpIHtzdWJzY3JpYmVPcHRpb25zLm9uU3VjY2Vzcyh7aW52b2NhdGlvbkNvbnRleHQ6c3Vic2NyaWJlT3B0aW9ucy5pbnZvY2F0aW9uQ29udGV4dCxncmFudGVkUW9zOmdyYW50ZWRRb3N9KTt9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc3Vic2NyaWJlT3B0aW9ucy5vbkZhaWx1cmUpIHtcblx0XHRcdFx0d2lyZU1lc3NhZ2Uub25GYWlsdXJlID0gZnVuY3Rpb24oZXJyb3JDb2RlKSB7c3Vic2NyaWJlT3B0aW9ucy5vbkZhaWx1cmUoe2ludm9jYXRpb25Db250ZXh0OnN1YnNjcmliZU9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHQsZXJyb3JDb2RlOmVycm9yQ29kZSwgZXJyb3JNZXNzYWdlOmZvcm1hdChlcnJvckNvZGUpfSk7fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHN1YnNjcmliZU9wdGlvbnMudGltZW91dCkge1xuXHRcdFx0XHR3aXJlTWVzc2FnZS50aW1lT3V0ID0gbmV3IFRpbWVvdXQodGhpcywgc3Vic2NyaWJlT3B0aW9ucy50aW1lb3V0LCBzdWJzY3JpYmVPcHRpb25zLm9uRmFpbHVyZSxcblx0XHRcdFx0XHRbe2ludm9jYXRpb25Db250ZXh0OnN1YnNjcmliZU9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHQsXG5cdFx0XHRcdFx0XHRlcnJvckNvZGU6RVJST1IuU1VCU0NSSUJFX1RJTUVPVVQuY29kZSxcblx0XHRcdFx0XHRcdGVycm9yTWVzc2FnZTpmb3JtYXQoRVJST1IuU1VCU0NSSUJFX1RJTUVPVVQpfV0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBbGwgc3Vic2NyaXB0aW9ucyByZXR1cm4gYSBTVUJBQ0suXG5cdFx0XHR0aGlzLl9yZXF1aXJlc19hY2sod2lyZU1lc3NhZ2UpO1xuXHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZSh3aXJlTWVzc2FnZSk7XG5cdFx0fTtcblxuXHRcdC8qKiBAaWdub3JlICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbihmaWx0ZXIsIHVuc3Vic2NyaWJlT3B0aW9ucykge1xuXHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQudW5zdWJzY3JpYmVcIiwgZmlsdGVyLCB1bnN1YnNjcmliZU9wdGlvbnMpO1xuXG5cdFx0XHRpZiAoIXRoaXMuY29ubmVjdGVkKVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfU1RBVEUsIFtcIm5vdCBjb25uZWN0ZWRcIl0pKTtcblxuICAgICAgICAgICAgdmFyIHdpcmVNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5VTlNVQlNDUklCRSk7XG4gICAgICAgICAgICB3aXJlTWVzc2FnZS50b3BpY3MgPSBmaWx0ZXIuY29uc3RydWN0b3IgPT09IEFycmF5ID8gZmlsdGVyIDogW2ZpbHRlcl07XG5cblx0XHRcdGlmICh1bnN1YnNjcmliZU9wdGlvbnMub25TdWNjZXNzKSB7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLmNhbGxiYWNrID0gZnVuY3Rpb24oKSB7dW5zdWJzY3JpYmVPcHRpb25zLm9uU3VjY2Vzcyh7aW52b2NhdGlvbkNvbnRleHQ6dW5zdWJzY3JpYmVPcHRpb25zLmludm9jYXRpb25Db250ZXh0fSk7fTtcblx0XHRcdH1cblx0XHRcdGlmICh1bnN1YnNjcmliZU9wdGlvbnMudGltZW91dCkge1xuXHRcdFx0XHR3aXJlTWVzc2FnZS50aW1lT3V0ID0gbmV3IFRpbWVvdXQodGhpcywgdW5zdWJzY3JpYmVPcHRpb25zLnRpbWVvdXQsIHVuc3Vic2NyaWJlT3B0aW9ucy5vbkZhaWx1cmUsXG5cdFx0XHRcdFx0W3tpbnZvY2F0aW9uQ29udGV4dDp1bnN1YnNjcmliZU9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHQsXG5cdFx0XHRcdFx0XHRlcnJvckNvZGU6RVJST1IuVU5TVUJTQ1JJQkVfVElNRU9VVC5jb2RlLFxuXHRcdFx0XHRcdFx0ZXJyb3JNZXNzYWdlOmZvcm1hdChFUlJPUi5VTlNVQlNDUklCRV9USU1FT1VUKX1dKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWxsIHVuc3Vic2NyaWJlcyByZXR1cm4gYSBTVUJBQ0suXG5cdFx0XHR0aGlzLl9yZXF1aXJlc19hY2sod2lyZU1lc3NhZ2UpO1xuXHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZSh3aXJlTWVzc2FnZSk7XG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuXHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQuc2VuZFwiLCBtZXNzYWdlKTtcblxuXHRcdFx0dmFyIHdpcmVNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5QVUJMSVNIKTtcblx0XHRcdHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlID0gbWVzc2FnZTtcblxuXHRcdFx0aWYgKHRoaXMuY29ubmVjdGVkKSB7XG5cdFx0XHQvLyBNYXJrIHFvcyAxICYgMiBtZXNzYWdlIGFzIFwiQUNLIHJlcXVpcmVkXCJcblx0XHRcdC8vIEZvciBxb3MgMCBtZXNzYWdlLCBpbnZva2Ugb25NZXNzYWdlRGVsaXZlcmVkIGNhbGxiYWNrIGlmIHRoZXJlIGlzIG9uZS5cblx0XHRcdC8vIFRoZW4gc2NoZWR1bGUgdGhlIG1lc3NhZ2UuXG5cdFx0XHRcdGlmIChtZXNzYWdlLnFvcyA+IDApIHtcblx0XHRcdFx0XHR0aGlzLl9yZXF1aXJlc19hY2sod2lyZU1lc3NhZ2UpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMub25NZXNzYWdlRGVsaXZlcmVkKSB7XG5cdFx0XHRcdFx0dGhpcy5fbm90aWZ5X21zZ19zZW50W3dpcmVNZXNzYWdlXSA9IHRoaXMub25NZXNzYWdlRGVsaXZlcmVkKHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9zY2hlZHVsZV9tZXNzYWdlKHdpcmVNZXNzYWdlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBDdXJyZW50bHkgZGlzY29ubmVjdGVkLCB3aWxsIG5vdCBzY2hlZHVsZSB0aGlzIG1lc3NhZ2Vcblx0XHRcdC8vIENoZWNrIGlmIHJlY29ubmVjdGluZyBpcyBpbiBwcm9ncmVzcyBhbmQgZGlzY29ubmVjdGVkIHB1Ymxpc2ggaXMgZW5hYmxlZC5cblx0XHRcdFx0aWYgKHRoaXMuX3JlY29ubmVjdGluZyAmJiB0aGlzLmRpc2Nvbm5lY3RlZFB1Ymxpc2hpbmcpIHtcblx0XHRcdFx0Ly8gQ2hlY2sgdGhlIGxpbWl0IHdoaWNoIGluY2x1ZGUgdGhlIFwicmVxdWlyZWQgQUNLXCIgbWVzc2FnZXNcblx0XHRcdFx0XHR2YXIgbWVzc2FnZUNvdW50ID0gT2JqZWN0LmtleXModGhpcy5fc2VudE1lc3NhZ2VzKS5sZW5ndGggKyB0aGlzLl9idWZmZXJlZF9tc2dfcXVldWUubGVuZ3RoO1xuXHRcdFx0XHRcdGlmIChtZXNzYWdlQ291bnQgPiB0aGlzLmRpc2Nvbm5lY3RlZEJ1ZmZlclNpemUpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuQlVGRkVSX0ZVTEwsIFt0aGlzLmRpc2Nvbm5lY3RlZEJ1ZmZlclNpemVdKSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChtZXNzYWdlLnFvcyA+IDApIHtcblx0XHRcdFx0XHRcdC8vIE1hcmsgdGhpcyBtZXNzYWdlIGFzIFwiQUNLIHJlcXVpcmVkXCJcblx0XHRcdFx0XHRcdFx0dGhpcy5fcmVxdWlyZXNfYWNrKHdpcmVNZXNzYWdlKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHdpcmVNZXNzYWdlLnNlcXVlbmNlID0gKyt0aGlzLl9zZXF1ZW5jZTtcblx0XHRcdFx0XHRcdFx0Ly8gQWRkIG1lc3NhZ2VzIGluIGZpZm8gb3JkZXIgdG8gYXJyYXksIGJ5IGFkZGluZyB0byBzdGFydFxuXHRcdFx0XHRcdFx0XHR0aGlzLl9idWZmZXJlZF9tc2dfcXVldWUudW5zaGlmdCh3aXJlTWVzc2FnZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9TVEFURSwgW1wibm90IGNvbm5lY3RlZFwiXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5kaXNjb25uZWN0XCIpO1xuXG5cdFx0XHRpZiAodGhpcy5fcmVjb25uZWN0aW5nKSB7XG5cdFx0XHQvLyBkaXNjb25uZWN0KCkgZnVuY3Rpb24gaXMgY2FsbGVkIHdoaWxlIHJlY29ubmVjdCBpcyBpbiBwcm9ncmVzcy5cblx0XHRcdC8vIFRlcm1pbmF0ZSB0aGUgYXV0byByZWNvbm5lY3QgcHJvY2Vzcy5cblx0XHRcdFx0dGhpcy5fcmVjb25uZWN0VGltZW91dC5jYW5jZWwoKTtcblx0XHRcdFx0dGhpcy5fcmVjb25uZWN0VGltZW91dCA9IG51bGw7XG5cdFx0XHRcdHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXRoaXMuc29ja2V0KVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfU1RBVEUsIFtcIm5vdCBjb25uZWN0aW5nIG9yIGNvbm5lY3RlZFwiXSkpO1xuXG5cdFx0XHR2YXIgd2lyZU1lc3NhZ2UgPSBuZXcgV2lyZU1lc3NhZ2UoTUVTU0FHRV9UWVBFLkRJU0NPTk5FQ1QpO1xuXG5cdFx0XHQvLyBSdW4gdGhlIGRpc2Nvbm5lY3RlZCBjYWxsIGJhY2sgYXMgc29vbiBhcyB0aGUgbWVzc2FnZSBoYXMgYmVlbiBzZW50LFxuXHRcdFx0Ly8gaW4gY2FzZSBvZiBhIGZhaWx1cmUgbGF0ZXIgb24gaW4gdGhlIGRpc2Nvbm5lY3QgcHJvY2Vzc2luZy5cblx0XHRcdC8vIGFzIGEgY29uc2VxdWVuY2UsIHRoZSBfZGlzY29uZWN0ZWQgY2FsbCBiYWNrIG1heSBiZSBydW4gc2V2ZXJhbCB0aW1lcy5cblx0XHRcdHRoaXMuX25vdGlmeV9tc2dfc2VudFt3aXJlTWVzc2FnZV0gPSBzY29wZSh0aGlzLl9kaXNjb25uZWN0ZWQsIHRoaXMpO1xuXG5cdFx0XHR0aGlzLl9zY2hlZHVsZV9tZXNzYWdlKHdpcmVNZXNzYWdlKTtcblx0XHR9O1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0VHJhY2VMb2cgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIHRoaXMuX3RyYWNlQnVmZmVyICE9PSBudWxsICkge1xuXHRcdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5nZXRUcmFjZUxvZ1wiLCBuZXcgRGF0ZSgpKTtcblx0XHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQuZ2V0VHJhY2VMb2cgaW4gZmxpZ2h0IG1lc3NhZ2VzXCIsIHRoaXMuX3NlbnRNZXNzYWdlcy5sZW5ndGgpO1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fc2VudE1lc3NhZ2VzKVxuXHRcdFx0XHRcdHRoaXMuX3RyYWNlKFwiX3NlbnRNZXNzYWdlcyBcIixrZXksIHRoaXMuX3NlbnRNZXNzYWdlc1trZXldKTtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX3JlY2VpdmVkTWVzc2FnZXMpXG5cdFx0XHRcdFx0dGhpcy5fdHJhY2UoXCJfcmVjZWl2ZWRNZXNzYWdlcyBcIixrZXksIHRoaXMuX3JlY2VpdmVkTWVzc2FnZXNba2V5XSk7XG5cblx0XHRcdFx0cmV0dXJuIHRoaXMuX3RyYWNlQnVmZmVyO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5zdGFydFRyYWNlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKCB0aGlzLl90cmFjZUJ1ZmZlciA9PT0gbnVsbCApIHtcblx0XHRcdFx0dGhpcy5fdHJhY2VCdWZmZXIgPSBbXTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50LnN0YXJ0VHJhY2VcIiwgbmV3IERhdGUoKSwgdmVyc2lvbik7XG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnN0b3BUcmFjZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGRlbGV0ZSB0aGlzLl90cmFjZUJ1ZmZlcjtcblx0XHR9O1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX2RvQ29ubmVjdCA9IGZ1bmN0aW9uICh3c3VybCkge1xuXHRcdC8vIFdoZW4gdGhlIHNvY2tldCBpcyBvcGVuLCB0aGlzIGNsaWVudCB3aWxsIHNlbmQgdGhlIENPTk5FQ1QgV2lyZU1lc3NhZ2UgdXNpbmcgdGhlIHNhdmVkIHBhcmFtZXRlcnMuXG5cdFx0XHRpZiAodGhpcy5jb25uZWN0T3B0aW9ucy51c2VTU0wpIHtcblx0XHRcdFx0dmFyIHVyaVBhcnRzID0gd3N1cmwuc3BsaXQoXCI6XCIpO1xuXHRcdFx0XHR1cmlQYXJ0c1swXSA9IFwid3NzXCI7XG5cdFx0XHRcdHdzdXJsID0gdXJpUGFydHMuam9pbihcIjpcIik7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl93c3VyaSA9IHdzdXJsO1xuXHRcdFx0dGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcblxuXG5cblx0XHRcdGlmICh0aGlzLmNvbm5lY3RPcHRpb25zLm1xdHRWZXJzaW9uIDwgNCkge1xuXHRcdFx0XHR0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQod3N1cmwsIFtcIm1xdHR2My4xXCJdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh3c3VybCwgW1wibXF0dFwiXSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnNvY2tldC5iaW5hcnlUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xuXHRcdFx0dGhpcy5zb2NrZXQub25vcGVuID0gc2NvcGUodGhpcy5fb25fc29ja2V0X29wZW4sIHRoaXMpO1xuXHRcdFx0dGhpcy5zb2NrZXQub25tZXNzYWdlID0gc2NvcGUodGhpcy5fb25fc29ja2V0X21lc3NhZ2UsIHRoaXMpO1xuXHRcdFx0dGhpcy5zb2NrZXQub25lcnJvciA9IHNjb3BlKHRoaXMuX29uX3NvY2tldF9lcnJvciwgdGhpcyk7XG5cdFx0XHR0aGlzLnNvY2tldC5vbmNsb3NlID0gc2NvcGUodGhpcy5fb25fc29ja2V0X2Nsb3NlLCB0aGlzKTtcblxuXHRcdFx0dGhpcy5zZW5kUGluZ2VyID0gbmV3IFBpbmdlcih0aGlzLCB0aGlzLmNvbm5lY3RPcHRpb25zLmtlZXBBbGl2ZUludGVydmFsKTtcblx0XHRcdHRoaXMucmVjZWl2ZVBpbmdlciA9IG5ldyBQaW5nZXIodGhpcywgdGhpcy5jb25uZWN0T3B0aW9ucy5rZWVwQWxpdmVJbnRlcnZhbCk7XG5cdFx0XHRpZiAodGhpcy5fY29ubmVjdFRpbWVvdXQpIHtcblx0XHRcdFx0dGhpcy5fY29ubmVjdFRpbWVvdXQuY2FuY2VsKCk7XG5cdFx0XHRcdHRoaXMuX2Nvbm5lY3RUaW1lb3V0ID0gbnVsbDtcblx0XHRcdH1cblx0XHRcdHRoaXMuX2Nvbm5lY3RUaW1lb3V0ID0gbmV3IFRpbWVvdXQodGhpcywgdGhpcy5jb25uZWN0T3B0aW9ucy50aW1lb3V0LCB0aGlzLl9kaXNjb25uZWN0ZWQsICBbRVJST1IuQ09OTkVDVF9USU1FT1VULmNvZGUsIGZvcm1hdChFUlJPUi5DT05ORUNUX1RJTUVPVVQpXSk7XG5cdFx0fTtcblxuXG5cdFx0Ly8gU2NoZWR1bGUgYSBuZXcgbWVzc2FnZSB0byBiZSBzZW50IG92ZXIgdGhlIFdlYlNvY2tldHNcblx0XHQvLyBjb25uZWN0aW9uLiBDT05ORUNUIG1lc3NhZ2VzIGNhdXNlIFdlYlNvY2tldCBjb25uZWN0aW9uXG5cdFx0Ly8gdG8gYmUgc3RhcnRlZC4gQWxsIG90aGVyIG1lc3NhZ2VzIGFyZSBxdWV1ZWQgaW50ZXJuYWxseVxuXHRcdC8vIHVudGlsIHRoaXMgaGFzIGhhcHBlbmVkLiBXaGVuIFdTIGNvbm5lY3Rpb24gc3RhcnRzLCBwcm9jZXNzXG5cdFx0Ly8gYWxsIG91dHN0YW5kaW5nIG1lc3NhZ2VzLlxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9zY2hlZHVsZV9tZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcblx0XHRcdC8vIEFkZCBtZXNzYWdlcyBpbiBmaWZvIG9yZGVyIHRvIGFycmF5LCBieSBhZGRpbmcgdG8gc3RhcnRcblx0XHRcdHRoaXMuX21zZ19xdWV1ZS51bnNoaWZ0KG1lc3NhZ2UpO1xuXHRcdFx0Ly8gUHJvY2VzcyBvdXRzdGFuZGluZyBtZXNzYWdlcyBpbiB0aGUgcXVldWUgaWYgd2UgaGF2ZSBhbiAgb3BlbiBzb2NrZXQsIGFuZCBoYXZlIHJlY2VpdmVkIENPTk5BQ0suXG5cdFx0XHRpZiAodGhpcy5jb25uZWN0ZWQpIHtcblx0XHRcdFx0dGhpcy5fcHJvY2Vzc19xdWV1ZSgpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5zdG9yZSA9IGZ1bmN0aW9uKHByZWZpeCwgd2lyZU1lc3NhZ2UpIHtcblx0XHRcdHZhciBzdG9yZWRNZXNzYWdlID0ge3R5cGU6d2lyZU1lc3NhZ2UudHlwZSwgbWVzc2FnZUlkZW50aWZpZXI6d2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIsIHZlcnNpb246MX07XG5cblx0XHRcdHN3aXRjaCh3aXJlTWVzc2FnZS50eXBlKSB7XG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5QVUJMSVNIOlxuXHRcdFx0XHRpZih3aXJlTWVzc2FnZS5wdWJSZWNSZWNlaXZlZClcblx0XHRcdFx0XHRzdG9yZWRNZXNzYWdlLnB1YlJlY1JlY2VpdmVkID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBDb252ZXJ0IHRoZSBwYXlsb2FkIHRvIGEgaGV4IHN0cmluZy5cblx0XHRcdFx0c3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZSA9IHt9O1xuXHRcdFx0XHR2YXIgaGV4ID0gXCJcIjtcblx0XHRcdFx0dmFyIG1lc3NhZ2VCeXRlcyA9IHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnBheWxvYWRCeXRlcztcblx0XHRcdFx0Zm9yICh2YXIgaT0wOyBpPG1lc3NhZ2VCeXRlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGlmIChtZXNzYWdlQnl0ZXNbaV0gPD0gMHhGKVxuXHRcdFx0XHRcdFx0aGV4ID0gaGV4K1wiMFwiK21lc3NhZ2VCeXRlc1tpXS50b1N0cmluZygxNik7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0aGV4ID0gaGV4K21lc3NhZ2VCeXRlc1tpXS50b1N0cmluZygxNik7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5wYXlsb2FkSGV4ID0gaGV4O1xuXG5cdFx0XHRcdHN0b3JlZE1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UucW9zID0gd2lyZU1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UucW9zO1xuXHRcdFx0XHRzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSA9IHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlLmRlc3RpbmF0aW9uTmFtZTtcblx0XHRcdFx0aWYgKHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlLmR1cGxpY2F0ZSlcblx0XHRcdFx0XHRzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLmR1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHRcdGlmICh3aXJlTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5yZXRhaW5lZClcblx0XHRcdFx0XHRzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnJldGFpbmVkID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBBZGQgYSBzZXF1ZW5jZSBudW1iZXIgdG8gc2VudCBtZXNzYWdlcy5cblx0XHRcdFx0aWYgKCBwcmVmaXguaW5kZXhPZihcIlNlbnQ6XCIpID09PSAwICkge1xuXHRcdFx0XHRcdGlmICggd2lyZU1lc3NhZ2Uuc2VxdWVuY2UgPT09IHVuZGVmaW5lZCApXG5cdFx0XHRcdFx0XHR3aXJlTWVzc2FnZS5zZXF1ZW5jZSA9ICsrdGhpcy5fc2VxdWVuY2U7XG5cdFx0XHRcdFx0c3RvcmVkTWVzc2FnZS5zZXF1ZW5jZSA9IHdpcmVNZXNzYWdlLnNlcXVlbmNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9TVE9SRURfREFUQSwgW3ByZWZpeCt0aGlzLl9sb2NhbEtleSt3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllciwgc3RvcmVkTWVzc2FnZV0pKTtcblx0XHRcdH1cblx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKHByZWZpeCt0aGlzLl9sb2NhbEtleSt3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllciwgSlNPTi5zdHJpbmdpZnkoc3RvcmVkTWVzc2FnZSkpO1xuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5yZXN0b3JlID0gZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHR2YXIgdmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuXHRcdFx0dmFyIHN0b3JlZE1lc3NhZ2UgPSBKU09OLnBhcnNlKHZhbHVlKTtcblxuXHRcdFx0dmFyIHdpcmVNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKHN0b3JlZE1lc3NhZ2UudHlwZSwgc3RvcmVkTWVzc2FnZSk7XG5cblx0XHRcdHN3aXRjaChzdG9yZWRNZXNzYWdlLnR5cGUpIHtcblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQkxJU0g6XG5cdFx0XHRcdC8vIFJlcGxhY2UgdGhlIHBheWxvYWQgbWVzc2FnZSB3aXRoIGEgTWVzc2FnZSBvYmplY3QuXG5cdFx0XHRcdHZhciBoZXggPSBzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnBheWxvYWRIZXg7XG5cdFx0XHRcdHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoKGhleC5sZW5ndGgpLzIpO1xuXHRcdFx0XHR2YXIgYnl0ZVN0cmVhbSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG5cdFx0XHRcdHZhciBpID0gMDtcblx0XHRcdFx0d2hpbGUgKGhleC5sZW5ndGggPj0gMikge1xuXHRcdFx0XHRcdHZhciB4ID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygwLCAyKSwgMTYpO1xuXHRcdFx0XHRcdGhleCA9IGhleC5zdWJzdHJpbmcoMiwgaGV4Lmxlbmd0aCk7XG5cdFx0XHRcdFx0Ynl0ZVN0cmVhbVtpKytdID0geDtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgcGF5bG9hZE1lc3NhZ2UgPSBuZXcgTWVzc2FnZShieXRlU3RyZWFtKTtcblxuXHRcdFx0XHRwYXlsb2FkTWVzc2FnZS5xb3MgPSBzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnFvcztcblx0XHRcdFx0cGF5bG9hZE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lID0gc3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWU7XG5cdFx0XHRcdGlmIChzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLmR1cGxpY2F0ZSlcblx0XHRcdFx0XHRwYXlsb2FkTWVzc2FnZS5kdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0XHRpZiAoc3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5yZXRhaW5lZClcblx0XHRcdFx0XHRwYXlsb2FkTWVzc2FnZS5yZXRhaW5lZCA9IHRydWU7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlID0gcGF5bG9hZE1lc3NhZ2U7XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1NUT1JFRF9EQVRBLCBba2V5LCB2YWx1ZV0pKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGtleS5pbmRleE9mKFwiU2VudDpcIit0aGlzLl9sb2NhbEtleSkgPT09IDApIHtcblx0XHRcdFx0d2lyZU1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UuZHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXSA9IHdpcmVNZXNzYWdlO1xuXHRcdFx0fSBlbHNlIGlmIChrZXkuaW5kZXhPZihcIlJlY2VpdmVkOlwiK3RoaXMuX2xvY2FsS2V5KSA9PT0gMCkge1xuXHRcdFx0XHR0aGlzLl9yZWNlaXZlZE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXSA9IHdpcmVNZXNzYWdlO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fcHJvY2Vzc19xdWV1ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBtZXNzYWdlID0gbnVsbDtcblxuXHRcdFx0Ly8gU2VuZCBhbGwgcXVldWVkIG1lc3NhZ2VzIGRvd24gc29ja2V0IGNvbm5lY3Rpb25cblx0XHRcdHdoaWxlICgobWVzc2FnZSA9IHRoaXMuX21zZ19xdWV1ZS5wb3AoKSkpIHtcblx0XHRcdFx0dGhpcy5fc29ja2V0X3NlbmQobWVzc2FnZSk7XG5cdFx0XHRcdC8vIE5vdGlmeSBsaXN0ZW5lcnMgdGhhdCBtZXNzYWdlIHdhcyBzdWNjZXNzZnVsbHkgc2VudFxuXHRcdFx0XHRpZiAodGhpcy5fbm90aWZ5X21zZ19zZW50W21lc3NhZ2VdKSB7XG5cdFx0XHRcdFx0dGhpcy5fbm90aWZ5X21zZ19zZW50W21lc3NhZ2VdKCk7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuX25vdGlmeV9tc2dfc2VudFttZXNzYWdlXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKipcblx0ICogRXhwZWN0IGFuIEFDSyByZXNwb25zZSBmb3IgdGhpcyBtZXNzYWdlLiBBZGQgbWVzc2FnZSB0byB0aGUgc2V0IG9mIGluIHByb2dyZXNzXG5cdCAqIG1lc3NhZ2VzIGFuZCBzZXQgYW4gdW51c2VkIGlkZW50aWZpZXIgaW4gdGhpcyBtZXNzYWdlLlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9yZXF1aXJlc19hY2sgPSBmdW5jdGlvbiAod2lyZU1lc3NhZ2UpIHtcblx0XHRcdHZhciBtZXNzYWdlQ291bnQgPSBPYmplY3Qua2V5cyh0aGlzLl9zZW50TWVzc2FnZXMpLmxlbmd0aDtcblx0XHRcdGlmIChtZXNzYWdlQ291bnQgPiB0aGlzLm1heE1lc3NhZ2VJZGVudGlmaWVyKVxuXHRcdFx0XHR0aHJvdyBFcnJvciAoXCJUb28gbWFueSBtZXNzYWdlczpcIittZXNzYWdlQ291bnQpO1xuXG5cdFx0XHR3aGlsZSh0aGlzLl9zZW50TWVzc2FnZXNbdGhpcy5fbWVzc2FnZV9pZGVudGlmaWVyXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRoaXMuX21lc3NhZ2VfaWRlbnRpZmllcisrO1xuXHRcdFx0fVxuXHRcdFx0d2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIgPSB0aGlzLl9tZXNzYWdlX2lkZW50aWZpZXI7XG5cdFx0XHR0aGlzLl9zZW50TWVzc2FnZXNbd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJdID0gd2lyZU1lc3NhZ2U7XG5cdFx0XHRpZiAod2lyZU1lc3NhZ2UudHlwZSA9PT0gTUVTU0FHRV9UWVBFLlBVQkxJU0gpIHtcblx0XHRcdFx0dGhpcy5zdG9yZShcIlNlbnQ6XCIsIHdpcmVNZXNzYWdlKTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLl9tZXNzYWdlX2lkZW50aWZpZXIgPT09IHRoaXMubWF4TWVzc2FnZUlkZW50aWZpZXIpIHtcblx0XHRcdFx0dGhpcy5fbWVzc2FnZV9pZGVudGlmaWVyID0gMTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdCAqIENhbGxlZCB3aGVuIHRoZSB1bmRlcmx5aW5nIHdlYnNvY2tldCBoYXMgYmVlbiBvcGVuZWQuXG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX29uX3NvY2tldF9vcGVuID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIENyZWF0ZSB0aGUgQ09OTkVDVCBtZXNzYWdlIG9iamVjdC5cblx0XHRcdHZhciB3aXJlTWVzc2FnZSA9IG5ldyBXaXJlTWVzc2FnZShNRVNTQUdFX1RZUEUuQ09OTkVDVCwgdGhpcy5jb25uZWN0T3B0aW9ucyk7XG5cdFx0XHR3aXJlTWVzc2FnZS5jbGllbnRJZCA9IHRoaXMuY2xpZW50SWQ7XG5cdFx0XHR0aGlzLl9zb2NrZXRfc2VuZCh3aXJlTWVzc2FnZSk7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBDYWxsZWQgd2hlbiB0aGUgdW5kZXJseWluZyB3ZWJzb2NrZXQgaGFzIHJlY2VpdmVkIGEgY29tcGxldGUgcGFja2V0LlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9vbl9zb2NrZXRfbWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQuX29uX3NvY2tldF9tZXNzYWdlXCIsIGV2ZW50LmRhdGEpO1xuXHRcdFx0dmFyIG1lc3NhZ2VzID0gdGhpcy5fZGVmcmFtZU1lc3NhZ2VzKGV2ZW50LmRhdGEpO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlcy5sZW5ndGg7IGkrPTEpIHtcblx0XHRcdFx0dGhpcy5faGFuZGxlTWVzc2FnZShtZXNzYWdlc1tpXSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9kZWZyYW1lTWVzc2FnZXMgPSBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHR2YXIgYnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG5cdFx0XHR2YXIgbWVzc2FnZXMgPSBbXTtcblx0XHRcdGlmICh0aGlzLnJlY2VpdmVCdWZmZXIpIHtcblx0XHRcdFx0dmFyIG5ld0RhdGEgPSBuZXcgVWludDhBcnJheSh0aGlzLnJlY2VpdmVCdWZmZXIubGVuZ3RoK2J5dGVBcnJheS5sZW5ndGgpO1xuXHRcdFx0XHRuZXdEYXRhLnNldCh0aGlzLnJlY2VpdmVCdWZmZXIpO1xuXHRcdFx0XHRuZXdEYXRhLnNldChieXRlQXJyYXksdGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aCk7XG5cdFx0XHRcdGJ5dGVBcnJheSA9IG5ld0RhdGE7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLnJlY2VpdmVCdWZmZXI7XG5cdFx0XHR9XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgb2Zmc2V0ID0gMDtcblx0XHRcdFx0d2hpbGUob2Zmc2V0IDwgYnl0ZUFycmF5Lmxlbmd0aCkge1xuXHRcdFx0XHRcdHZhciByZXN1bHQgPSBkZWNvZGVNZXNzYWdlKGJ5dGVBcnJheSxvZmZzZXQpO1xuXHRcdFx0XHRcdHZhciB3aXJlTWVzc2FnZSA9IHJlc3VsdFswXTtcblx0XHRcdFx0XHRvZmZzZXQgPSByZXN1bHRbMV07XG5cdFx0XHRcdFx0aWYgKHdpcmVNZXNzYWdlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRtZXNzYWdlcy5wdXNoKHdpcmVNZXNzYWdlKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChvZmZzZXQgPCBieXRlQXJyYXkubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dGhpcy5yZWNlaXZlQnVmZmVyID0gYnl0ZUFycmF5LnN1YmFycmF5KG9mZnNldCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdHZhciBlcnJvclN0YWNrID0gKChlcnJvci5oYXNPd25Qcm9wZXJ0eShcInN0YWNrXCIpID09IFwidW5kZWZpbmVkXCIpID8gZXJyb3Iuc3RhY2sudG9TdHJpbmcoKSA6IFwiTm8gRXJyb3IgU3RhY2sgQXZhaWxhYmxlXCIpO1xuXHRcdFx0XHR0aGlzLl9kaXNjb25uZWN0ZWQoRVJST1IuSU5URVJOQUxfRVJST1IuY29kZSAsIGZvcm1hdChFUlJPUi5JTlRFUk5BTF9FUlJPUiwgW2Vycm9yLm1lc3NhZ2UsZXJyb3JTdGFja10pKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1lc3NhZ2VzO1xuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5faGFuZGxlTWVzc2FnZSA9IGZ1bmN0aW9uKHdpcmVNZXNzYWdlKSB7XG5cblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50Ll9oYW5kbGVNZXNzYWdlXCIsIHdpcmVNZXNzYWdlKTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0c3dpdGNoKHdpcmVNZXNzYWdlLnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuQ09OTkFDSzpcblx0XHRcdFx0XHR0aGlzLl9jb25uZWN0VGltZW91dC5jYW5jZWwoKTtcblx0XHRcdFx0XHRpZiAodGhpcy5fcmVjb25uZWN0VGltZW91dClcblx0XHRcdFx0XHRcdHRoaXMuX3JlY29ubmVjdFRpbWVvdXQuY2FuY2VsKCk7XG5cblx0XHRcdFx0XHQvLyBJZiB3ZSBoYXZlIHN0YXJ0ZWQgdXNpbmcgY2xlYW4gc2Vzc2lvbiB0aGVuIGNsZWFyIHVwIHRoZSBsb2NhbCBzdGF0ZS5cblx0XHRcdFx0XHRpZiAodGhpcy5jb25uZWN0T3B0aW9ucy5jbGVhblNlc3Npb24pIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl9zZW50TWVzc2FnZXMpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHNlbnRNZXNzYWdlID0gdGhpcy5fc2VudE1lc3NhZ2VzW2tleV07XG5cdFx0XHRcdFx0XHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiU2VudDpcIit0aGlzLl9sb2NhbEtleStzZW50TWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzLl9zZW50TWVzc2FnZXMgPSB7fTtcblxuXHRcdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX3JlY2VpdmVkTWVzc2FnZXMpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHJlY2VpdmVkTWVzc2FnZSA9IHRoaXMuX3JlY2VpdmVkTWVzc2FnZXNba2V5XTtcblx0XHRcdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJSZWNlaXZlZDpcIit0aGlzLl9sb2NhbEtleStyZWNlaXZlZE1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGhpcy5fcmVjZWl2ZWRNZXNzYWdlcyA9IHt9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBDbGllbnQgY29ubmVjdGVkIGFuZCByZWFkeSBmb3IgYnVzaW5lc3MuXG5cdFx0XHRcdFx0aWYgKHdpcmVNZXNzYWdlLnJldHVybkNvZGUgPT09IDApIHtcblxuXHRcdFx0XHRcdFx0dGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0IG9mIHVyaXMgYW5kIHN0b3AgbG9va2luZyBmb3IgYSBnb29kIGhvc3QuXG5cblx0XHRcdFx0XHRcdGlmICh0aGlzLmNvbm5lY3RPcHRpb25zLnVyaXMpXG5cdFx0XHRcdFx0XHRcdHRoaXMuaG9zdEluZGV4ID0gdGhpcy5jb25uZWN0T3B0aW9ucy51cmlzLmxlbmd0aDtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9kaXNjb25uZWN0ZWQoRVJST1IuQ09OTkFDS19SRVRVUk5DT0RFLmNvZGUgLCBmb3JtYXQoRVJST1IuQ09OTkFDS19SRVRVUk5DT0RFLCBbd2lyZU1lc3NhZ2UucmV0dXJuQ29kZSwgQ09OTkFDS19SQ1t3aXJlTWVzc2FnZS5yZXR1cm5Db2RlXV0pKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFJlc2VuZCBtZXNzYWdlcy5cblx0XHRcdFx0XHR2YXIgc2VxdWVuY2VkTWVzc2FnZXMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBtc2dJZCBpbiB0aGlzLl9zZW50TWVzc2FnZXMpIHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLl9zZW50TWVzc2FnZXMuaGFzT3duUHJvcGVydHkobXNnSWQpKVxuXHRcdFx0XHRcdFx0XHRzZXF1ZW5jZWRNZXNzYWdlcy5wdXNoKHRoaXMuX3NlbnRNZXNzYWdlc1ttc2dJZF0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEFsc28gc2NoZWR1bGUgcW9zIDAgYnVmZmVyZWQgbWVzc2FnZXMgaWYgYW55XG5cdFx0XHRcdFx0aWYgKHRoaXMuX2J1ZmZlcmVkX21zZ19xdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHR2YXIgbXNnID0gbnVsbDtcblx0XHRcdFx0XHRcdHdoaWxlICgobXNnID0gdGhpcy5fYnVmZmVyZWRfbXNnX3F1ZXVlLnBvcCgpKSkge1xuXHRcdFx0XHRcdFx0XHRzZXF1ZW5jZWRNZXNzYWdlcy5wdXNoKG1zZyk7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm9uTWVzc2FnZURlbGl2ZXJlZClcblx0XHRcdFx0XHRcdFx0XHR0aGlzLl9ub3RpZnlfbXNnX3NlbnRbbXNnXSA9IHRoaXMub25NZXNzYWdlRGVsaXZlcmVkKG1zZy5wYXlsb2FkTWVzc2FnZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU29ydCBzZW50TWVzc2FnZXMgaW50byB0aGUgb3JpZ2luYWwgc2VudCBvcmRlci5cblx0XHRcdFx0XHR2YXIgc2VxdWVuY2VkTWVzc2FnZXMgPSBzZXF1ZW5jZWRNZXNzYWdlcy5zb3J0KGZ1bmN0aW9uKGEsYikge3JldHVybiBhLnNlcXVlbmNlIC0gYi5zZXF1ZW5jZTt9ICk7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaT0wLCBsZW49c2VxdWVuY2VkTWVzc2FnZXMubGVuZ3RoOyBpPGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgc2VudE1lc3NhZ2UgPSBzZXF1ZW5jZWRNZXNzYWdlc1tpXTtcblx0XHRcdFx0XHRcdGlmIChzZW50TWVzc2FnZS50eXBlID09IE1FU1NBR0VfVFlQRS5QVUJMSVNIICYmIHNlbnRNZXNzYWdlLnB1YlJlY1JlY2VpdmVkKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBwdWJSZWxNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5QVUJSRUwsIHttZXNzYWdlSWRlbnRpZmllcjpzZW50TWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcn0pO1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9zY2hlZHVsZV9tZXNzYWdlKHB1YlJlbE1lc3NhZ2UpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZShzZW50TWVzc2FnZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgY29ubmVjdE9wdGlvbnMub25TdWNjZXNzIGNhbGxiYWNrIGlmIHRoZXJlIGlzIG9uZS5cblx0XHRcdFx0XHQvLyBXaWxsIGFsc28gbm93IHJldHVybiBpZiB0aGlzIGNvbm5lY3Rpb24gd2FzIHRoZSByZXN1bHQgb2YgYW4gYXV0b21hdGljXG5cdFx0XHRcdFx0Ly8gcmVjb25uZWN0IGFuZCB3aGljaCBVUkkgd2FzIHN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG8uXG5cdFx0XHRcdFx0aWYgKHRoaXMuY29ubmVjdE9wdGlvbnMub25TdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNvbm5lY3RPcHRpb25zLm9uU3VjY2Vzcyh7aW52b2NhdGlvbkNvbnRleHQ6dGhpcy5jb25uZWN0T3B0aW9ucy5pbnZvY2F0aW9uQ29udGV4dH0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciByZWNvbm5lY3RlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmICh0aGlzLl9yZWNvbm5lY3RpbmcpIHtcblx0XHRcdFx0XHRcdHJlY29ubmVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHRoaXMuX3JlY29ubmVjdEludGVydmFsID0gMTtcblx0XHRcdFx0XHRcdHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIG9uQ29ubmVjdGVkIGNhbGxiYWNrIGlmIHRoZXJlIGlzIG9uZS5cblx0XHRcdFx0XHR0aGlzLl9jb25uZWN0ZWQocmVjb25uZWN0ZWQsIHRoaXMuX3dzdXJpKTtcblxuXHRcdFx0XHRcdC8vIFByb2Nlc3MgYWxsIHF1ZXVlZCBtZXNzYWdlcyBub3cgdGhhdCB0aGUgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZC5cblx0XHRcdFx0XHR0aGlzLl9wcm9jZXNzX3F1ZXVlKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUFVCTElTSDpcblx0XHRcdFx0XHR0aGlzLl9yZWNlaXZlUHVibGlzaCh3aXJlTWVzc2FnZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUFVCQUNLOlxuXHRcdFx0XHRcdHZhciBzZW50TWVzc2FnZSA9IHRoaXMuX3NlbnRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHJlIGZsb3cgb2YgYSBQVUJBQ0sgYWZ0ZXIgd2UgaGF2ZSByZXN0YXJ0ZWQgcmVjZWl2ZWRNZXNzYWdlIHdpbGwgbm90IGV4aXN0LlxuXHRcdFx0XHRcdGlmIChzZW50TWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0ZGVsZXRlIHRoaXMuX3NlbnRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcIlNlbnQ6XCIrdGhpcy5fbG9jYWxLZXkrd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIpO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMub25NZXNzYWdlRGVsaXZlcmVkKVxuXHRcdFx0XHRcdFx0XHR0aGlzLm9uTWVzc2FnZURlbGl2ZXJlZChzZW50TWVzc2FnZS5wYXlsb2FkTWVzc2FnZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQlJFQzpcblx0XHRcdFx0XHR2YXIgc2VudE1lc3NhZ2UgPSB0aGlzLl9zZW50TWVzc2FnZXNbd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJdO1xuXHRcdFx0XHRcdC8vIElmIHRoaXMgaXMgYSByZSBmbG93IG9mIGEgUFVCUkVDIGFmdGVyIHdlIGhhdmUgcmVzdGFydGVkIHJlY2VpdmVkTWVzc2FnZSB3aWxsIG5vdCBleGlzdC5cblx0XHRcdFx0XHRpZiAoc2VudE1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdHNlbnRNZXNzYWdlLnB1YlJlY1JlY2VpdmVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHZhciBwdWJSZWxNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5QVUJSRUwsIHttZXNzYWdlSWRlbnRpZmllcjp3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcn0pO1xuXHRcdFx0XHRcdFx0dGhpcy5zdG9yZShcIlNlbnQ6XCIsIHNlbnRNZXNzYWdlKTtcblx0XHRcdFx0XHRcdHRoaXMuX3NjaGVkdWxlX21lc3NhZ2UocHViUmVsTWVzc2FnZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQlJFTDpcblx0XHRcdFx0XHR2YXIgcmVjZWl2ZWRNZXNzYWdlID0gdGhpcy5fcmVjZWl2ZWRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJSZWNlaXZlZDpcIit0aGlzLl9sb2NhbEtleSt3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcik7XG5cdFx0XHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHJlIGZsb3cgb2YgYSBQVUJSRUwgYWZ0ZXIgd2UgaGF2ZSByZXN0YXJ0ZWQgcmVjZWl2ZWRNZXNzYWdlIHdpbGwgbm90IGV4aXN0LlxuXHRcdFx0XHRcdGlmIChyZWNlaXZlZE1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdHRoaXMuX3JlY2VpdmVNZXNzYWdlKHJlY2VpdmVkTWVzc2FnZSk7XG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpcy5fcmVjZWl2ZWRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIEFsd2F5cyBmbG93IFB1YkNvbXAsIHdlIG1heSBoYXZlIHByZXZpb3VzbHkgZmxvd2VkIFB1YkNvbXAgYnV0IHRoZSBzZXJ2ZXIgbG9zdCBpdCBhbmQgcmVzdGFydGVkLlxuXHRcdFx0XHRcdHZhciBwdWJDb21wTWVzc2FnZSA9IG5ldyBXaXJlTWVzc2FnZShNRVNTQUdFX1RZUEUuUFVCQ09NUCwge21lc3NhZ2VJZGVudGlmaWVyOndpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyfSk7XG5cdFx0XHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZShwdWJDb21wTWVzc2FnZSk7XG5cblxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQkNPTVA6XG5cdFx0XHRcdFx0dmFyIHNlbnRNZXNzYWdlID0gdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcIlNlbnQ6XCIrdGhpcy5fbG9jYWxLZXkrd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIpO1xuXHRcdFx0XHRcdGlmICh0aGlzLm9uTWVzc2FnZURlbGl2ZXJlZClcblx0XHRcdFx0XHRcdHRoaXMub25NZXNzYWdlRGVsaXZlcmVkKHNlbnRNZXNzYWdlLnBheWxvYWRNZXNzYWdlKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5TVUJBQ0s6XG5cdFx0XHRcdFx0dmFyIHNlbnRNZXNzYWdlID0gdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHRpZiAoc2VudE1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdGlmKHNlbnRNZXNzYWdlLnRpbWVPdXQpXG5cdFx0XHRcdFx0XHRcdHNlbnRNZXNzYWdlLnRpbWVPdXQuY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgbmVlZCB0byBiZSBmaXhlZCB3aGVuIHdlIGFkZCBtdWx0aXBsZSB0b3BpYyBzdXBwb3J0XG5cdFx0XHRcdFx0XHRpZiAod2lyZU1lc3NhZ2UucmV0dXJuQ29kZVswXSA9PT0gMHg4MCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoc2VudE1lc3NhZ2Uub25GYWlsdXJlKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2VudE1lc3NhZ2Uub25GYWlsdXJlKHdpcmVNZXNzYWdlLnJldHVybkNvZGUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHNlbnRNZXNzYWdlLm9uU3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0XHRzZW50TWVzc2FnZS5vblN1Y2Nlc3Mod2lyZU1lc3NhZ2UucmV0dXJuQ29kZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuVU5TVUJBQ0s6XG5cdFx0XHRcdFx0dmFyIHNlbnRNZXNzYWdlID0gdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHRpZiAoc2VudE1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdGlmIChzZW50TWVzc2FnZS50aW1lT3V0KVxuXHRcdFx0XHRcdFx0XHRzZW50TWVzc2FnZS50aW1lT3V0LmNhbmNlbCgpO1xuXHRcdFx0XHRcdFx0aWYgKHNlbnRNZXNzYWdlLmNhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHRcdHNlbnRNZXNzYWdlLmNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5QSU5HUkVTUDpcblx0XHRcdFx0LyogVGhlIHNlbmRQaW5nZXIgb3IgcmVjZWl2ZVBpbmdlciBtYXkgaGF2ZSBzZW50IGEgcGluZywgdGhlIHJlY2VpdmVQaW5nZXIgaGFzIGFscmVhZHkgYmVlbiByZXNldC4gKi9cblx0XHRcdFx0XHR0aGlzLnNlbmRQaW5nZXIucmVzZXQoKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5ESVNDT05ORUNUOlxuXHRcdFx0XHQvLyBDbGllbnRzIGRvIG5vdCBleHBlY3QgdG8gcmVjZWl2ZSBkaXNjb25uZWN0IHBhY2tldHMuXG5cdFx0XHRcdFx0dGhpcy5fZGlzY29ubmVjdGVkKEVSUk9SLklOVkFMSURfTVFUVF9NRVNTQUdFX1RZUEUuY29kZSAsIGZvcm1hdChFUlJPUi5JTlZBTElEX01RVFRfTUVTU0FHRV9UWVBFLCBbd2lyZU1lc3NhZ2UudHlwZV0pKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHRoaXMuX2Rpc2Nvbm5lY3RlZChFUlJPUi5JTlZBTElEX01RVFRfTUVTU0FHRV9UWVBFLmNvZGUgLCBmb3JtYXQoRVJST1IuSU5WQUxJRF9NUVRUX01FU1NBR0VfVFlQRSwgW3dpcmVNZXNzYWdlLnR5cGVdKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdHZhciBlcnJvclN0YWNrID0gKChlcnJvci5oYXNPd25Qcm9wZXJ0eShcInN0YWNrXCIpID09IFwidW5kZWZpbmVkXCIpID8gZXJyb3Iuc3RhY2sudG9TdHJpbmcoKSA6IFwiTm8gRXJyb3IgU3RhY2sgQXZhaWxhYmxlXCIpO1xuXHRcdFx0XHR0aGlzLl9kaXNjb25uZWN0ZWQoRVJST1IuSU5URVJOQUxfRVJST1IuY29kZSAsIGZvcm1hdChFUlJPUi5JTlRFUk5BTF9FUlJPUiwgW2Vycm9yLm1lc3NhZ2UsZXJyb3JTdGFja10pKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKiogQGlnbm9yZSAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9vbl9zb2NrZXRfZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0XHRcdGlmICghdGhpcy5fcmVjb25uZWN0aW5nKSB7XG5cdFx0XHRcdHRoaXMuX2Rpc2Nvbm5lY3RlZChFUlJPUi5TT0NLRVRfRVJST1IuY29kZSAsIGZvcm1hdChFUlJPUi5TT0NLRVRfRVJST1IsIFtlcnJvci5kYXRhXSkpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKiogQGlnbm9yZSAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9vbl9zb2NrZXRfY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3JlY29ubmVjdGluZykge1xuXHRcdFx0XHR0aGlzLl9kaXNjb25uZWN0ZWQoRVJST1IuU09DS0VUX0NMT1NFLmNvZGUgLCBmb3JtYXQoRVJST1IuU09DS0VUX0NMT1NFKSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKiBAaWdub3JlICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX3NvY2tldF9zZW5kID0gZnVuY3Rpb24gKHdpcmVNZXNzYWdlKSB7XG5cblx0XHRcdGlmICh3aXJlTWVzc2FnZS50eXBlID09IDEpIHtcblx0XHRcdFx0dmFyIHdpcmVNZXNzYWdlTWFza2VkID0gdGhpcy5fdHJhY2VNYXNrKHdpcmVNZXNzYWdlLCBcInBhc3N3b3JkXCIpO1xuXHRcdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5fc29ja2V0X3NlbmRcIiwgd2lyZU1lc3NhZ2VNYXNrZWQpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB0aGlzLl90cmFjZShcIkNsaWVudC5fc29ja2V0X3NlbmRcIiwgd2lyZU1lc3NhZ2UpO1xuXG5cdFx0XHR0aGlzLnNvY2tldC5zZW5kKHdpcmVNZXNzYWdlLmVuY29kZSgpKTtcblx0XHRcdC8qIFdlIGhhdmUgcHJvdmVkIHRvIHRoZSBzZXJ2ZXIgd2UgYXJlIGFsaXZlLiAqL1xuXHRcdFx0dGhpcy5zZW5kUGluZ2VyLnJlc2V0KCk7XG5cdFx0fTtcblxuXHRcdC8qKiBAaWdub3JlICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX3JlY2VpdmVQdWJsaXNoID0gZnVuY3Rpb24gKHdpcmVNZXNzYWdlKSB7XG5cdFx0XHRzd2l0Y2god2lyZU1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UucW9zKSB7XG5cdFx0XHRjYXNlIFwidW5kZWZpbmVkXCI6XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHRoaXMuX3JlY2VpdmVNZXNzYWdlKHdpcmVNZXNzYWdlKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0dmFyIHB1YkFja01lc3NhZ2UgPSBuZXcgV2lyZU1lc3NhZ2UoTUVTU0FHRV9UWVBFLlBVQkFDSywge21lc3NhZ2VJZGVudGlmaWVyOndpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyfSk7XG5cdFx0XHRcdHRoaXMuX3NjaGVkdWxlX21lc3NhZ2UocHViQWNrTWVzc2FnZSk7XG5cdFx0XHRcdHRoaXMuX3JlY2VpdmVNZXNzYWdlKHdpcmVNZXNzYWdlKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dGhpcy5fcmVjZWl2ZWRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl0gPSB3aXJlTWVzc2FnZTtcblx0XHRcdFx0dGhpcy5zdG9yZShcIlJlY2VpdmVkOlwiLCB3aXJlTWVzc2FnZSk7XG5cdFx0XHRcdHZhciBwdWJSZWNNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5QVUJSRUMsIHttZXNzYWdlSWRlbnRpZmllcjp3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcn0pO1xuXHRcdFx0XHR0aGlzLl9zY2hlZHVsZV9tZXNzYWdlKHB1YlJlY01lc3NhZ2UpO1xuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBFcnJvcihcIkludmFpbGQgcW9zPVwiICsgd2lyZU1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UucW9zKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqIEBpZ25vcmUgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fcmVjZWl2ZU1lc3NhZ2UgPSBmdW5jdGlvbiAod2lyZU1lc3NhZ2UpIHtcblx0XHRcdGlmICh0aGlzLm9uTWVzc2FnZUFycml2ZWQpIHtcblx0XHRcdFx0dGhpcy5vbk1lc3NhZ2VBcnJpdmVkKHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdCAqIENsaWVudCBoYXMgY29ubmVjdGVkLlxuXHQgKiBAcGFyYW0ge3JlY29ubmVjdH0gW2Jvb2xlYW5dIGluZGljYXRlIGlmIHRoaXMgd2FzIGEgcmVzdWx0IG9mIHJlY29ubmVjdCBvcGVyYXRpb24uXG5cdCAqIEBwYXJhbSB7dXJpfSBbc3RyaW5nXSBmdWxseSBxdWFsaWZpZWQgV2ViU29ja2V0IFVSSSBvZiB0aGUgc2VydmVyLlxuXHQgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fY29ubmVjdGVkID0gZnVuY3Rpb24gKHJlY29ubmVjdCwgdXJpKSB7XG5cdFx0Ly8gRXhlY3V0ZSB0aGUgb25Db25uZWN0ZWQgY2FsbGJhY2sgaWYgdGhlcmUgaXMgb25lLlxuXHRcdFx0aWYgKHRoaXMub25Db25uZWN0ZWQpXG5cdFx0XHRcdHRoaXMub25Db25uZWN0ZWQocmVjb25uZWN0LCB1cmkpO1xuXHRcdH07XG5cblx0XHQvKipcblx0ICogQXR0ZW1wdHMgdG8gcmVjb25uZWN0IHRoZSBjbGllbnQgdG8gdGhlIHNlcnZlci5cbiAgICogRm9yIGVhY2ggcmVjb25uZWN0IGF0dGVtcHQsIHdpbGwgZG91YmxlIHRoZSByZWNvbm5lY3QgaW50ZXJ2YWxcbiAgICogdXAgdG8gMTI4IHNlY29uZHMuXG5cdCAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9yZWNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5fcmVjb25uZWN0XCIpO1xuXHRcdFx0aWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuXHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RpbmcgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLnNlbmRQaW5nZXIuY2FuY2VsKCk7XG5cdFx0XHRcdHRoaXMucmVjZWl2ZVBpbmdlci5jYW5jZWwoKTtcblx0XHRcdFx0aWYgKHRoaXMuX3JlY29ubmVjdEludGVydmFsIDwgMTI4KVxuXHRcdFx0XHRcdHRoaXMuX3JlY29ubmVjdEludGVydmFsID0gdGhpcy5fcmVjb25uZWN0SW50ZXJ2YWwgKiAyO1xuXHRcdFx0XHRpZiAodGhpcy5jb25uZWN0T3B0aW9ucy51cmlzKSB7XG5cdFx0XHRcdFx0dGhpcy5ob3N0SW5kZXggPSAwO1xuXHRcdFx0XHRcdHRoaXMuX2RvQ29ubmVjdCh0aGlzLmNvbm5lY3RPcHRpb25zLnVyaXNbMF0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuX2RvQ29ubmVjdCh0aGlzLnVyaSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdCAqIENsaWVudCBoYXMgZGlzY29ubmVjdGVkIGVpdGhlciBhdCBpdHMgb3duIHJlcXVlc3Qgb3IgYmVjYXVzZSB0aGUgc2VydmVyXG5cdCAqIG9yIG5ldHdvcmsgZGlzY29ubmVjdGVkIGl0LiBSZW1vdmUgYWxsIG5vbi1kdXJhYmxlIHN0YXRlLlxuXHQgKiBAcGFyYW0ge2Vycm9yQ29kZX0gW251bWJlcl0gdGhlIGVycm9yIG51bWJlci5cblx0ICogQHBhcmFtIHtlcnJvclRleHR9IFtzdHJpbmddIHRoZSBlcnJvciB0ZXh0LlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9kaXNjb25uZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JDb2RlLCBlcnJvclRleHQpIHtcblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50Ll9kaXNjb25uZWN0ZWRcIiwgZXJyb3JDb2RlLCBlcnJvclRleHQpO1xuXG5cdFx0XHRpZiAoZXJyb3JDb2RlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fcmVjb25uZWN0aW5nKSB7XG5cdFx0XHRcdC8vQ29udGludWUgYXV0b21hdGljIHJlY29ubmVjdCBwcm9jZXNzXG5cdFx0XHRcdHRoaXMuX3JlY29ubmVjdFRpbWVvdXQgPSBuZXcgVGltZW91dCh0aGlzLCB0aGlzLl9yZWNvbm5lY3RJbnRlcnZhbCwgdGhpcy5fcmVjb25uZWN0KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnNlbmRQaW5nZXIuY2FuY2VsKCk7XG5cdFx0XHR0aGlzLnJlY2VpdmVQaW5nZXIuY2FuY2VsKCk7XG5cdFx0XHRpZiAodGhpcy5fY29ubmVjdFRpbWVvdXQpIHtcblx0XHRcdFx0dGhpcy5fY29ubmVjdFRpbWVvdXQuY2FuY2VsKCk7XG5cdFx0XHRcdHRoaXMuX2Nvbm5lY3RUaW1lb3V0ID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xlYXIgbWVzc2FnZSBidWZmZXJzLlxuXHRcdFx0dGhpcy5fbXNnX3F1ZXVlID0gW107XG5cdFx0XHR0aGlzLl9idWZmZXJlZF9tc2dfcXVldWUgPSBbXTtcblx0XHRcdHRoaXMuX25vdGlmeV9tc2dfc2VudCA9IHt9O1xuXG5cdFx0XHRpZiAodGhpcy5zb2NrZXQpIHtcblx0XHRcdC8vIENhbmNlbCBhbGwgc29ja2V0IGNhbGxiYWNrcyBzbyB0aGF0IHRoZXkgY2Fubm90IGJlIGRyaXZlbiBhZ2FpbiBieSB0aGlzIHNvY2tldC5cblx0XHRcdFx0dGhpcy5zb2NrZXQub25vcGVuID0gbnVsbDtcblx0XHRcdFx0dGhpcy5zb2NrZXQub25tZXNzYWdlID0gbnVsbDtcblx0XHRcdFx0dGhpcy5zb2NrZXQub25lcnJvciA9IG51bGw7XG5cdFx0XHRcdHRoaXMuc29ja2V0Lm9uY2xvc2UgPSBudWxsO1xuXHRcdFx0XHRpZiAodGhpcy5zb2NrZXQucmVhZHlTdGF0ZSA9PT0gMSlcblx0XHRcdFx0XHR0aGlzLnNvY2tldC5jbG9zZSgpO1xuXHRcdFx0XHRkZWxldGUgdGhpcy5zb2NrZXQ7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmNvbm5lY3RPcHRpb25zLnVyaXMgJiYgdGhpcy5ob3N0SW5kZXggPCB0aGlzLmNvbm5lY3RPcHRpb25zLnVyaXMubGVuZ3RoLTEpIHtcblx0XHRcdC8vIFRyeSB0aGUgbmV4dCBob3N0LlxuXHRcdFx0XHR0aGlzLmhvc3RJbmRleCsrO1xuXHRcdFx0XHR0aGlzLl9kb0Nvbm5lY3QodGhpcy5jb25uZWN0T3B0aW9ucy51cmlzW3RoaXMuaG9zdEluZGV4XSk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGlmIChlcnJvckNvZGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGVycm9yQ29kZSA9IEVSUk9SLk9LLmNvZGU7XG5cdFx0XHRcdFx0ZXJyb3JUZXh0ID0gZm9ybWF0KEVSUk9SLk9LKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJ1biBhbnkgYXBwbGljYXRpb24gY2FsbGJhY2tzIGxhc3QgYXMgdGhleSBtYXkgYXR0ZW1wdCB0byByZWNvbm5lY3QgYW5kIGhlbmNlIGNyZWF0ZSBhIG5ldyBzb2NrZXQuXG5cdFx0XHRcdGlmICh0aGlzLmNvbm5lY3RlZCkge1xuXHRcdFx0XHRcdHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgY29ubmVjdGlvbkxvc3RDYWxsYmFjayBpZiB0aGVyZSBpcyBvbmUsIGFuZCB3ZSB3ZXJlIGNvbm5lY3RlZC5cblx0XHRcdFx0XHRpZiAodGhpcy5vbkNvbm5lY3Rpb25Mb3N0KSB7XG5cdFx0XHRcdFx0XHR0aGlzLm9uQ29ubmVjdGlvbkxvc3Qoe2Vycm9yQ29kZTplcnJvckNvZGUsIGVycm9yTWVzc2FnZTplcnJvclRleHQsIHJlY29ubmVjdDp0aGlzLmNvbm5lY3RPcHRpb25zLnJlY29ubmVjdCwgdXJpOnRoaXMuX3dzdXJpfSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChlcnJvckNvZGUgIT09IEVSUk9SLk9LLmNvZGUgJiYgdGhpcy5jb25uZWN0T3B0aW9ucy5yZWNvbm5lY3QpIHtcblx0XHRcdFx0XHQvLyBTdGFydCBhdXRvbWF0aWMgcmVjb25uZWN0IHByb2Nlc3MgZm9yIHRoZSB2ZXJ5IGZpcnN0IHRpbWUgc2luY2UgbGFzdCBzdWNjZXNzZnVsIGNvbm5lY3QuXG5cdFx0XHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RJbnRlcnZhbCA9IDE7XG5cdFx0XHRcdFx0XHR0aGlzLl9yZWNvbm5lY3QoKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIE90aGVyd2lzZSB3ZSBuZXZlciBoYWQgYSBjb25uZWN0aW9uLCBzbyBpbmRpY2F0ZSB0aGF0IHRoZSBjb25uZWN0IGhhcyBmYWlsZWQuXG5cdFx0XHRcdFx0aWYgKHRoaXMuY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb24gPT09IDQgJiYgdGhpcy5jb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbkV4cGxpY2l0ID09PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0dGhpcy5fdHJhY2UoXCJGYWlsZWQgdG8gY29ubmVjdCBWNCwgZHJvcHBpbmcgYmFjayB0byBWM1wiKTtcblx0XHRcdFx0XHRcdHRoaXMuY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb24gPSAzO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMuY29ubmVjdE9wdGlvbnMudXJpcykge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmhvc3RJbmRleCA9IDA7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2RvQ29ubmVjdCh0aGlzLmNvbm5lY3RPcHRpb25zLnVyaXNbMF0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5fZG9Db25uZWN0KHRoaXMudXJpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2UgaWYodGhpcy5jb25uZWN0T3B0aW9ucy5vbkZhaWx1cmUpIHtcblx0XHRcdFx0XHRcdHRoaXMuY29ubmVjdE9wdGlvbnMub25GYWlsdXJlKHtpbnZvY2F0aW9uQ29udGV4dDp0aGlzLmNvbm5lY3RPcHRpb25zLmludm9jYXRpb25Db250ZXh0LCBlcnJvckNvZGU6ZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2U6ZXJyb3JUZXh0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKiBAaWdub3JlICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX3RyYWNlID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIFBhc3MgdHJhY2UgbWVzc2FnZSBiYWNrIHRvIGNsaWVudCdzIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdFx0XHRpZiAodGhpcy50cmFjZUZ1bmN0aW9uKSB7XG5cdFx0XHRcdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblx0XHRcdFx0Zm9yICh2YXIgaSBpbiBhcmdzKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBhcmdzW2ldICE9PSBcInVuZGVmaW5lZFwiKVxuXHRcdFx0XHRcdFx0YXJncy5zcGxpY2UoaSwgMSwgSlNPTi5zdHJpbmdpZnkoYXJnc1tpXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciByZWNvcmQgPSBhcmdzLmpvaW4oXCJcIik7XG5cdFx0XHRcdHRoaXMudHJhY2VGdW5jdGlvbiAoe3NldmVyaXR5OiBcIkRlYnVnXCIsIG1lc3NhZ2U6IHJlY29yZFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vYnVmZmVyIHN0eWxlIHRyYWNlXG5cdFx0XHRpZiAoIHRoaXMuX3RyYWNlQnVmZmVyICE9PSBudWxsICkge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbWF4ID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG1heDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLl90cmFjZUJ1ZmZlci5sZW5ndGggPT0gdGhpcy5fTUFYX1RSQUNFX0VOVFJJRVMgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl90cmFjZUJ1ZmZlci5zaGlmdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaSA9PT0gMCkgdGhpcy5fdHJhY2VCdWZmZXIucHVzaChhcmd1bWVudHNbaV0pO1xuXHRcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09IFwidW5kZWZpbmVkXCIgKSB0aGlzLl90cmFjZUJ1ZmZlci5wdXNoKGFyZ3VtZW50c1tpXSk7XG5cdFx0XHRcdFx0ZWxzZSB0aGlzLl90cmFjZUJ1ZmZlci5wdXNoKFwiICBcIitKU09OLnN0cmluZ2lmeShhcmd1bWVudHNbaV0pKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKiogQGlnbm9yZSAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl90cmFjZU1hc2sgPSBmdW5jdGlvbiAodHJhY2VPYmplY3QsIG1hc2tlZCkge1xuXHRcdFx0dmFyIHRyYWNlT2JqZWN0TWFza2VkID0ge307XG5cdFx0XHRmb3IgKHZhciBhdHRyIGluIHRyYWNlT2JqZWN0KSB7XG5cdFx0XHRcdGlmICh0cmFjZU9iamVjdC5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuXHRcdFx0XHRcdGlmIChhdHRyID09IG1hc2tlZClcblx0XHRcdFx0XHRcdHRyYWNlT2JqZWN0TWFza2VkW2F0dHJdID0gXCIqKioqKipcIjtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHR0cmFjZU9iamVjdE1hc2tlZFthdHRyXSA9IHRyYWNlT2JqZWN0W2F0dHJdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJhY2VPYmplY3RNYXNrZWQ7XG5cdFx0fTtcblxuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdC8vIFB1YmxpYyBQcm9ncmFtbWluZyBpbnRlcmZhY2UuXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0XHQvKipcblx0ICogVGhlIEphdmFTY3JpcHQgYXBwbGljYXRpb24gY29tbXVuaWNhdGVzIHRvIHRoZSBzZXJ2ZXIgdXNpbmcgYSB7QGxpbmsgUGFoby5DbGllbnR9IG9iamVjdC5cblx0ICogPHA+XG5cdCAqIE1vc3QgYXBwbGljYXRpb25zIHdpbGwgY3JlYXRlIGp1c3Qgb25lIENsaWVudCBvYmplY3QgYW5kIHRoZW4gY2FsbCBpdHMgY29ubmVjdCgpIG1ldGhvZCxcblx0ICogaG93ZXZlciBhcHBsaWNhdGlvbnMgY2FuIGNyZWF0ZSBtb3JlIHRoYW4gb25lIENsaWVudCBvYmplY3QgaWYgdGhleSB3aXNoLlxuXHQgKiBJbiB0aGlzIGNhc2UgdGhlIGNvbWJpbmF0aW9uIG9mIGhvc3QsIHBvcnQgYW5kIGNsaWVudElkIGF0dHJpYnV0ZXMgbXVzdCBiZSBkaWZmZXJlbnQgZm9yIGVhY2ggQ2xpZW50IG9iamVjdC5cblx0ICogPHA+XG5cdCAqIFRoZSBzZW5kLCBzdWJzY3JpYmUgYW5kIHVuc3Vic2NyaWJlIG1ldGhvZHMgYXJlIGltcGxlbWVudGVkIGFzIGFzeW5jaHJvbm91cyBKYXZhU2NyaXB0IG1ldGhvZHNcblx0ICogKGV2ZW4gdGhvdWdoIHRoZSB1bmRlcmx5aW5nIHByb3RvY29sIGV4Y2hhbmdlIG1pZ2h0IGJlIHN5bmNocm9ub3VzIGluIG5hdHVyZSkuXG5cdCAqIFRoaXMgbWVhbnMgdGhleSBzaWduYWwgdGhlaXIgY29tcGxldGlvbiBieSBjYWxsaW5nIGJhY2sgdG8gdGhlIGFwcGxpY2F0aW9uLFxuXHQgKiB2aWEgU3VjY2VzcyBvciBGYWlsdXJlIGNhbGxiYWNrIGZ1bmN0aW9ucyBwcm92aWRlZCBieSB0aGUgYXBwbGljYXRpb24gb24gdGhlIG1ldGhvZCBpbiBxdWVzdGlvbi5cblx0ICogU3VjaCBjYWxsYmFja3MgYXJlIGNhbGxlZCBhdCBtb3N0IG9uY2UgcGVyIG1ldGhvZCBpbnZvY2F0aW9uIGFuZCBkbyBub3QgcGVyc2lzdCBiZXlvbmQgdGhlIGxpZmV0aW1lXG5cdCAqIG9mIHRoZSBzY3JpcHQgdGhhdCBtYWRlIHRoZSBpbnZvY2F0aW9uLlxuXHQgKiA8cD5cblx0ICogSW4gY29udHJhc3QgdGhlcmUgYXJlIHNvbWUgY2FsbGJhY2sgZnVuY3Rpb25zLCBtb3N0IG5vdGFibHkgPGk+b25NZXNzYWdlQXJyaXZlZDwvaT4sXG5cdCAqIHRoYXQgYXJlIGRlZmluZWQgb24gdGhlIHtAbGluayBQYWhvLkNsaWVudH0gb2JqZWN0LlxuXHQgKiBUaGVzZSBtYXkgZ2V0IGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgYW5kIGFyZW4ndCBkaXJlY3RseSByZWxhdGVkIHRvIHNwZWNpZmljIG1ldGhvZCBpbnZvY2F0aW9ucyBtYWRlIGJ5IHRoZSBjbGllbnQuXG5cdCAqXG5cdCAqIEBuYW1lIFBhaG8uQ2xpZW50XG5cdCAqXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaG9zdCAtIHRoZSBhZGRyZXNzIG9mIHRoZSBtZXNzYWdpbmcgc2VydmVyLCBhcyBhIGZ1bGx5IHF1YWxpZmllZCBXZWJTb2NrZXQgVVJJLCBhcyBhIEROUyBuYW1lIG9yIGRvdHRlZCBkZWNpbWFsIElQIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBwb3J0IC0gdGhlIHBvcnQgbnVtYmVyIHRvIGNvbm5lY3QgdG8gLSBvbmx5IHJlcXVpcmVkIGlmIGhvc3QgaXMgbm90IGEgVVJJXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gdGhlIHBhdGggb24gdGhlIGhvc3QgdG8gY29ubmVjdCB0byAtIG9ubHkgdXNlZCBpZiBob3N0IGlzIG5vdCBhIFVSSS4gRGVmYXVsdDogJy9tcXR0Jy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGNsaWVudElkIC0gdGhlIE1lc3NhZ2luZyBjbGllbnQgaWRlbnRpZmllciwgYmV0d2VlbiAxIGFuZCAyMyBjaGFyYWN0ZXJzIGluIGxlbmd0aC5cblx0ICpcblx0ICogQHByb3BlcnR5IHtzdHJpbmd9IGhvc3QgLSA8aT5yZWFkIG9ubHk8L2k+IHRoZSBzZXJ2ZXIncyBETlMgaG9zdG5hbWUgb3IgZG90dGVkIGRlY2ltYWwgSVAgYWRkcmVzcy5cblx0ICogQHByb3BlcnR5IHtudW1iZXJ9IHBvcnQgLSA8aT5yZWFkIG9ubHk8L2k+IHRoZSBzZXJ2ZXIncyBwb3J0LlxuXHQgKiBAcHJvcGVydHkge3N0cmluZ30gcGF0aCAtIDxpPnJlYWQgb25seTwvaT4gdGhlIHNlcnZlcidzIHBhdGguXG5cdCAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjbGllbnRJZCAtIDxpPnJlYWQgb25seTwvaT4gdXNlZCB3aGVuIGNvbm5lY3RpbmcgdG8gdGhlIHNlcnZlci5cblx0ICogQHByb3BlcnR5IHtmdW5jdGlvbn0gb25Db25uZWN0aW9uTG9zdCAtIGNhbGxlZCB3aGVuIGEgY29ubmVjdGlvbiBoYXMgYmVlbiBsb3N0LlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlciBhIGNvbm5lY3QoKSBtZXRob2QgaGFzIHN1Y2NlZWRlZC5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgRXN0YWJsaXNoIHRoZSBjYWxsIGJhY2sgdXNlZCB3aGVuIGEgY29ubmVjdGlvbiBoYXMgYmVlbiBsb3N0LiBUaGUgY29ubmVjdGlvbiBtYXkgYmVcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9zdCBiZWNhdXNlIHRoZSBjbGllbnQgaW5pdGlhdGVzIGEgZGlzY29ubmVjdCBvciBiZWNhdXNlIHRoZSBzZXJ2ZXIgb3IgbmV0d29ya1xuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXVzZSB0aGUgY2xpZW50IHRvIGJlIGRpc2Nvbm5lY3RlZC4gVGhlIGRpc2Nvbm5lY3QgY2FsbCBiYWNrIG1heSBiZSBjYWxsZWQgd2l0aG91dFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgY29ubmVjdGlvbkNvbXBsZXRlIGNhbGwgYmFjayBiZWluZyBpbnZva2VkIGlmLCBmb3IgZXhhbXBsZSB0aGUgY2xpZW50IGZhaWxzIHRvXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3QuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEgc2luZ2xlIHJlc3BvbnNlIG9iamVjdCBwYXJhbWV0ZXIgaXMgcGFzc2VkIHRvIHRoZSBvbkNvbm5lY3Rpb25Mb3N0IGNhbGxiYWNrIGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBmaWVsZHM6XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmVycm9yQ29kZVxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+ZXJyb3JNZXNzYWdlXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdCAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IG9uTWVzc2FnZURlbGl2ZXJlZCAtIGNhbGxlZCB3aGVuIGEgbWVzc2FnZSBoYXMgYmVlbiBkZWxpdmVyZWQuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbCBwcm9jZXNzaW5nIHRoYXQgdGhpcyBDbGllbnQgd2lsbCBldmVyIGRvIGhhcyBiZWVuIGNvbXBsZXRlZC4gU28sIGZvciBleGFtcGxlLFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgY2FzZSBvZiBhIFFvcz0yIG1lc3NhZ2Ugc2VudCBieSB0aGlzIGNsaWVudCwgdGhlIFB1YkNvbXAgZmxvdyBoYXMgYmVlbiByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXJcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIHRoZSBtZXNzYWdlIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSBwZXJzaXN0ZW50IHN0b3JhZ2UgYmVmb3JlIHRoaXMgY2FsbGJhY2sgaXMgaW52b2tlZC5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYW1ldGVycyBwYXNzZWQgdG8gdGhlIG9uTWVzc2FnZURlbGl2ZXJlZCBjYWxsYmFjayBhcmU6XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPntAbGluayBQYWhvLk1lc3NhZ2V9IHRoYXQgd2FzIGRlbGl2ZXJlZC5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vbD5cblx0ICogQHByb3BlcnR5IHtmdW5jdGlvbn0gb25NZXNzYWdlQXJyaXZlZCAtIGNhbGxlZCB3aGVuIGEgbWVzc2FnZSBoYXMgYXJyaXZlZCBpbiB0aGlzIFBhaG8uY2xpZW50LlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhbWV0ZXJzIHBhc3NlZCB0byB0aGUgb25NZXNzYWdlQXJyaXZlZCBjYWxsYmFjayBhcmU6XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPntAbGluayBQYWhvLk1lc3NhZ2V9IHRoYXQgaGFzIGFycml2ZWQuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdCAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IG9uQ29ubmVjdGVkIC0gY2FsbGVkIHdoZW4gYSBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWxseSBtYWRlIHRvIHRoZSBzZXJ2ZXIuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyIGEgY29ubmVjdCgpIG1ldGhvZC5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYW1ldGVycyBwYXNzZWQgdG8gdGhlIG9uQ29ubmVjdGVkIGNhbGxiYWNrIGFyZTpcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9sPlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+cmVjb25uZWN0IChib29sZWFuKSAtIElmIHRydWUsIHRoZSBjb25uZWN0aW9uIHdhcyB0aGUgcmVzdWx0IG9mIGEgcmVjb25uZWN0LjwvbGk+XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5VUkkgKHN0cmluZykgLSBUaGUgVVJJIHVzZWQgdG8gY29ubmVjdCB0byB0aGUgc2VydmVyLjwvbGk+XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdCAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZGlzY29ubmVjdGVkUHVibGlzaGluZyAtIGlmIHNldCwgd2lsbCBlbmFibGUgZGlzY29ubmVjdGVkIHB1Ymxpc2hpbmcgaW5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSBldmVudCB0aGF0IHRoZSBjb25uZWN0aW9uIHRvIHRoZSBzZXJ2ZXIgaXMgbG9zdC5cblx0ICogQHByb3BlcnR5IHtudW1iZXJ9IGRpc2Nvbm5lY3RlZEJ1ZmZlclNpemUgLSBVc2VkIHRvIHNldCB0aGUgbWF4aW11bSBudW1iZXIgb2YgbWVzc2FnZXMgdGhhdCB0aGUgZGlzY29ubmVjdGVkXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyIHdpbGwgaG9sZCBiZWZvcmUgcmVqZWN0aW5nIG5ldyBtZXNzYWdlcy4gRGVmYXVsdCBzaXplOiA1MDAwIG1lc3NhZ2VzXG5cdCAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IHRyYWNlIC0gY2FsbGVkIHdoZW5ldmVyIHRyYWNlIGlzIGNhbGxlZC4gVE9ET1xuXHQgKi9cblx0XHR2YXIgQ2xpZW50ID0gZnVuY3Rpb24gKGhvc3QsIHBvcnQsIHBhdGgsIGNsaWVudElkKSB7XG5cblx0XHRcdHZhciB1cmk7XG5cblx0XHRcdGlmICh0eXBlb2YgaG9zdCAhPT0gXCJzdHJpbmdcIilcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgaG9zdCwgXCJob3N0XCJdKSk7XG5cblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID09IDIpIHtcblx0XHRcdC8vIGhvc3Q6IG11c3QgYmUgZnVsbCB3czovLyB1cmlcblx0XHRcdC8vIHBvcnQ6IGNsaWVudElkXG5cdFx0XHRcdGNsaWVudElkID0gcG9ydDtcblx0XHRcdFx0dXJpID0gaG9zdDtcblx0XHRcdFx0dmFyIG1hdGNoID0gdXJpLm1hdGNoKC9eKHdzcz8pOlxcL1xcLygoXFxbKC4rKVxcXSl8KFteXFwvXSs/KSkoOihcXGQrKSk/KFxcLy4qKSQvKTtcblx0XHRcdFx0aWYgKG1hdGNoKSB7XG5cdFx0XHRcdFx0aG9zdCA9IG1hdGNoWzRdfHxtYXRjaFsyXTtcblx0XHRcdFx0XHRwb3J0ID0gcGFyc2VJbnQobWF0Y2hbN10pO1xuXHRcdFx0XHRcdHBhdGggPSBtYXRjaFs4XTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsW2hvc3QsXCJob3N0XCJdKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID09IDMpIHtcblx0XHRcdFx0XHRjbGllbnRJZCA9IHBhdGg7XG5cdFx0XHRcdFx0cGF0aCA9IFwiL21xdHRcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodHlwZW9mIHBvcnQgIT09IFwibnVtYmVyXCIgfHwgcG9ydCA8IDApXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgcG9ydCwgXCJwb3J0XCJdKSk7XG5cdFx0XHRcdGlmICh0eXBlb2YgcGF0aCAhPT0gXCJzdHJpbmdcIilcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfVFlQRSwgW3R5cGVvZiBwYXRoLCBcInBhdGhcIl0pKTtcblxuXHRcdFx0XHR2YXIgaXB2NkFkZFNCcmFja2V0ID0gKGhvc3QuaW5kZXhPZihcIjpcIikgIT09IC0xICYmIGhvc3Quc2xpY2UoMCwxKSAhPT0gXCJbXCIgJiYgaG9zdC5zbGljZSgtMSkgIT09IFwiXVwiKTtcblx0XHRcdFx0dXJpID0gXCJ3czovL1wiKyhpcHY2QWRkU0JyYWNrZXQ/XCJbXCIraG9zdCtcIl1cIjpob3N0KStcIjpcIitwb3J0K3BhdGg7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBjbGllbnRJZExlbmd0aCA9IDA7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaTxjbGllbnRJZC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgY2hhckNvZGUgPSBjbGllbnRJZC5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0XHRpZiAoMHhEODAwIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IDB4REJGRikgIHtcblx0XHRcdFx0XHRpKys7IC8vIFN1cnJvZ2F0ZSBwYWlyLlxuXHRcdFx0XHR9XG5cdFx0XHRcdGNsaWVudElkTGVuZ3RoKys7XG5cdFx0XHR9XG5cdFx0XHRpZiAodHlwZW9mIGNsaWVudElkICE9PSBcInN0cmluZ1wiIHx8IGNsaWVudElkTGVuZ3RoID4gNjU1MzUpXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2NsaWVudElkLCBcImNsaWVudElkXCJdKSk7XG5cblx0XHRcdHZhciBjbGllbnQgPSBuZXcgQ2xpZW50SW1wbCh1cmksIGhvc3QsIHBvcnQsIHBhdGgsIGNsaWVudElkKTtcblxuXHRcdFx0Ly9QdWJsaWMgUHJvcGVydGllc1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7XG5cdFx0XHRcdFwiaG9zdFwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG9zdDsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLlVOU1VQUE9SVEVEX09QRVJBVElPTikpOyB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwicG9ydFwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcG9ydDsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLlVOU1VQUE9SVEVEX09QRVJBVElPTikpOyB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwicGF0aFwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcGF0aDsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLlVOU1VQUE9SVEVEX09QRVJBVElPTikpOyB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwidXJpXCI6e1xuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB1cmk7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5VTlNVUFBPUlRFRF9PUEVSQVRJT04pKTsgfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImNsaWVudElkXCI6e1xuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjbGllbnQuY2xpZW50SWQ7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5VTlNVUFBPUlRFRF9PUEVSQVRJT04pKTsgfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcIm9uQ29ubmVjdGVkXCI6e1xuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjbGllbnQub25Db25uZWN0ZWQ7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdPbkNvbm5lY3RlZCkge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBuZXdPbkNvbm5lY3RlZCA9PT0gXCJmdW5jdGlvblwiKVxuXHRcdFx0XHRcdFx0XHRjbGllbnQub25Db25uZWN0ZWQgPSBuZXdPbkNvbm5lY3RlZDtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgbmV3T25Db25uZWN0ZWQsIFwib25Db25uZWN0ZWRcIl0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiZGlzY29ubmVjdGVkUHVibGlzaGluZ1wiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2xpZW50LmRpc2Nvbm5lY3RlZFB1Ymxpc2hpbmc7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdEaXNjb25uZWN0ZWRQdWJsaXNoaW5nKSB7XG5cdFx0XHRcdFx0XHRjbGllbnQuZGlzY29ubmVjdGVkUHVibGlzaGluZyA9IG5ld0Rpc2Nvbm5lY3RlZFB1Ymxpc2hpbmc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImRpc2Nvbm5lY3RlZEJ1ZmZlclNpemVcIjp7XG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNsaWVudC5kaXNjb25uZWN0ZWRCdWZmZXJTaXplOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24obmV3RGlzY29ubmVjdGVkQnVmZmVyU2l6ZSkge1xuXHRcdFx0XHRcdFx0Y2xpZW50LmRpc2Nvbm5lY3RlZEJ1ZmZlclNpemUgPSBuZXdEaXNjb25uZWN0ZWRCdWZmZXJTaXplO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJvbkNvbm5lY3Rpb25Mb3N0XCI6e1xuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjbGllbnQub25Db25uZWN0aW9uTG9zdDsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKG5ld09uQ29ubmVjdGlvbkxvc3QpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbmV3T25Db25uZWN0aW9uTG9zdCA9PT0gXCJmdW5jdGlvblwiKVxuXHRcdFx0XHRcdFx0XHRjbGllbnQub25Db25uZWN0aW9uTG9zdCA9IG5ld09uQ29ubmVjdGlvbkxvc3Q7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9UWVBFLCBbdHlwZW9mIG5ld09uQ29ubmVjdGlvbkxvc3QsIFwib25Db25uZWN0aW9uTG9zdFwiXSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJvbk1lc3NhZ2VEZWxpdmVyZWRcIjp7XG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNsaWVudC5vbk1lc3NhZ2VEZWxpdmVyZWQ7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdPbk1lc3NhZ2VEZWxpdmVyZWQpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbmV3T25NZXNzYWdlRGVsaXZlcmVkID09PSBcImZ1bmN0aW9uXCIpXG5cdFx0XHRcdFx0XHRcdGNsaWVudC5vbk1lc3NhZ2VEZWxpdmVyZWQgPSBuZXdPbk1lc3NhZ2VEZWxpdmVyZWQ7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9UWVBFLCBbdHlwZW9mIG5ld09uTWVzc2FnZURlbGl2ZXJlZCwgXCJvbk1lc3NhZ2VEZWxpdmVyZWRcIl0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwib25NZXNzYWdlQXJyaXZlZFwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2xpZW50Lm9uTWVzc2FnZUFycml2ZWQ7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdPbk1lc3NhZ2VBcnJpdmVkKSB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld09uTWVzc2FnZUFycml2ZWQgPT09IFwiZnVuY3Rpb25cIilcblx0XHRcdFx0XHRcdFx0Y2xpZW50Lm9uTWVzc2FnZUFycml2ZWQgPSBuZXdPbk1lc3NhZ2VBcnJpdmVkO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfVFlQRSwgW3R5cGVvZiBuZXdPbk1lc3NhZ2VBcnJpdmVkLCBcIm9uTWVzc2FnZUFycml2ZWRcIl0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwidHJhY2VcIjp7XG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNsaWVudC50cmFjZUZ1bmN0aW9uOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24odHJhY2UpIHtcblx0XHRcdFx0XHRcdGlmKHR5cGVvZiB0cmFjZSA9PT0gXCJmdW5jdGlvblwiKXtcblx0XHRcdFx0XHRcdFx0Y2xpZW50LnRyYWNlRnVuY3Rpb24gPSB0cmFjZTtcblx0XHRcdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfVFlQRSwgW3R5cGVvZiB0cmFjZSwgXCJvblRyYWNlXCJdKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cblx0XHRcdC8qKlxuXHRcdCAqIENvbm5lY3QgdGhpcyBNZXNzYWdpbmcgY2xpZW50IHRvIGl0cyBzZXJ2ZXIuXG5cdFx0ICpcblx0XHQgKiBAbmFtZSBQYWhvLkNsaWVudCNjb25uZWN0XG5cdFx0ICogQGZ1bmN0aW9uXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGNvbm5lY3RPcHRpb25zIC0gQXR0cmlidXRlcyB1c2VkIHdpdGggdGhlIGNvbm5lY3Rpb24uXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IGNvbm5lY3RPcHRpb25zLnRpbWVvdXQgLSBJZiB0aGUgY29ubmVjdCBoYXMgbm90IHN1Y2NlZWRlZCB3aXRoaW4gdGhpc1xuXHRcdCAqICAgICAgICAgICAgICAgICAgICBudW1iZXIgb2Ygc2Vjb25kcywgaXQgaXMgZGVlbWVkIHRvIGhhdmUgZmFpbGVkLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICBUaGUgZGVmYXVsdCBpcyAzMCBzZWNvbmRzLlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0T3B0aW9ucy51c2VyTmFtZSAtIEF1dGhlbnRpY2F0aW9uIHVzZXJuYW1lIGZvciB0aGlzIGNvbm5lY3Rpb24uXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RPcHRpb25zLnBhc3N3b3JkIC0gQXV0aGVudGljYXRpb24gcGFzc3dvcmQgZm9yIHRoaXMgY29ubmVjdGlvbi5cblx0XHQgKiBAcGFyYW0ge1BhaG8uTWVzc2FnZX0gY29ubmVjdE9wdGlvbnMud2lsbE1lc3NhZ2UgLSBzZW50IGJ5IHRoZSBzZXJ2ZXIgd2hlbiB0aGUgY2xpZW50XG5cdFx0ICogICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3RzIGFibm9ybWFsbHkuXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IGNvbm5lY3RPcHRpb25zLmtlZXBBbGl2ZUludGVydmFsIC0gdGhlIHNlcnZlciBkaXNjb25uZWN0cyB0aGlzIGNsaWVudCBpZlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICB0aGVyZSBpcyBubyBhY3Rpdml0eSBmb3IgdGhpcyBudW1iZXIgb2Ygc2Vjb25kcy5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgVGhlIGRlZmF1bHQgdmFsdWUgb2YgNjAgc2Vjb25kcyBpcyBhc3N1bWVkIGlmIG5vdCBzZXQuXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBjb25uZWN0T3B0aW9ucy5jbGVhblNlc3Npb24gLSBpZiB0cnVlKGRlZmF1bHQpIHRoZSBjbGllbnQgYW5kIHNlcnZlclxuXHRcdCAqICAgICAgICAgICAgICAgICAgICBwZXJzaXN0ZW50IHN0YXRlIGlzIGRlbGV0ZWQgb24gc3VjY2Vzc2Z1bCBjb25uZWN0LlxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gY29ubmVjdE9wdGlvbnMudXNlU1NMIC0gaWYgcHJlc2VudCBhbmQgdHJ1ZSwgdXNlIGFuIFNTTCBXZWJzb2NrZXQgY29ubmVjdGlvbi5cblx0XHQgKiBAcGFyYW0ge29iamVjdH0gY29ubmVjdE9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHQgLSBwYXNzZWQgdG8gdGhlIG9uU3VjY2VzcyBjYWxsYmFjayBvciBvbkZhaWx1cmUgY2FsbGJhY2suXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY29ubmVjdE9wdGlvbnMub25TdWNjZXNzIC0gY2FsbGVkIHdoZW4gdGhlIGNvbm5lY3QgYWNrbm93bGVkZ2VtZW50XG5cdFx0ICogICAgICAgICAgICAgICAgICAgIGhhcyBiZWVuIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cblx0XHQgKiBBIHNpbmdsZSByZXNwb25zZSBvYmplY3QgcGFyYW1ldGVyIGlzIHBhc3NlZCB0byB0aGUgb25TdWNjZXNzIGNhbGxiYWNrIGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBmaWVsZHM6XG5cdFx0ICogPG9sPlxuXHRcdCAqIDxsaT5pbnZvY2F0aW9uQ29udGV4dCBhcyBwYXNzZWQgaW4gdG8gdGhlIG9uU3VjY2VzcyBtZXRob2QgaW4gdGhlIGNvbm5lY3RPcHRpb25zLlxuXHRcdCAqIDwvb2w+XG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbm5lY3RPcHRpb25zLm9uRmFpbHVyZSAtIGNhbGxlZCB3aGVuIHRoZSBjb25uZWN0IHJlcXVlc3QgaGFzIGZhaWxlZCBvciB0aW1lZCBvdXQuXG5cdFx0ICogQSBzaW5nbGUgcmVzcG9uc2Ugb2JqZWN0IHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlIG9uRmFpbHVyZSBjYWxsYmFjayBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuXHRcdCAqIDxvbD5cblx0XHQgKiA8bGk+aW52b2NhdGlvbkNvbnRleHQgYXMgcGFzc2VkIGluIHRvIHRoZSBvbkZhaWx1cmUgbWV0aG9kIGluIHRoZSBjb25uZWN0T3B0aW9ucy5cblx0XHQgKiA8bGk+ZXJyb3JDb2RlIGEgbnVtYmVyIGluZGljYXRpbmcgdGhlIG5hdHVyZSBvZiB0aGUgZXJyb3IuXG5cdFx0ICogPGxpPmVycm9yTWVzc2FnZSB0ZXh0IGRlc2NyaWJpbmcgdGhlIGVycm9yLlxuXHRcdCAqIDwvb2w+XG5cdCAqIEBwYXJhbSB7YXJyYXl9IGNvbm5lY3RPcHRpb25zLmhvc3RzIC0gSWYgcHJlc2VudCB0aGlzIGNvbnRhaW5zIGVpdGhlciBhIHNldCBvZiBob3N0bmFtZXMgb3IgZnVsbHkgcXVhbGlmaWVkXG5cdFx0ICogV2ViU29ja2V0IFVSSXMgKHdzOi8vaW90LmVjbGlwc2Uub3JnOjgwL3dzKSwgdGhhdCBhcmUgdHJpZWQgaW4gb3JkZXIgaW4gcGxhY2Vcblx0XHQgKiBvZiB0aGUgaG9zdCBhbmQgcG9ydCBwYXJhbWF0ZXIgb24gdGhlIGNvbnN0cnV0b3IuIFRoZSBob3N0cyBhcmUgdHJpZWQgb25lIGF0IGF0IHRpbWUgaW4gb3JkZXIgdW50aWxcblx0XHQgKiBvbmUgb2YgdGhlbiBzdWNjZWVkcy5cblx0ICogQHBhcmFtIHthcnJheX0gY29ubmVjdE9wdGlvbnMucG9ydHMgLSBJZiBwcmVzZW50IHRoZSBzZXQgb2YgcG9ydHMgbWF0Y2hpbmcgdGhlIGhvc3RzLiBJZiBob3N0cyBjb250YWlucyBVUklzLCB0aGlzIHByb3BlcnR5XG5cdFx0ICogaXMgbm90IHVzZWQuXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gY29ubmVjdE9wdGlvbnMucmVjb25uZWN0IC0gU2V0cyB3aGV0aGVyIHRoZSBjbGllbnQgd2lsbCBhdXRvbWF0aWNhbGx5IGF0dGVtcHQgdG8gcmVjb25uZWN0XG5cdCAqIHRvIHRoZSBzZXJ2ZXIgaWYgdGhlIGNvbm5lY3Rpb24gaXMgbG9zdC5cblx0ICo8dWw+XG5cdCAqPGxpPklmIHNldCB0byBmYWxzZSwgdGhlIGNsaWVudCB3aWxsIG5vdCBhdHRlbXB0IHRvIGF1dG9tYXRpY2FsbHkgcmVjb25uZWN0IHRvIHRoZSBzZXJ2ZXIgaW4gdGhlIGV2ZW50IHRoYXQgdGhlXG5cdCAqIGNvbm5lY3Rpb24gaXMgbG9zdC48L2xpPlxuXHQgKjxsaT5JZiBzZXQgdG8gdHJ1ZSwgaW4gdGhlIGV2ZW50IHRoYXQgdGhlIGNvbm5lY3Rpb24gaXMgbG9zdCwgdGhlIGNsaWVudCB3aWxsIGF0dGVtcHQgdG8gcmVjb25uZWN0IHRvIHRoZSBzZXJ2ZXIuXG5cdCAqIEl0IHdpbGwgaW5pdGlhbGx5IHdhaXQgMSBzZWNvbmQgYmVmb3JlIGl0IGF0dGVtcHRzIHRvIHJlY29ubmVjdCwgZm9yIGV2ZXJ5IGZhaWxlZCByZWNvbm5lY3QgYXR0ZW1wdCwgdGhlIGRlbGF5XG5cdCAqIHdpbGwgZG91YmxlIHVudGlsIGl0IGlzIGF0IDIgbWludXRlcyBhdCB3aGljaCBwb2ludCB0aGUgZGVsYXkgd2lsbCBzdGF5IGF0IDIgbWludXRlcy48L2xpPlxuXHQgKjwvdWw+XG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBjb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbiAtIFRoZSB2ZXJzaW9uIG9mIE1RVFQgdG8gdXNlIHRvIGNvbm5lY3QgdG8gdGhlIE1RVFQgQnJva2VyLlxuXHQgKjx1bD5cblx0ICo8bGk+MyAtIE1RVFQgVjMuMTwvbGk+XG5cdCAqPGxpPjQgLSBNUVRUIFYzLjEuMTwvbGk+XG5cdCAqPC91bD5cblx0ICogQHBhcmFtIHtib29sZWFufSBjb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbkV4cGxpY2l0IC0gSWYgc2V0IHRvIHRydWUsIHdpbGwgZm9yY2UgdGhlIGNvbm5lY3Rpb24gdG8gdXNlIHRoZVxuXHQgKiBzZWxlY3RlZCBNUVRUIFZlcnNpb24gb3Igd2lsbCBmYWlsIHRvIGNvbm5lY3QuXG5cdCAqIEBwYXJhbSB7YXJyYXl9IGNvbm5lY3RPcHRpb25zLnVyaXMgLSBJZiBwcmVzZW50LCBzaG91bGQgY29udGFpbiBhIGxpc3Qgb2YgZnVsbHkgcXVhbGlmaWVkIFdlYlNvY2tldCB1cmlzXG5cdCAqIChlLmcuIHdzOi8vaW90LmVjbGlwc2Uub3JnOjgwL3dzKSwgdGhhdCBhcmUgdHJpZWQgaW4gb3JkZXIgaW4gcGxhY2Ugb2YgdGhlIGhvc3QgYW5kIHBvcnQgcGFyYW1ldGVyIG9mIHRoZSBjb25zdHJ1dG9yLlxuXHQgKiBUaGUgdXJpcyBhcmUgdHJpZWQgb25lIGF0IGEgdGltZSBpbiBvcmRlciB1bnRpbCBvbmUgb2YgdGhlbSBzdWNjZWVkcy4gRG8gbm90IHVzZSB0aGlzIGluIGNvbmp1bmN0aW9uIHdpdGggaG9zdHMgYXNcblx0ICogdGhlIGhvc3RzIGFycmF5IHdpbGwgYmUgY29udmVydGVkIHRvIHVyaXMgYW5kIHdpbGwgb3ZlcndyaXRlIHRoaXMgcHJvcGVydHkuXG5cdFx0ICogQHRocm93cyB7SW52YWxpZFN0YXRlfSBJZiB0aGUgY2xpZW50IGlzIG5vdCBpbiBkaXNjb25uZWN0ZWQgc3RhdGUuIFRoZSBjbGllbnQgbXVzdCBoYXZlIHJlY2VpdmVkIGNvbm5lY3Rpb25Mb3N0XG5cdFx0ICogb3IgZGlzY29ubmVjdGVkIGJlZm9yZSBjYWxsaW5nIGNvbm5lY3QgZm9yIGEgc2Vjb25kIG9yIHN1YnNlcXVlbnQgdGltZS5cblx0XHQgKi9cblx0XHRcdHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChjb25uZWN0T3B0aW9ucykge1xuXHRcdFx0XHRjb25uZWN0T3B0aW9ucyA9IGNvbm5lY3RPcHRpb25zIHx8IHt9IDtcblx0XHRcdFx0dmFsaWRhdGUoY29ubmVjdE9wdGlvbnMsICB7dGltZW91dDpcIm51bWJlclwiLFxuXHRcdFx0XHRcdHVzZXJOYW1lOlwic3RyaW5nXCIsXG5cdFx0XHRcdFx0cGFzc3dvcmQ6XCJzdHJpbmdcIixcblx0XHRcdFx0XHR3aWxsTWVzc2FnZTpcIm9iamVjdFwiLFxuXHRcdFx0XHRcdGtlZXBBbGl2ZUludGVydmFsOlwibnVtYmVyXCIsXG5cdFx0XHRcdFx0Y2xlYW5TZXNzaW9uOlwiYm9vbGVhblwiLFxuXHRcdFx0XHRcdHVzZVNTTDpcImJvb2xlYW5cIixcblx0XHRcdFx0XHRpbnZvY2F0aW9uQ29udGV4dDpcIm9iamVjdFwiLFxuXHRcdFx0XHRcdG9uU3VjY2VzczpcImZ1bmN0aW9uXCIsXG5cdFx0XHRcdFx0b25GYWlsdXJlOlwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHRob3N0czpcIm9iamVjdFwiLFxuXHRcdFx0XHRcdHBvcnRzOlwib2JqZWN0XCIsXG5cdFx0XHRcdFx0cmVjb25uZWN0OlwiYm9vbGVhblwiLFxuXHRcdFx0XHRcdG1xdHRWZXJzaW9uOlwibnVtYmVyXCIsXG5cdFx0XHRcdFx0bXF0dFZlcnNpb25FeHBsaWNpdDpcImJvb2xlYW5cIixcblx0XHRcdFx0XHR1cmlzOiBcIm9iamVjdFwifSk7XG5cblx0XHRcdFx0Ly8gSWYgbm8ga2VlcCBhbGl2ZSBpbnRlcnZhbCBpcyBzZXQsIGFzc3VtZSA2MCBzZWNvbmRzLlxuXHRcdFx0XHRpZiAoY29ubmVjdE9wdGlvbnMua2VlcEFsaXZlSW50ZXJ2YWwgPT09IHVuZGVmaW5lZClcblx0XHRcdFx0XHRjb25uZWN0T3B0aW9ucy5rZWVwQWxpdmVJbnRlcnZhbCA9IDYwO1xuXG5cdFx0XHRcdGlmIChjb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbiA+IDQgfHwgY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb24gPCAzKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULCBbY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb24sIFwiY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb25cIl0pKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb25FeHBsaWNpdCA9IGZhbHNlO1xuXHRcdFx0XHRcdGNvbm5lY3RPcHRpb25zLm1xdHRWZXJzaW9uID0gNDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbkV4cGxpY2l0ID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vQ2hlY2sgdGhhdCBpZiBwYXNzd29yZCBpcyBzZXQsIHNvIGlzIHVzZXJuYW1lXG5cdFx0XHRcdGlmIChjb25uZWN0T3B0aW9ucy5wYXNzd29yZCAhPT0gdW5kZWZpbmVkICYmIGNvbm5lY3RPcHRpb25zLnVzZXJOYW1lID09PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULCBbY29ubmVjdE9wdGlvbnMucGFzc3dvcmQsIFwiY29ubmVjdE9wdGlvbnMucGFzc3dvcmRcIl0pKTtcblxuXHRcdFx0XHRpZiAoY29ubmVjdE9wdGlvbnMud2lsbE1lc3NhZ2UpIHtcblx0XHRcdFx0XHRpZiAoIShjb25uZWN0T3B0aW9ucy53aWxsTWVzc2FnZSBpbnN0YW5jZW9mIE1lc3NhZ2UpKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFtjb25uZWN0T3B0aW9ucy53aWxsTWVzc2FnZSwgXCJjb25uZWN0T3B0aW9ucy53aWxsTWVzc2FnZVwiXSkpO1xuXHRcdFx0XHRcdC8vIFRoZSB3aWxsIG1lc3NhZ2UgbXVzdCBoYXZlIGEgcGF5bG9hZCB0aGF0IGNhbiBiZSByZXByZXNlbnRlZCBhcyBhIHN0cmluZy5cblx0XHRcdFx0XHQvLyBDYXVzZSB0aGUgd2lsbE1lc3NhZ2UgdG8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIHRoaXMgaXMgbm90IHRoZSBjYXNlLlxuXHRcdFx0XHRcdGNvbm5lY3RPcHRpb25zLndpbGxNZXNzYWdlLnN0cmluZ1BheWxvYWQgPSBudWxsO1xuXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBjb25uZWN0T3B0aW9ucy53aWxsTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPT09IFwidW5kZWZpbmVkXCIpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfVFlQRSwgW3R5cGVvZiBjb25uZWN0T3B0aW9ucy53aWxsTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUsIFwiY29ubmVjdE9wdGlvbnMud2lsbE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lXCJdKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHR5cGVvZiBjb25uZWN0T3B0aW9ucy5jbGVhblNlc3Npb24gPT09IFwidW5kZWZpbmVkXCIpXG5cdFx0XHRcdFx0Y29ubmVjdE9wdGlvbnMuY2xlYW5TZXNzaW9uID0gdHJ1ZTtcblx0XHRcdFx0aWYgKGNvbm5lY3RPcHRpb25zLmhvc3RzKSB7XG5cblx0XHRcdFx0XHRpZiAoIShjb25uZWN0T3B0aW9ucy5ob3N0cyBpbnN0YW5jZW9mIEFycmF5KSApXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtjb25uZWN0T3B0aW9ucy5ob3N0cywgXCJjb25uZWN0T3B0aW9ucy5ob3N0c1wiXSkpO1xuXHRcdFx0XHRcdGlmIChjb25uZWN0T3B0aW9ucy5ob3N0cy5sZW5ndGggPDEgKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULCBbY29ubmVjdE9wdGlvbnMuaG9zdHMsIFwiY29ubmVjdE9wdGlvbnMuaG9zdHNcIl0pKTtcblxuXHRcdFx0XHRcdHZhciB1c2luZ1VSSXMgPSBmYWxzZTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaTxjb25uZWN0T3B0aW9ucy5ob3N0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBjb25uZWN0T3B0aW9ucy5ob3N0c1tpXSAhPT0gXCJzdHJpbmdcIilcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgY29ubmVjdE9wdGlvbnMuaG9zdHNbaV0sIFwiY29ubmVjdE9wdGlvbnMuaG9zdHNbXCIraStcIl1cIl0pKTtcblx0XHRcdFx0XHRcdGlmICgvXih3c3M/KTpcXC9cXC8oKFxcWyguKylcXF0pfChbXlxcL10rPykpKDooXFxkKykpPyhcXC8uKikkLy50ZXN0KGNvbm5lY3RPcHRpb25zLmhvc3RzW2ldKSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoaSA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdHVzaW5nVVJJcyA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIXVzaW5nVVJJcykge1xuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLmhvc3RzW2ldLCBcImNvbm5lY3RPcHRpb25zLmhvc3RzW1wiK2krXCJdXCJdKSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodXNpbmdVUklzKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLmhvc3RzW2ldLCBcImNvbm5lY3RPcHRpb25zLmhvc3RzW1wiK2krXCJdXCJdKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCF1c2luZ1VSSXMpIHtcblx0XHRcdFx0XHRcdGlmICghY29ubmVjdE9wdGlvbnMucG9ydHMpXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLnBvcnRzLCBcImNvbm5lY3RPcHRpb25zLnBvcnRzXCJdKSk7XG5cdFx0XHRcdFx0XHRpZiAoIShjb25uZWN0T3B0aW9ucy5wb3J0cyBpbnN0YW5jZW9mIEFycmF5KSApXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLnBvcnRzLCBcImNvbm5lY3RPcHRpb25zLnBvcnRzXCJdKSk7XG5cdFx0XHRcdFx0XHRpZiAoY29ubmVjdE9wdGlvbnMuaG9zdHMubGVuZ3RoICE9PSBjb25uZWN0T3B0aW9ucy5wb3J0cy5sZW5ndGgpXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLnBvcnRzLCBcImNvbm5lY3RPcHRpb25zLnBvcnRzXCJdKSk7XG5cblx0XHRcdFx0XHRcdGNvbm5lY3RPcHRpb25zLnVyaXMgPSBbXTtcblxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGk8Y29ubmVjdE9wdGlvbnMuaG9zdHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBjb25uZWN0T3B0aW9ucy5wb3J0c1tpXSAhPT0gXCJudW1iZXJcIiB8fCBjb25uZWN0T3B0aW9ucy5wb3J0c1tpXSA8IDApXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgY29ubmVjdE9wdGlvbnMucG9ydHNbaV0sIFwiY29ubmVjdE9wdGlvbnMucG9ydHNbXCIraStcIl1cIl0pKTtcblx0XHRcdFx0XHRcdFx0dmFyIGhvc3QgPSBjb25uZWN0T3B0aW9ucy5ob3N0c1tpXTtcblx0XHRcdFx0XHRcdFx0dmFyIHBvcnQgPSBjb25uZWN0T3B0aW9ucy5wb3J0c1tpXTtcblxuXHRcdFx0XHRcdFx0XHR2YXIgaXB2NiA9IChob3N0LmluZGV4T2YoXCI6XCIpICE9PSAtMSk7XG5cdFx0XHRcdFx0XHRcdHVyaSA9IFwid3M6Ly9cIisoaXB2Nj9cIltcIitob3N0K1wiXVwiOmhvc3QpK1wiOlwiK3BvcnQrcGF0aDtcblx0XHRcdFx0XHRcdFx0Y29ubmVjdE9wdGlvbnMudXJpcy5wdXNoKHVyaSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbm5lY3RPcHRpb25zLnVyaXMgPSBjb25uZWN0T3B0aW9ucy5ob3N0cztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjbGllbnQuY29ubmVjdChjb25uZWN0T3B0aW9ucyk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHQgKiBTdWJzY3JpYmUgZm9yIG1lc3NhZ2VzLCByZXF1ZXN0IHJlY2VpcHQgb2YgYSBjb3B5IG9mIG1lc3NhZ2VzIHNlbnQgdG8gdGhlIGRlc3RpbmF0aW9ucyBkZXNjcmliZWQgYnkgdGhlIGZpbHRlci5cblx0XHQgKlxuXHRcdCAqIEBuYW1lIFBhaG8uQ2xpZW50I3N1YnNjcmliZVxuXHRcdCAqIEBmdW5jdGlvblxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXIgZGVzY3JpYmluZyB0aGUgZGVzdGluYXRpb25zIHRvIHJlY2VpdmUgbWVzc2FnZXMgZnJvbS5cblx0XHQgKiA8YnI+XG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHN1YnNjcmliZU9wdGlvbnMgLSB1c2VkIHRvIGNvbnRyb2wgdGhlIHN1YnNjcmlwdGlvblxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHN1YnNjcmliZU9wdGlvbnMucW9zIC0gdGhlIG1heGltdW0gcW9zIG9mIGFueSBwdWJsaWNhdGlvbnMgc2VudFxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzIGEgcmVzdWx0IG9mIG1ha2luZyB0aGlzIHN1YnNjcmlwdGlvbi5cblx0XHQgKiBAcGFyYW0ge29iamVjdH0gc3Vic2NyaWJlT3B0aW9ucy5pbnZvY2F0aW9uQ29udGV4dCAtIHBhc3NlZCB0byB0aGUgb25TdWNjZXNzIGNhbGxiYWNrXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Igb25GYWlsdXJlIGNhbGxiYWNrLlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1YnNjcmliZU9wdGlvbnMub25TdWNjZXNzIC0gY2FsbGVkIHdoZW4gdGhlIHN1YnNjcmliZSBhY2tub3dsZWRnZW1lbnRcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXMgYmVlbiByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQSBzaW5nbGUgcmVzcG9uc2Ugb2JqZWN0IHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlIG9uU3VjY2VzcyBjYWxsYmFjayBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+aW52b2NhdGlvbkNvbnRleHQgaWYgc2V0IGluIHRoZSBzdWJzY3JpYmVPcHRpb25zLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gc3Vic2NyaWJlT3B0aW9ucy5vbkZhaWx1cmUgLSBjYWxsZWQgd2hlbiB0aGUgc3Vic2NyaWJlIHJlcXVlc3QgaGFzIGZhaWxlZCBvciB0aW1lZCBvdXQuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQSBzaW5nbGUgcmVzcG9uc2Ugb2JqZWN0IHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlIG9uRmFpbHVyZSBjYWxsYmFjayBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+aW52b2NhdGlvbkNvbnRleHQgLSBpZiBzZXQgaW4gdGhlIHN1YnNjcmliZU9wdGlvbnMuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmVycm9yQ29kZSAtIGEgbnVtYmVyIGluZGljYXRpbmcgdGhlIG5hdHVyZSBvZiB0aGUgZXJyb3IuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmVycm9yTWVzc2FnZSAtIHRleHQgZGVzY3JpYmluZyB0aGUgZXJyb3IuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vbD5cblx0XHQgKiBAcGFyYW0ge251bWJlcn0gc3Vic2NyaWJlT3B0aW9ucy50aW1lb3V0IC0gd2hpY2gsIGlmIHByZXNlbnQsIGRldGVybWluZXMgdGhlIG51bWJlciBvZlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgYWZ0ZXIgd2hpY2ggdGhlIG9uRmFpbHVyZSBjYWxiYWNrIGlzIGNhbGxlZC5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgcHJlc2VuY2Ugb2YgYSB0aW1lb3V0IGRvZXMgbm90IHByZXZlbnQgdGhlIG9uU3VjY2Vzc1xuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrIGZyb20gYmVpbmcgY2FsbGVkIHdoZW4gdGhlIHN1YnNjcmliZSBjb21wbGV0ZXMuXG5cdFx0ICogQHRocm93cyB7SW52YWxpZFN0YXRlfSBpZiB0aGUgY2xpZW50IGlzIG5vdCBpbiBjb25uZWN0ZWQgc3RhdGUuXG5cdFx0ICovXG5cdFx0XHR0aGlzLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIHN1YnNjcmliZU9wdGlvbnMpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBmaWx0ZXIgIT09IFwic3RyaW5nXCIgJiYgZmlsdGVyLmNvbnN0cnVjdG9yICE9PSBBcnJheSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50OlwiK2ZpbHRlcik7XG5cdFx0XHRcdHN1YnNjcmliZU9wdGlvbnMgPSBzdWJzY3JpYmVPcHRpb25zIHx8IHt9IDtcblx0XHRcdFx0dmFsaWRhdGUoc3Vic2NyaWJlT3B0aW9ucywgIHtxb3M6XCJudW1iZXJcIixcblx0XHRcdFx0XHRpbnZvY2F0aW9uQ29udGV4dDpcIm9iamVjdFwiLFxuXHRcdFx0XHRcdG9uU3VjY2VzczpcImZ1bmN0aW9uXCIsXG5cdFx0XHRcdFx0b25GYWlsdXJlOlwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHR0aW1lb3V0OlwibnVtYmVyXCJcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChzdWJzY3JpYmVPcHRpb25zLnRpbWVvdXQgJiYgIXN1YnNjcmliZU9wdGlvbnMub25GYWlsdXJlKVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcInN1YnNjcmliZU9wdGlvbnMudGltZW91dCBzcGVjaWZpZWQgd2l0aCBubyBvbkZhaWx1cmUgY2FsbGJhY2suXCIpO1xuXHRcdFx0XHRpZiAodHlwZW9mIHN1YnNjcmliZU9wdGlvbnMucW9zICE9PSBcInVuZGVmaW5lZFwiICYmICEoc3Vic2NyaWJlT3B0aW9ucy5xb3MgPT09IDAgfHwgc3Vic2NyaWJlT3B0aW9ucy5xb3MgPT09IDEgfHwgc3Vic2NyaWJlT3B0aW9ucy5xb3MgPT09IDIgKSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtzdWJzY3JpYmVPcHRpb25zLnFvcywgXCJzdWJzY3JpYmVPcHRpb25zLnFvc1wiXSkpO1xuXHRcdFx0XHRjbGllbnQuc3Vic2NyaWJlKGZpbHRlciwgc3Vic2NyaWJlT3B0aW9ucyk7XG5cdFx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogVW5zdWJzY3JpYmUgZm9yIG1lc3NhZ2VzLCBzdG9wIHJlY2VpdmluZyBtZXNzYWdlcyBzZW50IHRvIGRlc3RpbmF0aW9ucyBkZXNjcmliZWQgYnkgdGhlIGZpbHRlci5cblx0XHQgKlxuXHRcdCAqIEBuYW1lIFBhaG8uQ2xpZW50I3Vuc3Vic2NyaWJlXG5cdFx0ICogQGZ1bmN0aW9uXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGZpbHRlciAtIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9ucyB0byByZWNlaXZlIG1lc3NhZ2VzIGZyb20uXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHVuc3Vic2NyaWJlT3B0aW9ucyAtIHVzZWQgdG8gY29udHJvbCB0aGUgc3Vic2NyaXB0aW9uXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHVuc3Vic2NyaWJlT3B0aW9ucy5pbnZvY2F0aW9uQ29udGV4dCAtIHBhc3NlZCB0byB0aGUgb25TdWNjZXNzIGNhbGxiYWNrXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICBvciBvbkZhaWx1cmUgY2FsbGJhY2suXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gdW5zdWJzY3JpYmVPcHRpb25zLm9uU3VjY2VzcyAtIGNhbGxlZCB3aGVuIHRoZSB1bnN1YnNjcmliZSBhY2tub3dsZWRnZW1lbnQgaGFzIGJlZW4gcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQSBzaW5nbGUgcmVzcG9uc2Ugb2JqZWN0IHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MgY2FsbGJhY2sgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGZpZWxkczpcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5pbnZvY2F0aW9uQ29udGV4dCAtIGlmIHNldCBpbiB0aGUgdW5zdWJzY3JpYmVPcHRpb25zLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vbD5cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSB1bnN1YnNjcmliZU9wdGlvbnMub25GYWlsdXJlIGNhbGxlZCB3aGVuIHRoZSB1bnN1YnNjcmliZSByZXF1ZXN0IGhhcyBmYWlsZWQgb3IgdGltZWQgb3V0LlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQSBzaW5nbGUgcmVzcG9uc2Ugb2JqZWN0IHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlIG9uRmFpbHVyZSBjYWxsYmFjayBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9sPlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmludm9jYXRpb25Db250ZXh0IC0gaWYgc2V0IGluIHRoZSB1bnN1YnNjcmliZU9wdGlvbnMuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+ZXJyb3JDb2RlIC0gYSBudW1iZXIgaW5kaWNhdGluZyB0aGUgbmF0dXJlIG9mIHRoZSBlcnJvci5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5lcnJvck1lc3NhZ2UgLSB0ZXh0IGRlc2NyaWJpbmcgdGhlIGVycm9yLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vbD5cblx0XHQgKiBAcGFyYW0ge251bWJlcn0gdW5zdWJzY3JpYmVPcHRpb25zLnRpbWVvdXQgLSB3aGljaCwgaWYgcHJlc2VudCwgZGV0ZXJtaW5lcyB0aGUgbnVtYmVyIG9mIHNlY29uZHNcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyIHdoaWNoIHRoZSBvbkZhaWx1cmUgY2FsbGJhY2sgaXMgY2FsbGVkLiBUaGUgcHJlc2VuY2Ugb2Zcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgdGltZW91dCBkb2VzIG5vdCBwcmV2ZW50IHRoZSBvblN1Y2Nlc3MgY2FsbGJhY2sgZnJvbSBiZWluZ1xuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkIHdoZW4gdGhlIHVuc3Vic2NyaWJlIGNvbXBsZXRlc1xuXHRcdCAqIEB0aHJvd3Mge0ludmFsaWRTdGF0ZX0gaWYgdGhlIGNsaWVudCBpcyBub3QgaW4gY29ubmVjdGVkIHN0YXRlLlxuXHRcdCAqL1xuXHRcdFx0dGhpcy51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIHVuc3Vic2NyaWJlT3B0aW9ucykge1xuXHRcdFx0XHRpZiAodHlwZW9mIGZpbHRlciAhPT0gXCJzdHJpbmdcIiAmJiBmaWx0ZXIuY29uc3RydWN0b3IgIT09IEFycmF5KVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQ6XCIrZmlsdGVyKTtcblx0XHRcdFx0dW5zdWJzY3JpYmVPcHRpb25zID0gdW5zdWJzY3JpYmVPcHRpb25zIHx8IHt9IDtcblx0XHRcdFx0dmFsaWRhdGUodW5zdWJzY3JpYmVPcHRpb25zLCAge2ludm9jYXRpb25Db250ZXh0Olwib2JqZWN0XCIsXG5cdFx0XHRcdFx0b25TdWNjZXNzOlwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHRvbkZhaWx1cmU6XCJmdW5jdGlvblwiLFxuXHRcdFx0XHRcdHRpbWVvdXQ6XCJudW1iZXJcIlxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKHVuc3Vic2NyaWJlT3B0aW9ucy50aW1lb3V0ICYmICF1bnN1YnNjcmliZU9wdGlvbnMub25GYWlsdXJlKVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcInVuc3Vic2NyaWJlT3B0aW9ucy50aW1lb3V0IHNwZWNpZmllZCB3aXRoIG5vIG9uRmFpbHVyZSBjYWxsYmFjay5cIik7XG5cdFx0XHRcdGNsaWVudC51bnN1YnNjcmliZShmaWx0ZXIsIHVuc3Vic2NyaWJlT3B0aW9ucyk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHQgKiBTZW5kIGEgbWVzc2FnZSB0byB0aGUgY29uc3VtZXJzIG9mIHRoZSBkZXN0aW5hdGlvbiBpbiB0aGUgTWVzc2FnZS5cblx0XHQgKlxuXHRcdCAqIEBuYW1lIFBhaG8uQ2xpZW50I3NlbmRcblx0XHQgKiBAZnVuY3Rpb25cblx0XHQgKiBAcGFyYW0ge3N0cmluZ3xQYWhvLk1lc3NhZ2V9IHRvcGljIC0gPGI+bWFuZGF0b3J5PC9iPiBUaGUgbmFtZSBvZiB0aGUgZGVzdGluYXRpb24gdG8gd2hpY2ggdGhlIG1lc3NhZ2UgaXMgdG8gYmUgc2VudC5cblx0XHQgKiBcdFx0XHRcdFx0ICAgLSBJZiBpdCBpcyB0aGUgb25seSBwYXJhbWV0ZXIsIHVzZWQgYXMgUGFoby5NZXNzYWdlIG9iamVjdC5cblx0XHQgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcn0gcGF5bG9hZCAtIFRoZSBtZXNzYWdlIGRhdGEgdG8gYmUgc2VudC5cblx0XHQgKiBAcGFyYW0ge251bWJlcn0gcW9zIFRoZSBRdWFsaXR5IG9mIFNlcnZpY2UgdXNlZCB0byBkZWxpdmVyIHRoZSBtZXNzYWdlLlxuXHRcdCAqIFx0XHQ8ZGw+XG5cdFx0ICogXHRcdFx0PGR0PjAgQmVzdCBlZmZvcnQgKGRlZmF1bHQpLlxuXHRcdCAqICAgICBcdFx0XHQ8ZHQ+MSBBdCBsZWFzdCBvbmNlLlxuXHRcdCAqICAgICBcdFx0XHQ8ZHQ+MiBFeGFjdGx5IG9uY2UuXG5cdFx0ICogXHRcdDwvZGw+XG5cdFx0ICogQHBhcmFtIHtCb29sZWFufSByZXRhaW5lZCBJZiB0cnVlLCB0aGUgbWVzc2FnZSBpcyB0byBiZSByZXRhaW5lZCBieSB0aGUgc2VydmVyIGFuZCBkZWxpdmVyZWRcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgIHRvIGJvdGggY3VycmVudCBhbmQgZnV0dXJlIHN1YnNjcmlwdGlvbnMuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICBJZiBmYWxzZSB0aGUgc2VydmVyIG9ubHkgZGVsaXZlcnMgdGhlIG1lc3NhZ2UgdG8gY3VycmVudCBzdWJzY3JpYmVycywgdGhpcyBpcyB0aGUgZGVmYXVsdCBmb3IgbmV3IE1lc3NhZ2VzLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgQSByZWNlaXZlZCBtZXNzYWdlIGhhcyB0aGUgcmV0YWluZWQgYm9vbGVhbiBzZXQgdG8gdHJ1ZSBpZiB0aGUgbWVzc2FnZSB3YXMgcHVibGlzaGVkXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICB3aXRoIHRoZSByZXRhaW5lZCBib29sZWFuIHNldCB0byB0cnVlXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICBhbmQgdGhlIHN1YnNjcnB0aW9uIHdhcyBtYWRlIGFmdGVyIHRoZSBtZXNzYWdlIGhhcyBiZWVuIHB1Ymxpc2hlZC5cblx0XHQgKiBAdGhyb3dzIHtJbnZhbGlkU3RhdGV9IGlmIHRoZSBjbGllbnQgaXMgbm90IGNvbm5lY3RlZC5cblx0XHQgKi9cblx0XHRcdHRoaXMuc2VuZCA9IGZ1bmN0aW9uICh0b3BpYyxwYXlsb2FkLHFvcyxyZXRhaW5lZCkge1xuXHRcdFx0XHR2YXIgbWVzc2FnZSA7XG5cblx0XHRcdFx0aWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCl7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudC5cIitcImxlbmd0aFwiKTtcblxuXHRcdFx0XHR9ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcblxuXHRcdFx0XHRcdGlmICghKHRvcGljIGluc3RhbmNlb2YgTWVzc2FnZSkgJiYgKHR5cGVvZiB0b3BpYyAhPT0gXCJzdHJpbmdcIikpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50OlwiKyB0eXBlb2YgdG9waWMpO1xuXG5cdFx0XHRcdFx0bWVzc2FnZSA9IHRvcGljO1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgbWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPT09IFwidW5kZWZpbmVkXCIpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsW21lc3NhZ2UuZGVzdGluYXRpb25OYW1lLFwiTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWVcIl0pKTtcblx0XHRcdFx0XHRjbGllbnQuc2VuZChtZXNzYWdlKTtcblxuXHRcdFx0XHR9ZWxzZSB7XG5cdFx0XHRcdC8vcGFyYW1ldGVyIGNoZWNraW5nIGluIE1lc3NhZ2Ugb2JqZWN0XG5cdFx0XHRcdFx0bWVzc2FnZSA9IG5ldyBNZXNzYWdlKHBheWxvYWQpO1xuXHRcdFx0XHRcdG1lc3NhZ2UuZGVzdGluYXRpb25OYW1lID0gdG9waWM7XG5cdFx0XHRcdFx0aWYoYXJndW1lbnRzLmxlbmd0aCA+PSAzKVxuXHRcdFx0XHRcdFx0bWVzc2FnZS5xb3MgPSBxb3M7XG5cdFx0XHRcdFx0aWYoYXJndW1lbnRzLmxlbmd0aCA+PSA0KVxuXHRcdFx0XHRcdFx0bWVzc2FnZS5yZXRhaW5lZCA9IHJldGFpbmVkO1xuXHRcdFx0XHRcdGNsaWVudC5zZW5kKG1lc3NhZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHQgKiBQdWJsaXNoIGEgbWVzc2FnZSB0byB0aGUgY29uc3VtZXJzIG9mIHRoZSBkZXN0aW5hdGlvbiBpbiB0aGUgTWVzc2FnZS5cblx0XHQgKiBTeW5vbnltIGZvciBQYWhvLk1xdHQuQ2xpZW50I3NlbmRcblx0XHQgKlxuXHRcdCAqIEBuYW1lIFBhaG8uQ2xpZW50I3B1Ymxpc2hcblx0XHQgKiBAZnVuY3Rpb25cblx0XHQgKiBAcGFyYW0ge3N0cmluZ3xQYWhvLk1lc3NhZ2V9IHRvcGljIC0gPGI+bWFuZGF0b3J5PC9iPiBUaGUgbmFtZSBvZiB0aGUgdG9waWMgdG8gd2hpY2ggdGhlIG1lc3NhZ2UgaXMgdG8gYmUgcHVibGlzaGVkLlxuXHRcdCAqIFx0XHRcdFx0XHQgICAtIElmIGl0IGlzIHRoZSBvbmx5IHBhcmFtZXRlciwgdXNlZCBhcyBQYWhvLk1lc3NhZ2Ugb2JqZWN0LlxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfSBwYXlsb2FkIC0gVGhlIG1lc3NhZ2UgZGF0YSB0byBiZSBwdWJsaXNoZWQuXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHFvcyBUaGUgUXVhbGl0eSBvZiBTZXJ2aWNlIHVzZWQgdG8gZGVsaXZlciB0aGUgbWVzc2FnZS5cblx0XHQgKiBcdFx0PGRsPlxuXHRcdCAqIFx0XHRcdDxkdD4wIEJlc3QgZWZmb3J0IChkZWZhdWx0KS5cblx0XHQgKiAgICAgXHRcdFx0PGR0PjEgQXQgbGVhc3Qgb25jZS5cblx0XHQgKiAgICAgXHRcdFx0PGR0PjIgRXhhY3RseSBvbmNlLlxuXHRcdCAqIFx0XHQ8L2RsPlxuXHRcdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcmV0YWluZWQgSWYgdHJ1ZSwgdGhlIG1lc3NhZ2UgaXMgdG8gYmUgcmV0YWluZWQgYnkgdGhlIHNlcnZlciBhbmQgZGVsaXZlcmVkXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICB0byBib3RoIGN1cnJlbnQgYW5kIGZ1dHVyZSBzdWJzY3JpcHRpb25zLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgSWYgZmFsc2UgdGhlIHNlcnZlciBvbmx5IGRlbGl2ZXJzIHRoZSBtZXNzYWdlIHRvIGN1cnJlbnQgc3Vic2NyaWJlcnMsIHRoaXMgaXMgdGhlIGRlZmF1bHQgZm9yIG5ldyBNZXNzYWdlcy5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgIEEgcmVjZWl2ZWQgbWVzc2FnZSBoYXMgdGhlIHJldGFpbmVkIGJvb2xlYW4gc2V0IHRvIHRydWUgaWYgdGhlIG1lc3NhZ2Ugd2FzIHB1Ymxpc2hlZFxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgd2l0aCB0aGUgcmV0YWluZWQgYm9vbGVhbiBzZXQgdG8gdHJ1ZVxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgYW5kIHRoZSBzdWJzY3JwdGlvbiB3YXMgbWFkZSBhZnRlciB0aGUgbWVzc2FnZSBoYXMgYmVlbiBwdWJsaXNoZWQuXG5cdFx0ICogQHRocm93cyB7SW52YWxpZFN0YXRlfSBpZiB0aGUgY2xpZW50IGlzIG5vdCBjb25uZWN0ZWQuXG5cdFx0ICovXG5cdFx0XHR0aGlzLnB1Ymxpc2ggPSBmdW5jdGlvbih0b3BpYyxwYXlsb2FkLHFvcyxyZXRhaW5lZCkge1xuXHRcdFx0XHR2YXIgbWVzc2FnZSA7XG5cblx0XHRcdFx0aWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCl7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudC5cIitcImxlbmd0aFwiKTtcblxuXHRcdFx0XHR9ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcblxuXHRcdFx0XHRcdGlmICghKHRvcGljIGluc3RhbmNlb2YgTWVzc2FnZSkgJiYgKHR5cGVvZiB0b3BpYyAhPT0gXCJzdHJpbmdcIikpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50OlwiKyB0eXBlb2YgdG9waWMpO1xuXG5cdFx0XHRcdFx0bWVzc2FnZSA9IHRvcGljO1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgbWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPT09IFwidW5kZWZpbmVkXCIpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsW21lc3NhZ2UuZGVzdGluYXRpb25OYW1lLFwiTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWVcIl0pKTtcblx0XHRcdFx0XHRjbGllbnQuc2VuZChtZXNzYWdlKTtcblxuXHRcdFx0XHR9ZWxzZSB7XG5cdFx0XHRcdFx0Ly9wYXJhbWV0ZXIgY2hlY2tpbmcgaW4gTWVzc2FnZSBvYmplY3Rcblx0XHRcdFx0XHRtZXNzYWdlID0gbmV3IE1lc3NhZ2UocGF5bG9hZCk7XG5cdFx0XHRcdFx0bWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPSB0b3BpYztcblx0XHRcdFx0XHRpZihhcmd1bWVudHMubGVuZ3RoID49IDMpXG5cdFx0XHRcdFx0XHRtZXNzYWdlLnFvcyA9IHFvcztcblx0XHRcdFx0XHRpZihhcmd1bWVudHMubGVuZ3RoID49IDQpXG5cdFx0XHRcdFx0XHRtZXNzYWdlLnJldGFpbmVkID0gcmV0YWluZWQ7XG5cdFx0XHRcdFx0Y2xpZW50LnNlbmQobWVzc2FnZSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdC8qKlxuXHRcdCAqIE5vcm1hbCBkaXNjb25uZWN0IG9mIHRoaXMgTWVzc2FnaW5nIGNsaWVudCBmcm9tIGl0cyBzZXJ2ZXIuXG5cdFx0ICpcblx0XHQgKiBAbmFtZSBQYWhvLkNsaWVudCNkaXNjb25uZWN0XG5cdFx0ICogQGZ1bmN0aW9uXG5cdFx0ICogQHRocm93cyB7SW52YWxpZFN0YXRlfSBpZiB0aGUgY2xpZW50IGlzIGFscmVhZHkgZGlzY29ubmVjdGVkLlxuXHRcdCAqL1xuXHRcdFx0dGhpcy5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRjbGllbnQuZGlzY29ubmVjdCgpO1xuXHRcdFx0fTtcblxuXHRcdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBjb250ZW50cyBvZiB0aGUgdHJhY2UgbG9nLlxuXHRcdCAqXG5cdFx0ICogQG5hbWUgUGFoby5DbGllbnQjZ2V0VHJhY2VMb2dcblx0XHQgKiBAZnVuY3Rpb25cblx0XHQgKiBAcmV0dXJuIHtPYmplY3RbXX0gdHJhY2VidWZmZXIgY29udGFpbmluZyB0aGUgdGltZSBvcmRlcmVkIHRyYWNlIHJlY29yZHMuXG5cdFx0ICovXG5cdFx0XHR0aGlzLmdldFRyYWNlTG9nID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gY2xpZW50LmdldFRyYWNlTG9nKCk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHQgKiBTdGFydCB0cmFjaW5nLlxuXHRcdCAqXG5cdFx0ICogQG5hbWUgUGFoby5DbGllbnQjc3RhcnRUcmFjZVxuXHRcdCAqIEBmdW5jdGlvblxuXHRcdCAqL1xuXHRcdFx0dGhpcy5zdGFydFRyYWNlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRjbGllbnQuc3RhcnRUcmFjZSgpO1xuXHRcdFx0fTtcblxuXHRcdFx0LyoqXG5cdFx0ICogU3RvcCB0cmFjaW5nLlxuXHRcdCAqXG5cdFx0ICogQG5hbWUgUGFoby5DbGllbnQjc3RvcFRyYWNlXG5cdFx0ICogQGZ1bmN0aW9uXG5cdFx0ICovXG5cdFx0XHR0aGlzLnN0b3BUcmFjZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Y2xpZW50LnN0b3BUcmFjZSgpO1xuXHRcdFx0fTtcblxuXHRcdFx0dGhpcy5pc0Nvbm5lY3RlZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gY2xpZW50LmNvbm5lY3RlZDtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBBbiBhcHBsaWNhdGlvbiBtZXNzYWdlLCBzZW50IG9yIHJlY2VpdmVkLlxuXHQgKiA8cD5cblx0ICogQWxsIGF0dHJpYnV0ZXMgbWF5IGJlIG51bGwsIHdoaWNoIGltcGxpZXMgdGhlIGRlZmF1bHQgdmFsdWVzLlxuXHQgKlxuXHQgKiBAbmFtZSBQYWhvLk1lc3NhZ2Vcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfSBwYXlsb2FkIFRoZSBtZXNzYWdlIGRhdGEgdG8gYmUgc2VudC5cblx0ICogPHA+XG5cdCAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwYXlsb2FkU3RyaW5nIDxpPnJlYWQgb25seTwvaT4gVGhlIHBheWxvYWQgYXMgYSBzdHJpbmcgaWYgdGhlIHBheWxvYWQgY29uc2lzdHMgb2YgdmFsaWQgVVRGLTggY2hhcmFjdGVycy5cblx0ICogQHByb3BlcnR5IHtBcnJheUJ1ZmZlcn0gcGF5bG9hZEJ5dGVzIDxpPnJlYWQgb25seTwvaT4gVGhlIHBheWxvYWQgYXMgYW4gQXJyYXlCdWZmZXIuXG5cdCAqIDxwPlxuXHQgKiBAcHJvcGVydHkge3N0cmluZ30gZGVzdGluYXRpb25OYW1lIDxiPm1hbmRhdG9yeTwvYj4gVGhlIG5hbWUgb2YgdGhlIGRlc3RpbmF0aW9uIHRvIHdoaWNoIHRoZSBtZXNzYWdlIGlzIHRvIGJlIHNlbnRcblx0ICogICAgICAgICAgICAgICAgICAgIChmb3IgbWVzc2FnZXMgYWJvdXQgdG8gYmUgc2VudCkgb3IgdGhlIG5hbWUgb2YgdGhlIGRlc3RpbmF0aW9uIGZyb20gd2hpY2ggdGhlIG1lc3NhZ2UgaGFzIGJlZW4gcmVjZWl2ZWQuXG5cdCAqICAgICAgICAgICAgICAgICAgICAoZm9yIG1lc3NhZ2VzIHJlY2VpdmVkIGJ5IHRoZSBvbk1lc3NhZ2UgZnVuY3Rpb24pLlxuXHQgKiA8cD5cblx0ICogQHByb3BlcnR5IHtudW1iZXJ9IHFvcyBUaGUgUXVhbGl0eSBvZiBTZXJ2aWNlIHVzZWQgdG8gZGVsaXZlciB0aGUgbWVzc2FnZS5cblx0ICogPGRsPlxuXHQgKiAgICAgPGR0PjAgQmVzdCBlZmZvcnQgKGRlZmF1bHQpLlxuXHQgKiAgICAgPGR0PjEgQXQgbGVhc3Qgb25jZS5cblx0ICogICAgIDxkdD4yIEV4YWN0bHkgb25jZS5cblx0ICogPC9kbD5cblx0ICogPHA+XG5cdCAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gcmV0YWluZWQgSWYgdHJ1ZSwgdGhlIG1lc3NhZ2UgaXMgdG8gYmUgcmV0YWluZWQgYnkgdGhlIHNlcnZlciBhbmQgZGVsaXZlcmVkXG5cdCAqICAgICAgICAgICAgICAgICAgICAgdG8gYm90aCBjdXJyZW50IGFuZCBmdXR1cmUgc3Vic2NyaXB0aW9ucy5cblx0ICogICAgICAgICAgICAgICAgICAgICBJZiBmYWxzZSB0aGUgc2VydmVyIG9ubHkgZGVsaXZlcnMgdGhlIG1lc3NhZ2UgdG8gY3VycmVudCBzdWJzY3JpYmVycywgdGhpcyBpcyB0aGUgZGVmYXVsdCBmb3IgbmV3IE1lc3NhZ2VzLlxuXHQgKiAgICAgICAgICAgICAgICAgICAgIEEgcmVjZWl2ZWQgbWVzc2FnZSBoYXMgdGhlIHJldGFpbmVkIGJvb2xlYW4gc2V0IHRvIHRydWUgaWYgdGhlIG1lc3NhZ2Ugd2FzIHB1Ymxpc2hlZFxuXHQgKiAgICAgICAgICAgICAgICAgICAgIHdpdGggdGhlIHJldGFpbmVkIGJvb2xlYW4gc2V0IHRvIHRydWVcblx0ICogICAgICAgICAgICAgICAgICAgICBhbmQgdGhlIHN1YnNjcnB0aW9uIHdhcyBtYWRlIGFmdGVyIHRoZSBtZXNzYWdlIGhhcyBiZWVuIHB1Ymxpc2hlZC5cblx0ICogPHA+XG5cdCAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gZHVwbGljYXRlIDxpPnJlYWQgb25seTwvaT4gSWYgdHJ1ZSwgdGhpcyBtZXNzYWdlIG1pZ2h0IGJlIGEgZHVwbGljYXRlIG9mIG9uZSB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIHJlY2VpdmVkLlxuXHQgKiAgICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgb25seSBzZXQgb24gbWVzc2FnZXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLlxuXHQgKlxuXHQgKi9cblx0XHR2YXIgTWVzc2FnZSA9IGZ1bmN0aW9uIChuZXdQYXlsb2FkKSB7XG5cdFx0XHR2YXIgcGF5bG9hZDtcblx0XHRcdGlmICggICB0eXBlb2YgbmV3UGF5bG9hZCA9PT0gXCJzdHJpbmdcIiB8fFxuXHRcdG5ld1BheWxvYWQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fFxuXHRcdChBcnJheUJ1ZmZlci5pc1ZpZXcobmV3UGF5bG9hZCkgJiYgIShuZXdQYXlsb2FkIGluc3RhbmNlb2YgRGF0YVZpZXcpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdHBheWxvYWQgPSBuZXdQYXlsb2FkO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULCBbbmV3UGF5bG9hZCwgXCJuZXdQYXlsb2FkXCJdKSk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBkZXN0aW5hdGlvbk5hbWU7XG5cdFx0XHR2YXIgcW9zID0gMDtcblx0XHRcdHZhciByZXRhaW5lZCA9IGZhbHNlO1xuXHRcdFx0dmFyIGR1cGxpY2F0ZSA9IGZhbHNlO1xuXG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtcblx0XHRcdFx0XCJwYXlsb2FkU3RyaW5nXCI6e1xuXHRcdFx0XHRcdGVudW1lcmFibGUgOiB0cnVlLFxuXHRcdFx0XHRcdGdldCA6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gXCJzdHJpbmdcIilcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHBheWxvYWQ7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHJldHVybiBwYXJzZVVURjgocGF5bG9hZCwgMCwgcGF5bG9hZC5sZW5ndGgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJwYXlsb2FkQnl0ZXNcIjp7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBwYXlsb2FkID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoVVRGOExlbmd0aChwYXlsb2FkKSk7XG5cdFx0XHRcdFx0XHRcdHZhciBieXRlU3RyZWFtID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblx0XHRcdFx0XHRcdFx0c3RyaW5nVG9VVEY4KHBheWxvYWQsIGJ5dGVTdHJlYW0sIDApO1xuXG5cdFx0XHRcdFx0XHRcdHJldHVybiBieXRlU3RyZWFtO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHBheWxvYWQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImRlc3RpbmF0aW9uTmFtZVwiOntcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBkZXN0aW5hdGlvbk5hbWU7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdEZXN0aW5hdGlvbk5hbWUpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbmV3RGVzdGluYXRpb25OYW1lID09PSBcInN0cmluZ1wiKVxuXHRcdFx0XHRcdFx0XHRkZXN0aW5hdGlvbk5hbWUgPSBuZXdEZXN0aW5hdGlvbk5hbWU7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW25ld0Rlc3RpbmF0aW9uTmFtZSwgXCJuZXdEZXN0aW5hdGlvbk5hbWVcIl0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwicW9zXCI6e1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHFvczsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKG5ld1Fvcykge1xuXHRcdFx0XHRcdFx0aWYgKG5ld1FvcyA9PT0gMCB8fCBuZXdRb3MgPT09IDEgfHwgbmV3UW9zID09PSAyIClcblx0XHRcdFx0XHRcdFx0cW9zID0gbmV3UW9zO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50OlwiK25ld1Fvcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInJldGFpbmVkXCI6e1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHJldGFpbmVkOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24obmV3UmV0YWluZWQpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbmV3UmV0YWluZWQgPT09IFwiYm9vbGVhblwiKVxuXHRcdFx0XHRcdFx0XHRyZXRhaW5lZCA9IG5ld1JldGFpbmVkO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtuZXdSZXRhaW5lZCwgXCJuZXdSZXRhaW5lZFwiXSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJ0b3BpY1wiOntcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBkZXN0aW5hdGlvbk5hbWU7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdUb3BpYykge2Rlc3RpbmF0aW9uTmFtZT1uZXdUb3BpYzt9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiZHVwbGljYXRlXCI6e1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGR1cGxpY2F0ZTsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKG5ld0R1cGxpY2F0ZSkge2R1cGxpY2F0ZT1uZXdEdXBsaWNhdGU7fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0Ly8gTW9kdWxlIGNvbnRlbnRzLlxuXHRcdHJldHVybiB7XG5cdFx0XHRDbGllbnQ6IENsaWVudCxcblx0XHRcdE1lc3NhZ2U6IE1lc3NhZ2Vcblx0XHR9O1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcblx0fSkodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSk7XG5cdHJldHVybiBQYWhvTVFUVDtcbn0pO1xuIiwidmFyIElEWD0zNiwgSEVYPScnO1xud2hpbGUgKElEWC0tKSBIRVggKz0gSURYLnRvU3RyaW5nKDM2KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGVuKSB7XG5cdHZhciBzdHI9JycsIG51bSA9IGxlbiB8fCAxMTtcblx0d2hpbGUgKG51bS0tKSBzdHIgKz0gSEVYW01hdGgucmFuZG9tKCkgKiAzNiB8IDBdO1xuXHRyZXR1cm4gc3RyO1xufVxuIiwiaW1wb3J0IGhlYWRlckV2ZW50cyAgZnJvbSBcIi4vbW9kdWxlcy9ldmVudHMvaGVhZGVyXCI7XG5pbXBvcnQge2FkZENhcmRFdmVudHN9ICBmcm9tIFwiLi9tb2R1bGVzL2V2ZW50cy9jYXJkQWRkXCI7IFxuaW1wb3J0IGxvYWRBbGxXaWRnZXRzIGZyb20gJy4vbW9kdWxlcy9ldmVudHMvbG9hZFdpZGdldHMnXG5pbXBvcnQgZXZldERvY3VtZW50IGZyb20gXCIuL21vZHVsZXMvZXZlbnRzL2V2ZXREb2N1bWVudFwiO1xuXG5sb2FkQWxsV2lkZ2V0cygpXG5oZWFkZXJFdmVudHMoKVxuYWRkQ2FyZEV2ZW50cygpXG5ldmV0RG9jdW1lbnQoKSIsImltcG9ydCB7IGdldFVzZXJTdG9yYWdlLCBnZXRIb3N0U3RvcmFnZSB9IGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xuaW1wb3J0IHsgc3Vic2NyaXB0aW9ucywgcHVibGlzaGVycywgbWVzc2FnZUFycml2ZWQgfSBmcm9tIFwiLi9jb25uZWN0aW9uc1wiO1xuaW1wb3J0IFRvYXN0IGZyb20gXCIuL3RvYXN0XCI7XG5jb25zdCBQYWhvID0gcmVxdWlyZShcInBhaG8tbXF0dFwiKTtcbmxldCBjbGllbnQgPSBudWxsO1xuXG5jb25zdCBkaXNhYmxlZEhlYWRlciA9IChzdGF0dXMpID0+IHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1icm9rZXJcIikuZGlzYWJsZWQgPSBzdGF0dXM7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcm5hbWUtYnJva2VyXCIpLmRpc2FibGVkID0gc3RhdHVzO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInB3ZC1icm9rZXJcIikuZGlzYWJsZWQgPSBzdGF0dXM7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xpZW50LWlkLWJyb2tlclwiKS5kaXNhYmxlZCA9IHN0YXR1cztcbiAgY29uc3QgYnRuQ29ubmVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuLWNvbm5lY3RcIik7XG4gIGlmIChzdGF0dXMpIHtcbiAgICBidG5Db25uZWN0LmNsYXNzTGlzdC5yZW1vdmUoXCJidG5fY29ubmVjdFwiKTtcbiAgICBidG5Db25uZWN0LmNsYXNzTGlzdC5hZGQoXCJidG5fY29ubmVjdGVkXCIpO1xuICAgIGJ0bkNvbm5lY3QuaW5uZXJUZXh0ID0gXCJDb25uZWN0ZWRcIjtcbiAgfSBlbHNlIHtcbiAgICBidG5Db25uZWN0LmNsYXNzTGlzdC5hZGQoXCJidG5fY29ubmVjdFwiKTtcbiAgICBidG5Db25uZWN0LmNsYXNzTGlzdC5yZW1vdmUoXCJidG5fY29ubmVjdGVkXCIpO1xuICAgIGJ0bkNvbm5lY3QuaW5uZXJUZXh0ID0gXCJDb25uZWN0XCI7XG4gIH1cbn07XG5cbmNvbnN0IGdldENvbm5lY3Rpb25TZXR0aW5nID0gKHVzZXIpID0+IHtcbiAgY29uc3QgY29ubmVjdGlvblNldHRpbmdzID0ge1xuICAgIG9uU3VjY2Vzczogb25Db25uZWN0LFxuICAgIGNsZWFuU2Vzc2lvbjogdHJ1ZSxcbiAgICBvbkZhaWx1cmU6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgZGlzYWJsZWRIZWFkZXIoZmFsc2UpO1xuICAgICAgVG9hc3QoXCJGYWlsIENvbm5lY3Rpb25cIiwgXCIjRkYyNDAwXCIpO1xuICAgICAgYWxlcnQoXCJGYWlsIENvbm5lY3Rpb25cIiwgZXJyb3IuZXJyb3JNZXNzYWdlKTtcbiAgICB9LFxuICAgIHVzZVNTTDogdHJ1ZVxuICB9O1xuICBpZiAodXNlci51c2VybmFtZSkge1xuICAgIGNvbm5lY3Rpb25TZXR0aW5ncy51c2VyTmFtZSA9IHVzZXIudXNlcm5hbWU7XG4gIH1cbiAgaWYgKHVzZXIucHdkKSB7XG4gICAgY29ubmVjdGlvblNldHRpbmdzLnBhc3N3b3JkID0gdXNlci5wd2Q7XG4gIH1cbiAgcmV0dXJuIGNvbm5lY3Rpb25TZXR0aW5ncztcbn07XG5cbmZ1bmN0aW9uIG9uQ29ubmVjdCgpIHtcbiAgY29uc29sZS5sb2coXCJDb25uZWN0ZWRcIik7XG4gIFRvYXN0KFwiQ29ubmVjdGVkXCIsIFwiIzM0ODAxN1wiKTtcbiAgc3Vic2NyaXB0aW9ucyhjbGllbnQpO1xuICBwdWJsaXNoZXJzKGNsaWVudCk7XG59XG5cbi8vIGNhbGxlZCB3aGVuIHRoZSBjbGllbnQgbG9zZXMgaXRzIGNvbm5lY3Rpb25cbmZ1bmN0aW9uIG9uQ29ubmVjdGlvbkxvc3QocmVzcG9uc2VPYmplY3QpIHtcbiAgaWYgKHJlc3BvbnNlT2JqZWN0LmVycm9yQ29kZSAhPT0gMCkge1xuICAgIGRpc2FibGVkSGVhZGVyKGZhbHNlKTtcbiAgICBUb2FzdChcIkZhaWwgQ29ubmVjdGlvblwiLCBcIiNGRjI0MDBcIik7XG4gICAgY29uc29sZS5lcnJvcihcIm9uQ29ubmVjdGlvbkxvc3Q6XCIsIHJlc3BvbnNlT2JqZWN0LmVycm9yTWVzc2FnZSk7XG4gIH1cbn1cblxuLy8gY2FsbGVkIHdoZW4gYSBtZXNzYWdlIGFycml2ZXNcbmZ1bmN0aW9uIG9uTWVzc2FnZUFycml2ZWQobWVzc2FnZSkge1xuICBtZXNzYWdlQXJyaXZlZChtZXNzYWdlKTtcbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxuY29uc3QgbXF0dCA9IChkaXNjb25uZWN0KSA9PiB7XG4gIGNvbnN0IHVzZXIgPSBnZXRVc2VyU3RvcmFnZSgpO1xuICBjb25zdCBob3N0ID0gZ2V0SG9zdFN0b3JhZ2UoKTtcblxuICBpZiAoY2xpZW50ICE9IG51bGwgJiYgZGlzY29ubmVjdCkge1xuICAgIGNvbnNvbGUubG9nKFwiRGlzY29ubmVjdGVkXCIpO1xuICAgIFRvYXN0KFwiRGlzY29ubmVjdGVkXCIsIFwiIzI1NDExN1wiKTtcbiAgICBjbGllbnQuZGlzY29ubmVjdCgpO1xuICAgIGNsaWVudD0gbnVsbFxuICAgIGRpc2FibGVkSGVhZGVyKGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBjbGllbnQgPSBuZXcgUGFoby5DbGllbnQoaG9zdC5ob3N0LCBOdW1iZXIoaG9zdC5wb3J0KSwgdXNlci5jbGllbnRJZCk7XG4gICAgZGlzYWJsZWRIZWFkZXIodHJ1ZSk7XG5cbiAgICBjbGllbnQub25Db25uZWN0aW9uTG9zdCA9IG9uQ29ubmVjdGlvbkxvc3Q7XG4gICAgY2xpZW50Lm9uTWVzc2FnZUFycml2ZWQgPSBvbk1lc3NhZ2VBcnJpdmVkO1xuXG4gICAgY2xpZW50LmNvbm5lY3QoZ2V0Q29ubmVjdGlvblNldHRpbmcodXNlcikpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1xdHQ7XG4iLCJpbXBvcnQgeyBnZXRBbGxXaWRnZXQgfSBmcm9tIFwiLi9sb2NhbFN0b3JhZ2VcIjtcbmltcG9ydCBUb2FzdCBmcm9tIFwiLi90b2FzdFwiO1xuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XG5jb25zdCBQYWhvID0gcmVxdWlyZShcInBhaG8tbXF0dFwiKTtcbmNvbnN0IHRvcGljc1N1YnNjcmliZUxpc3QgPSB7fTtcbmNvbnN0IHdpZGdldHNMaXN0ID0ge307XG5sZXQgY2xpZW50ID0gbnVsbDtcblxuY29uc3Qgc2F2ZVRvcGljU3Vic2NyaWJlID0gKHdpZGdldCkgPT4ge1xuICBpZiAod2lkZ2V0LnRvcGljLnN1YnNjcmliZS50b3BpYykge1xuICAgIGlmICh0b3BpY3NTdWJzY3JpYmVMaXN0W3dpZGdldC50b3BpYy5zdWJzY3JpYmUudG9waWNdKSB7XG4gICAgICB0b3BpY3NTdWJzY3JpYmVMaXN0W3dpZGdldC50b3BpYy5zdWJzY3JpYmUudG9waWNdLnB1c2god2lkZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9waWNzU3Vic2NyaWJlTGlzdFt3aWRnZXQudG9waWMuc3Vic2NyaWJlLnRvcGljXSA9IFt3aWRnZXRdO1xuICAgIH1cbiAgfVxuICB3aWRnZXRzTGlzdFt3aWRnZXQuX2lkXSA9IHdpZGdldDtcbn07XG5cbmNvbnN0IGxvYWRTdWJzY3JpcHRpb25zID0gKCkgPT4ge1xuICBjb25zdCBsaXN0V2lkZ2V0cyA9IGdldEFsbFdpZGdldCgpO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsaXN0V2lkZ2V0cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjb25zdCB3aWRnZXQgPSBsaXN0V2lkZ2V0c1tpbmRleF07XG4gICAgaWYgKHdpZGdldC50b3BpYy5zdWJzY3JpYmUudG9waWMpXG4gICAgICBjbGllbnQuc3Vic2NyaWJlKHdpZGdldC50b3BpYy5zdWJzY3JpYmUudG9waWMpO1xuICAgIHNhdmVUb3BpY1N1YnNjcmliZSh3aWRnZXQpO1xuICB9XG59O1xuXG5jb25zdCBzdWJzY3JpcHRpb25zID0gKGMpID0+IHtcbiAgY2xpZW50ID0gYztcblxuICBpZiAoY2xpZW50KSB7XG4gICAgbG9hZFN1YnNjcmlwdGlvbnMoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhcIkNhbmB0IHN1YnNjcmliZVwiKTtcbiAgICBUb2FzdChcIkZhaWwgdG8gc3Vic2NyaXB0aW9uc1wiLCBcInRvbWF0b1wiKTtcbiAgfVxufTtcblxuY29uc3Qgc3Vic2NyaXB0aW9uID0gKCkgPT4ge1xuICBpZiAoY2xpZW50KSB7XG4gICAgY29uc29sZS5sb2coXCJBY3R1YWxpemFyIGVsZW1lbnRzXCIpO1xuICAgIGxvYWRTdWJzY3JpcHRpb25zKCk7XG4gIH1cbn07XG5cbmNvbnN0IGV2ZW50UHVibGlzaCA9IChlKSA9PiB7XG4gIGlmICghY2xpZW50IHx8ICFlLnRhcmdldC5kYXRhc2V0LndpZGdldCkgcmV0dXJuO1xuXG4gIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvZHktXCIgKyBlLnRhcmdldC5kYXRhc2V0LmlkKTtcbiAgY29uc3QgZGF0YSA9IGNhcmQuZGF0YXNldDtcbiAgY29uc3QgaWQgPSBkYXRhLmlkLnRyaW0oKTtcblxuICBjb25zdCB3aWRnZXQgPSB3aWRnZXRzTGlzdFtpZF07XG5cbiAgaWYgKCF3aWRnZXQpIHJldHVybiBjb25zb2xlLmxvZyhcIk5vIHdpZGdldCBleGlzdFwiKTtcblxuICBpZiAoIXdpZGdldC50b3BpYy5wdWJsaXNoLnRvcGljKVxuICAgIHJldHVybiBjb25zb2xlLmxvZyhcIk5vIGhhdmUgdG8gdG9waWMgdG8gcHVibGlzaFwiKTtcblxuICBsZXQgdmFsdWUgPSBcIlwiO1xuXG4gIGlmICh3aWRnZXQudGhpbmcgPT0gXCJ2YWx1ZVwiIHx8IHdpZGdldC5pY29uLmlucHV0KSB7XG4gICAgY29uc29sZS5sb2coXCJpbnB1dFwiLCB3aWRnZXQuaWNvbi5pbnB1dCk7XG5cbiAgICBpZiAod2lkZ2V0Lmljb24uaW5wdXQgPT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbnB1dC0ke2lkfWApO1xuICAgICAgdmFsdWUgPSBpbnB1dC50ZXh0Q29udGVudDtcbiAgICB9IGVsc2UgaWYgKHdpZGdldC50aGluZyA9PSBcInZhbHVlXCIpIHtcbiAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdmFsdWUtJHtpZH1gKTtcbiAgICAgIHZhbHVlID0gdGV4dC50ZXh0Q29udGVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQtJHtpZH1gKTtcbiAgICAgIHZhbHVlID0gaW5wdXQudmFsdWU7XG4gICAgICBjb25zb2xlLmxvZyhcImlucHV0XCIsIHZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPVxuICAgICAgd2lkZ2V0LnZhbHVlID09IHdpZGdldC50b3BpYy5wdWJsaXNoLnBheWxvYWRPblxuICAgICAgICA/IHdpZGdldC50b3BpYy5wdWJsaXNoLnBheWxvYWRPZmZcbiAgICAgICAgOiB3aWRnZXQudG9waWMucHVibGlzaC5wYXlsb2FkT247XG4gIH1cblxuICBpZiAoIXZhbHVlKSByZXR1cm4gY29uc29sZS5sb2coXCJObyBoYXZlIHZhbHVlIHRvIHNlbmRcIik7XG5cbiAgY29uc3QgbWVzc2FnZSA9IG5ldyBQYWhvLk1lc3NhZ2UodmFsdWUpO1xuICBtZXNzYWdlLnJldGFpbmVkID0gdHJ1ZVxuICBtZXNzYWdlLnFvcyA9IDFcbiAgbWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPSB3aWRnZXQudG9waWMucHVibGlzaC50b3BpYztcbiAgY2xpZW50LnNlbmQobWVzc2FnZSk7XG59O1xuXG5jb25zdCBwdWJsaXNoZXJzID0gKGMpID0+IHtcbiAgY2xpZW50ID0gYztcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiBldmVudFB1Ymxpc2goZSkpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChlKSA9PiBldmVudFB1Ymxpc2goZSkpO1xufTtcblxuY29uc3QgdXBkYXRlQ2FyZCA9ICh3aWRnZXQsIG1lc3NhZ2UpID0+IHtcbiAgY29uc3QgaWQgPSB3aWRnZXQuX2lkO1xuICBjb25zdCBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2FyZC1idG4tc3RhdHVzLSR7aWR9YCk7XG4gIGlmICghc3RhdHVzIHx8ICFzdGF0dXMuY2hlY2tlZCkgcmV0dXJuIGNvbnNvbGUubG9nKFwibm8gYWN0aXZhdGVkIHdpZGdldFwiLCBpZCk7XG4gIGNvbnN0IGljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2FyZC1pY29uLSR7aWR9YCk7XG5cbiAgbGV0IGNoYW5nZVZhbHVlID0gZmFsc2U7XG5cbiAgaWYgKG1lc3NhZ2UucGF5bG9hZFN0cmluZyA9PSB3aWRnZXQudG9waWMuc3Vic2NyaWJlLnBheWxvYWRPbikge1xuICAgIGlmICh3aWRnZXQuaWNvbi5pY29uKSB7XG4gICAgICBpY29uLnN0eWxlLmNvbG9yID0gd2lkZ2V0LnRoaW5nQ29sb3IuY29sb3JPbjtcbiAgICAgIGljb24uY2xhc3NMaXN0LmFkZCh3aWRnZXQuaWNvbi5pY29uT24pO1xuICAgICAgaWYgKHdpZGdldC5pY29uLmljb25PZmYpIGljb24uY2xhc3NMaXN0LnJlbW92ZSh3aWRnZXQuaWNvbi5pY29uT2ZmKTtcbiAgICAgIGlmICh3aWRnZXQuY2xhc3MpIHtcbiAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKHdpZGdldC5jbGFzcyk7XG4gICAgICB9XG4gICAgICBjaGFuZ2VWYWx1ZSA9IHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKG1lc3NhZ2UucGF5bG9hZFN0cmluZyA9PSB3aWRnZXQudG9waWMuc3Vic2NyaWJlLnBheWxvYWRPZmYpIHtcbiAgICBpZiAod2lkZ2V0Lmljb24uaWNvbikge1xuICAgICAgaWNvbi5zdHlsZS5jb2xvciA9IHdpZGdldC50aGluZ0NvbG9yLmNvbG9yT2ZmO1xuICAgICAgaWYgKHdpZGdldC5pY29uLmljb25PZmYpIHtcbiAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKHdpZGdldC5pY29uLmljb25PZmYpO1xuICAgICAgICBpY29uLmNsYXNzTGlzdC5yZW1vdmUod2lkZ2V0Lmljb24uaWNvbk9uKTtcbiAgICAgIH1cbiAgICAgIGlmICh3aWRnZXQuY2xhc3MpIHtcbiAgICAgICAgaWNvbi5jbGFzc0xpc3QucmVtb3ZlKHdpZGdldC5jbGFzcyk7XG4gICAgICB9XG4gICAgICBjaGFuZ2VWYWx1ZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKFxuICAgIHdpZGdldC5pY29uLmlucHV0ICYmXG4gICAgbWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPT0gd2lkZ2V0LnRvcGljLnN1YnNjcmliZS50b3BpY1xuICApIHtcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbnB1dC0ke2lkfWApO1xuICAgIGlucHV0LnZhbHVlID0gbWVzc2FnZS5wYXlsb2FkU3RyaW5nO1xuICB9XG5cbiAgaWYgKHdpZGdldC50aGluZy5tYXRjaChcInZhbHVlXCIpKSB7XG4gICAgY29uc3QgdmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdmFsdWUtJHtpZH1gKTtcbiAgICBjb25zdCBzdWJmaWplID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHN1YmZpamUtJHtpZH1gKTtcbiAgICB2YWx1ZS50ZXh0Q29udGVudCA9IG1lc3NhZ2UucGF5bG9hZFN0cmluZztcbiAgICBzdWJmaWplLnRleHRDb250ZW50ID0gd2lkZ2V0LnN1YmZpamU7XG4gIH1cbiAgaWYgKGNoYW5nZVZhbHVlKSB3aWRnZXQudmFsdWUgPSBtZXNzYWdlLnBheWxvYWRTdHJpbmc7XG59O1xuXG5jb25zdCBsb2dnZXJzVXBkYXRlID0gKG1lc3NhZ2UpID0+IHtcbiAgY29uc3QgbG9nZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubG9nZ2VyXCIpO1xuXG4gIGxvZ2dlcnMuZm9yRWFjaCgobG9nKSA9PiB7XG4gICAgdXBkYXRlTG9nZ2VyKGxvZywgbWVzc2FnZSk7XG4gIH0pO1xufTtcblxuY29uc3QgdXBkYXRlTG9nZ2VyID0gKGxvZywgbWVzc2FnZSkgPT4ge1xuICBjb25zdCBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2FyZC1idG4tc3RhdHVzLSR7bG9nLmRhdGFzZXQuaWR9YCk7XG5cbiAgaWYgKCFzdGF0dXMuY2hlY2tlZCkgcmV0dXJuO1xuXG4gIGxvZy50ZXh0Q29udGVudCA9IGBGcm9tOiAke21lc3NhZ2UuZGVzdGluYXRpb25OYW1lfTogJHtcbiAgICBtZXNzYWdlLnBheWxvYWRTdHJpbmdcbiAgfVxcdCR7bW9tZW50KCkuZm9ybWF0KFwiTFRTXCIpfVxcbiR7bG9nLnRleHRDb250ZW50fWA7XG59O1xuXG5jb25zdCBtZXNzYWdlQXJyaXZlZCA9IChtZXNzYWdlKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiRnJvbVwiLCBtZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSk7XG4gIGNvbnNvbGUubG9nKFwib25NZXNzYWdlQXJyaXZlZDpcIiArIG1lc3NhZ2UucGF5bG9hZFN0cmluZyk7XG4gIGlmICghbWVzc2FnZS5wYXlsb2FkU3RyaW5nKSByZXR1cm4gY29uc29sZS5sb2coXCJNZXNzYWdlIGVtcHR5XCIpO1xuXG4gIGxvZ2dlcnNVcGRhdGUobWVzc2FnZSk7XG5cbiAgaWYgKCF0b3BpY3NTdWJzY3JpYmVMaXN0W21lc3NhZ2UuZGVzdGluYXRpb25OYW1lXSlcbiAgICByZXR1cm4gY29uc29sZS5sb2coXCJObyBvbmUgaXMgc3Vic2NyaWJlIHRvOiBcIiwgbWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUpO1xuXG4gIHRvcGljc1N1YnNjcmliZUxpc3RbbWVzc2FnZS5kZXN0aW5hdGlvbk5hbWVdLmZvckVhY2goKHdpZGdldCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiVG8gdXBsb2FkIHdpZGdldFwiLCB3aWRnZXQuX2lkKTtcbiAgICB1cGRhdGVDYXJkKHdpZGdldCwgbWVzc2FnZSk7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN1YnNjcmlwdGlvbnMsXG4gIHN1YnNjcmlwdGlvbixcbiAgcHVibGlzaGVycyxcbiAgbWVzc2FnZUFycml2ZWQsXG59O1xuIiwiaW1wb3J0IHVpZCBmcm9tIFwidWlkXCI7XG5pbXBvcnQgeyBsb2FkV2lkZ2V0VUksIHVwZGF0ZVdpZGdldFVJIH0gZnJvbSBcIi4uL2V2ZW50cy9sb2FkV2lkZ2V0XCI7XG5pbXBvcnQgeyBpbnNlcnRXaWRnZXQsIHVwZGF0ZVdpZGdldCB9IGZyb20gXCIuLi9sb2NhbFN0b3JhZ2VcIjtcbmltcG9ydCBjb25uZWN0aW9ucyBmcm9tIFwiLi4vY29ubmVjdGlvbnNcIjtcblxuY29uc3QgcmVtb3ZlQ2FyZEFkZEZyb21VSSA9ICgpID0+IHtcbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLWNvbnRhaW5lclwiKTtcbiAgbW9kYWwgPyBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsKSA6IG51bGw7XG59O1xuXG5jb25zdCBnZXRDb2xvclBpY2tlck1vZGFsT24gPSAoKSA9PiB7XG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLWNvbG9yLW9uXCIpLnZhbHVlO1xufTtcblxuY29uc3QgZ2V0RWxlbWVudEljb25Gcm9tTW9kYWwgPSAoKSA9PiB7XG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLWljb25cIik7XG59O1xuXG5jb25zdCBnZXRJY29uRnJvbU1vZGFsID0gKCkgPT4ge1xuICBjb25zdCBpY29uRmVhdHVyZSA9IHt9O1xuICBjb25zdCBpY29uID0gZ2V0RWxlbWVudEljb25Gcm9tTW9kYWwoKTtcblxuICBpZiAoaWNvbi5maXJzdEVsZW1lbnRDaGlsZCkge1xuICAgIGljb25GZWF0dXJlLmlucHV0ID0gZ2V0RGF0YUljb24oKS5pbnB1dDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpY29uc0xpc3QgPSBpY29uLmNsYXNzTGlzdDtcblxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpY29uc0xpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gaWNvbnNMaXN0W2luZGV4XTtcbiAgICAgIGxldCBoYXNJY29uID0gZWxlbWVudC5zZWFyY2goL2ljb24tLyk7XG4gICAgICBsZXQgaGFzSWNvbjIgPSBlbGVtZW50LnNlYXJjaCgvaWNuLW0vKTtcblxuICAgICAgaWYgKGhhc0ljb24gIT0gLTEgfHwgaGFzSWNvbjIgIT0gLTEpIHtcbiAgICAgICAgY29uc3QgaWNvbnMgPSBnZXREYXRhSWNvbigpO1xuICAgICAgICBpY29uRmVhdHVyZS5pY29uID0gaWNvbnMuaWNvbk9uO1xuICAgICAgICBpY29uRmVhdHVyZS5pY29uT24gPSBpY29ucy5pY29uT247XG4gICAgICAgIGljb25GZWF0dXJlLmljb25PZmYgPSBpY29ucy5pY29uT2ZmID8gaWNvbnMuaWNvbk9mZiA6IFwiXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBpY29uRmVhdHVyZTtcbn07XG5cbmNvbnN0IGdldFBhcmFtZXRlcnNGcm9tQ2FyZCA9ICgpID0+IHtcbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsXCIpO1xuICBjb25zdCBwaW5JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtcGluXCIpO1xuICBjb25zdCBib2FyZElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC1ib2FyZFwiKTtcbiAgY29uc3QgY29sb3JPbklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC1jb2xvci1vblwiKTtcbiAgY29uc3QgY29sb3JPZmZJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtY29sb3Itb2ZmXCIpO1xuICBjb25zdCBzdWJmaWplSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLXN1YmZpamVcIik7XG4gIGNvbnN0IHRoaW5nSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLXRoaW5nXCIpO1xuICBjb25zdCBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLXN1YnNjcmliZVwiKTtcbiAgY29uc3Qgc3Vic2NyaWJlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvcGljLXN1YnNjcmliZVwiKTtcbiAgY29uc3QgcHVibGlzaElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b3BpYy1wdWJsaXNoXCIpO1xuICBjb25zdCBwYXlsb2FkU3Vic2NyaWJlT24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBheWxvYWQtc3Vic2NyaWJlLW9uXCIpO1xuICBjb25zdCBwYXlsb2FkU3Vic2NyaWJlT2ZmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXlsb2FkLXN1YnNjcmliZS1vZmZcIik7XG4gIGNvbnN0IHBheWxvYWRQdWJsaXNoT24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBheWxvYWQtcHVibGlzaC1vblwiKTtcbiAgY29uc3QgcGF5bG9hZFB1Ymxpc2hPZmYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBheWxvYWQtcHVibGlzaC1vZmZcIik7XG4gIGNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLWlucHV0LWRlc2NyaXB0aW9uXCIpO1xuXG4gIGlmICghbW9kYWwpIHJldHVybjtcblxuICBsZXQgZGF0YU1vZGFsID0gbW9kYWwuZGF0YXNldDtcbiAgY29uc3Qgc3RhdHVzTW9kYWwgPSBkYXRhTW9kYWwuZWRpdCA9PSBcIjBcIiA/IGZhbHNlIDogdHJ1ZTtcbiAgY29uc3QgaWQgPSBzdGF0dXNNb2RhbCA/IGRhdGFNb2RhbC5pZCA6IHVpZCgyNSk7XG5cbiAgY29uc3Qgd2lkZ2V0ID0ge1xuICAgIGlkOiBgd2lkZ2V0LSR7aWR9YCxcbiAgICBfaWQ6IGlkLFxuICAgIHBpbjogcGluSW5wdXQudmFsdWUsXG4gICAgYm9hcmQ6IGJvYXJkSW5wdXQudmFsdWUsXG4gICAgaWNvbjogZ2V0SWNvbkZyb21Nb2RhbCgpLFxuICAgIGNsYXNzOiBnZXREYXRhSWNvbigpLmNsYXNzLFxuICAgIHN1YmZpamU6IHN1YmZpamVJbnB1dC52YWx1ZSxcbiAgICBzdGF0dXM6IHN0YXR1cy5jaGVja2VkLFxuICAgIHRoaW5nOiB0aGluZ0lucHV0LnZhbHVlLFxuICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbklucHV0LnZhbHVlLFxuICAgIHZhbHVlOiBzdGF0dXMuY2hlY2tlZFxuICAgICAgPyBwYXlsb2FkU3Vic2NyaWJlT24udmFsdWVcbiAgICAgIDogcGF5bG9hZFN1YnNjcmliZU9mZi52YWx1ZSxcbiAgICB0aGluZ0NvbG9yOiB7XG4gICAgICBjb2xvck9uOiBjb2xvck9uSW5wdXQudmFsdWUsXG4gICAgICBjb2xvck9mZjogY29sb3JPZmZJbnB1dC52YWx1ZSxcbiAgICB9LFxuICAgIHRvcGljOiB7XG4gICAgICBzdWJzY3JpYmU6IHtcbiAgICAgICAgdG9waWM6IHN1YnNjcmliZUlucHV0LnZhbHVlLFxuICAgICAgICBwYXlsb2FkT246IHBheWxvYWRTdWJzY3JpYmVPbi52YWx1ZSxcbiAgICAgICAgcGF5bG9hZE9mZjogcGF5bG9hZFN1YnNjcmliZU9mZi52YWx1ZSxcbiAgICAgIH0sXG4gICAgICBwdWJsaXNoOiB7XG4gICAgICAgIHRvcGljOiBwdWJsaXNoSW5wdXQudmFsdWUsXG4gICAgICAgIHBheWxvYWRPbjogcGF5bG9hZFB1Ymxpc2hPbi52YWx1ZSxcbiAgICAgICAgcGF5bG9hZE9mZjogcGF5bG9hZFB1Ymxpc2hPZmYudmFsdWUsXG4gICAgICB9LFxuICAgIH0sXG4gIH07XG4gIHJldHVybiB7IHdpZGdldCwgZWRpdDogc3RhdHVzTW9kYWwgPyBzdGF0dXNNb2RhbCA6IGZhbHNlIH07XG59O1xuXG5jb25zdCBnZXREYXRhSWNvbiA9ICgpID0+IHtcbiAgY29uc3Qgc2VsZWN0SWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtdGhpbmdcIik7XG4gIGNvbnN0IHRleHQgPSBzZWxlY3RJY29uLnZhbHVlLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGNoaWxkcmVucyA9IHNlbGVjdEljb24uY2hpbGRyZW47XG5cbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNoaWxkcmVucy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjb25zdCBlbGVtZW50ID0gY2hpbGRyZW5zW2luZGV4XTtcblxuICAgIGlmIChlbGVtZW50LnZhbHVlLm1hdGNoKHRleHQpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5kYXRhc2V0O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBcIlwiO1xufTtcblxuY29uc3QgYnRuc0V2ZW50c0NhcmRBZGQgPSAoKSA9PiB7XG4gIGFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmlkO1xuICAgIGV2ZW50c01vZGFsKCk7XG4gICAgaWYgKGJ0biA9PSBcIm1vZGFsLWNhbmNlbFwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZW1vdmVDYXJkQWRkRnJvbVVJKCk7XG4gICAgfSBlbHNlIGlmIChidG4gPT0gXCJtb2RhbC1va1wiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBkYXRhID0gZ2V0UGFyYW1ldGVyc0Zyb21DYXJkKCk7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGNvbnN0IHsgd2lkZ2V0LCBlZGl0IH0gPSBkYXRhO1xuICAgICAgcmVtb3ZlQ2FyZEFkZEZyb21VSSgpO1xuXG4gICAgICBpZiAoZWRpdCkge1xuICAgICAgICB1cGRhdGVXaWRnZXRVSSh3aWRnZXQpO1xuICAgICAgICB1cGRhdGVXaWRnZXQod2lkZ2V0KTtcbiAgICAgICAgY29ubmVjdGlvbnMuc3Vic2NyaXB0aW9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkV2lkZ2V0VUkod2lkZ2V0KTtcbiAgICAgICAgaW5zZXJ0V2lkZ2V0KHdpZGdldCk7XG4gICAgICAgIGNvbm5lY3Rpb25zLnN1YnNjcmlwdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBidG5DaGFuZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IGJ0bkFkZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtb2tcIik7XG4gIGJ0bkFkZC50ZXh0Q29udGVudCA9IFwiQWN0dWFsaXphclwiO1xufTtcblxuY29uc3QgcmVuZGVyTW9kYWwgPSAod2lkZ2V0KSA9PiB7XG4gIGNvbnN0IGh0bWwgPSByZXF1aXJlKFwiLi4vaHRtbC9odG1sQ2FyZEFkZFwiKTtcbiAgY29uc3QgbW9kYWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xuICBtb2RhbENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm1vZGFsLWNvbnRhaW5lclwiKTtcbiAgbW9kYWxDb250YWluZXIuaW5uZXJIVE1MID0gaHRtbCh3aWRnZXQpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsQ29udGFpbmVyKTtcbiAgYnRuc0V2ZW50c0NhcmRBZGQoKTtcbiAgd2lkZ2V0ID8gYnRuQ2hhbmdlKCkgOiBudWxsO1xufTtcblxuY29uc3QgYnRuQWRkQ2FyZCA9ICgpID0+IHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmlkID09IFwiYWRkLXdpZGdldFwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZW5kZXJNb2RhbCgpO1xuICAgIH1cblxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSkge1xuICAgICAgcmVtb3ZlQ2FyZEFkZEZyb21VSSgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBldmVudHNNb2RhbCA9ICgpID0+IHtcbiAgYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZSkgPT4ge1xuICAgIGNoYW5nZUNvbG9ySWNvbk1vZGFsKGUpO1xuICAgIGNoYW5nZUljb25Nb2RhbChlKTtcbiAgfSk7XG59O1xuXG5jb25zdCBjaGFuZ2VDb2xvckljb25Nb2RhbCA9IChlKSA9PiB7XG4gIGlmIChlLnRhcmdldC5pZCA9PSBcIm1vZGFsLWNvbG9yLW9uXCIpIHtcbiAgICBjb25zdCBjb2xvciA9IGdldENvbG9yUGlja2VyTW9kYWxPbigpO1xuICAgIGNvbnN0IGljb24gPSBnZXRFbGVtZW50SWNvbkZyb21Nb2RhbCgpO1xuICAgIGljb24uc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgfVxufTtcblxuY29uc3QgbG9hZEljb25Nb2RhbCA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IGljb24gPSBnZXRFbGVtZW50SWNvbkZyb21Nb2RhbCgpO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpY29uLmNsYXNzTGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjb25zdCBlbGVtZW50ID0gaWNvbi5jbGFzc0xpc3RbaW5kZXhdLnRyaW0oKTtcblxuICAgIGxldCBoYXNJY29uID0gZWxlbWVudC5zZWFyY2goL2ljb24tLyk7XG4gICAgbGV0IGhhc0ljb24yID0gZWxlbWVudC5zZWFyY2goL2ljbi1tLyk7XG5cbiAgICBpZiAoaGFzSWNvbiAhPSAtMSB8fCBoYXNJY29uMiAhPSAtMSkge1xuICAgICAgaWNvbi5jbGFzc0xpc3QucmVtb3ZlKGVsZW1lbnQpOyBcblxuICAgICAgaWYgKGRhdGEuaWNvbk9uKSB7XG4gICAgICAgIGljb24uaW5uZXJUZXh0ID0gXCJcIjtcbiAgICAgICAgaWYgKGRhdGEuaWNvbk9uLm1hdGNoKFwiaWNvbi10ZXh0XCIpKSB7XG4gICAgICAgICAgaWNvbi5pbm5lckhUTUwgPSAvKmh0bWwqLyBgPGgxPlZhbHVlPC9oMT5gXG4gICAgICAgIH1cbiAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKGRhdGEuaWNvbk9uKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRhdGEuaWNvbk9uKSB7XG4gICAgICBpY29uLmNsYXNzTGlzdC5hZGQoZGF0YS5pY29uT24pO1xuICAgIH1cblxuICAgIGlmIChkYXRhLmlucHV0KSB7XG4gICAgICBpZiAoZGF0YS5pbnB1dCA9PSBcInRleHRhcmVhXCIpIHtcbiAgICAgICAgaWNvbi5pbm5lclRleHQgPSBcIlwiO1xuICAgICAgICBpY29uLmlubmVySFRNTCA9IC8qaHRtbCovIGA8dGV4dGFyZWEgY2xhc3M9XCJsb2dnZXJcIiBjb2xzPVwiMzBcIiByb3dzPVwiMTBcIiBkaXNhYmxlZD48L3RleHRhcmVhPmA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpY29uLmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgIGljb24uaW5uZXJIVE1MID0gLypodG1sKi8gYDxpbnB1dCB0eXBlPVwiJHtkYXRhLmlucHV0fVwiIGRpc2FibGVkPmA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkYXRhLmNvbG9yKVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC1jb2xvci1vblwiKS52YWx1ZSA9IGRhdGEuY29sb3I7XG4gICAgaWNvbi5zdHlsZS5jb2xvciA9IGRhdGEuY29sb3IgIT0gXCJcIiA/IGRhdGEuY29sb3IgOiBnZXRDb2xvclBpY2tlck1vZGFsT24oKTtcbiAgfVxufTtcblxuY29uc3QgY2hhbmdlSWNvbk1vZGFsID0gKGUpID0+IHtcbiAgaWYgKGUudGFyZ2V0LmlkID09IFwibW9kYWwtdGhpbmdcIikge1xuICAgIGNvbnN0IGxpc3RUaGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLXRoaW5nXCIpO1xuICAgIGNvbnN0IGRhdGFzZXQgPSBsaXN0VGhpbmdzLm9wdGlvbnNbZS50YXJnZXQuc2VsZWN0ZWRJbmRleF0uZGF0YXNldDtcbiAgICBsb2FkSWNvbk1vZGFsKGRhdGFzZXQpO1xuICB9XG59O1xuXG5jb25zdCBhZGRDYXJkRXZlbnRzID0gKCkgPT4ge1xuICBidG5BZGRDYXJkKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgYWRkQ2FyZEV2ZW50cywgcmVuZGVyTW9kYWwgLCByZW1vdmVDYXJkQWRkRnJvbVVJfTtcbiIsImltcG9ydCB7IHJlbW92ZU1lbnUgfSBmcm9tIFwiLi9tZW51Q2FyZFwiO1xuaW1wb3J0IHsgcmVtb3ZlQ2FyZEFkZEZyb21VSSB9IGZyb20gXCIuL2NhcmRBZGRcIjtcbmltcG9ydCBUb2FzdCBmcm9tIFwiLi4vdG9hc3RcIjtcblxuY29uc3QgY2xlYXJJbnB1dCA9IChlKSA9PiB7XG4gIGlmIChlLnRhcmdldC50YWdOYW1lLm1hdGNoKFwiSU5QVVRcIikpIHtcbiAgICBlLnRhcmdldC52YWx1ZSA9IFwiXCI7XG4gIH1cbn07XG5cbmNvbnN0IGludmFsaWRUb3BpYyA9IChlKSA9PiB7XG4gIGlmIChlLnRhcmdldC5pZCA9PSBcInRvcGljLXN1YnNjcmliZVwiIHx8IGUudGFyZ2V0LmlkID09IFwidG9waWMtcHVibGlzaFwiKSB7XG4gICAgaWYgKFxuICAgICAgZS50YXJnZXQudmFsdWUuaW5kZXhPZihcIiNcIikgIT0gLTEgfHxcbiAgICAgIGUudGFyZ2V0LnZhbHVlLmluZGV4T2YoXCIrXCIpICE9IC0xIHx8XG4gICAgICBlLnRhcmdldC52YWx1ZS5pbmRleE9mKFwiIFwiKSAhPSAtMVxuICAgICkge1xuICAgICAgVG9hc3QoXG4gICAgICAgIGUudGFyZ2V0LnZhbHVlLmluZGV4T2YoXCIgXCIpICE9IC0xXG4gICAgICAgICAgPyBcIkNhbid0IGJlIGVtcHR5XCJcbiAgICAgICAgICA6IFwiTm8gd2lsZGNhcmQgc3VwcG9ydGVkXCIsXG4gICAgICAgIFwiI0MxMUIxN1wiXG4gICAgICApO1xuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcIndhcm5pbmdcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJ3YXJuaW5nXCIpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGUpID0+IHtcbiAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7IFxuICAgICAgcmVtb3ZlTWVudSgpO1xuICAgICAgcmVtb3ZlQ2FyZEFkZEZyb21VSSgpO1xuICAgICAgY2xlYXJJbnB1dChlKTtcbiAgICB9XG4gICAgaW52YWxpZFRvcGljKGUpO1xuICB9KTtcbn07XG4iLCJpbXBvcnQgbXF0dCBmcm9tIFwiLi4vY29ubmVjdGlvblwiO1xuaW1wb3J0IHtcbiAgc2F2ZUhvc3RTdG9yYWdlLFxuICBnZXRIb3N0U3RvcmFnZSxcbiAgc2F2ZVVzZXJTdG9yYWdlLFxuICBnZXRVc2VyU3RvcmFnZSxcbn0gZnJvbSBcIi4uL2xvY2FsU3RvcmFnZVwiO1xuaW1wb3J0IGdldEhvc3QgZnJvbSBcIi4uL2hvc3RcIjtcbmltcG9ydCBnZW5lcmF0ZUNsaWVudElkIGZyb20gXCIuLi9nZW5lcmF0ZUNsaWVudElkXCI7XG4vKipcbiAqIFNhdmUgSG9zdFxuICovXG5jb25zdCBzYXZlRGF0YSA9ICgpID0+IHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG4tY29ubmVjdFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2F2ZUhvc3RVSSgpO1xuICAgIHNhdmVVc2VyVUkoKTsgXG4gICAgXG4gICAgbGV0IHN0YXR1cyA9IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImJ0bl9jb25uZWN0XCIpID09IHRydWUgPyBmYWxzZSA6IHRydWU7XG5cbiAgICBtcXR0KHN0YXR1cyk7XG4gIH0pO1xufTtcblxuY29uc3Qgc2F2ZUhvc3RVSSA9ICgpID0+IHtcbiAgY29uc3QgaG9zdElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1icm9rZXJcIik7XG5cbiAgaWYgKGhvc3RJbnB1dC52YWx1ZS50cmltKCkgPT0gXCJcIikge1xuICAgIGFsZXJ0KFwiTm8gaG9zdFwiKTtcbiAgICBob3N0SW5wdXQuZm9jdXMoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgc2F2ZUhvc3RTdG9yYWdlKGdldEhvc3QoaG9zdElucHV0LnZhbHVlLnRyaW0oKSkpO1xufTtcblxuY29uc3Qgc2F2ZVVzZXJVSSA9ICgpID0+IHtcbiAgY29uc3QgdXNlciA9IHt9O1xuICBjb25zdCB1c2VybmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcm5hbWUtYnJva2VyXCIpO1xuICBjb25zdCBwd2QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInB3ZC1icm9rZXJcIik7XG4gIGNvbnN0IGNsaWVudElkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbGllbnQtaWQtYnJva2VyXCIpO1xuXG4gIGlmICh1c2VybmFtZS52YWx1ZS50cmltKCkgIT0gXCJcIikge1xuICAgIHVzZXIudXNlcm5hbWUgPSB1c2VybmFtZS52YWx1ZS50cmltKCk7XG4gIH1cbiAgaWYgKHB3ZC52YWx1ZS50cmltKCkgIT0gXCJcIikge1xuICAgIHVzZXIucHdkID0gcHdkLnZhbHVlLnRyaW0oKTtcbiAgfVxuICBpZiAoY2xpZW50SWQudmFsdWUudHJpbSgpID09IFwiXCIpIHtcbiAgICB1c2VyLmNsaWVudElkID0gZ2VuZXJhdGVDbGllbnRJZCgpO1xuICAgIGNsaWVudElkLnZhbHVlID0gdXNlci5jbGllbnRJZDtcbiAgfSBlbHNlIHtcbiAgICB1c2VyLmNsaWVudElkID0gY2xpZW50SWQudmFsdWUudHJpbSgpO1xuICB9XG5cbiAgc2F2ZVVzZXJTdG9yYWdlKHVzZXIpO1xufTtcbi8qKlxuICogTG9hZCBob3N0IGZyb20gbG9jYWxTdG9yYWdlIGlmIGV4aXRzXG4gKi9cbmNvbnN0IGdldEhvc3RTdG9yYWdlTG9jYWwgPSAoKSA9PiB7XG4gIGNvbnN0IGhvc3QgPSBnZXRIb3N0U3RvcmFnZSgpO1xuICBpZiAoaG9zdCAhPSBudWxsKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1icm9rZXJcIikudmFsdWUgPSBgJHtob3N0Lmhvc3R9OiR7aG9zdC5wb3J0fWA7XG4gIH1cbn07XG5cbmNvbnN0IGdldENsaWVudFN0b3JhZ2VMb2NhbCA9ICgpID0+IHtcbiAgY29uc3QgdXNlckxvY2FsID0gZ2V0VXNlclN0b3JhZ2UoKTtcbiAgY29uc3QgdXNlcm5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJuYW1lLWJyb2tlclwiKTtcbiAgY29uc3QgcHdkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwd2QtYnJva2VyXCIpO1xuICBjb25zdCBjbGllbnRJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xpZW50LWlkLWJyb2tlclwiKTtcbiAgaWYgKHVzZXJMb2NhbCAhPSBudWxsKSB7XG4gICAgdXNlcm5hbWUudmFsdWUgPSB1c2VyTG9jYWwudXNlcm5hbWUgPyB1c2VyTG9jYWwudXNlcm5hbWUgOiBcIlwiO1xuICAgIHB3ZC52YWx1ZSA9IHVzZXJMb2NhbC5wd2QgPyB1c2VyTG9jYWwucHdkIDogXCJcIjtcbiAgICBjbGllbnRJZC52YWx1ZSA9IHVzZXJMb2NhbC5jbGllbnRJZFxuICAgICAgPyB1c2VyTG9jYWwuY2xpZW50SWRcbiAgICAgIDogZ2VuZXJhdGVDbGllbnRJZCgpO1xuICB9IGVsc2Uge1xuICAgIGNsaWVudElkLnZhbHVlID0gZ2VuZXJhdGVDbGllbnRJZCgpO1xuICB9XG59O1xuXG5jb25zdCBnZXRMb2FkU2F2ZUNsaWVudCA9ICgpID0+IHtcbiAgZ2V0SG9zdFN0b3JhZ2VMb2NhbCgpO1xuICBnZXRDbGllbnRTdG9yYWdlTG9jYWwoKTtcbn07XG5cbmNvbnN0IGhlYWRlckV2ZW50cyA9ICgpID0+IHtcbiAgc2F2ZURhdGEoKTtcbiAgZ2V0TG9hZFNhdmVDbGllbnQoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaGVhZGVyRXZlbnRzO1xuIiwiaW1wb3J0IHtnZXRBbGxXaWRnZXQsIHVwZGF0ZVdpZGdldCB9IGZyb20gXCIuLi9sb2NhbFN0b3JhZ2VcIjtcbmltcG9ydCBidWlsZENhcmQgZnJvbSBcIi4uL2h0bWwvaHRtbENhcmRcIjsgXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSk9PnsgXG4gIGlmKGUudGFyZ2V0LmlkLmluZGV4T2YoXCJjYXJkLWJ0bi1zdGF0dXMtXCIpIT0gLTEpe1xuICAgIFxuICAgIGNvbnN0IGRhdGEgPSBlLnRhcmdldC5kYXRhc2V0XG4gICAgY29uc3QgaWQgPSBkYXRhLmlkXG4gICAgY29uc3Qgd2lkZ2V0cyA9IGdldEFsbFdpZGdldCgpXG4gICAgd2lkZ2V0cy5mb3JFYWNoKHdpZGdldCA9PiB7XG4gICAgIGlmKHdpZGdldC5pZCA9PSBgd2lkZ2V0LSR7aWR9YCl7XG4gICAgICAgd2lkZ2V0LnN0YXR1cyA9IGUudGFyZ2V0LmNoZWNrZWRcbiAgICAgICB1cGRhdGVXaWRnZXQod2lkZ2V0KVxuICAgICAgIGlmKHdpZGdldC5pY29uLmlucHV0KSBkaXNhYmVJbnB1dENhcmQod2lkZ2V0Ll9pZClcbiAgICAgfVxuICAgIH0pOyBcbiAgfVxufSlcblxuY29uc3QgZGlzYWJlSW5wdXRDYXJkID0gKGlkKT0+e1xuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbnB1dC0ke2lkfWApXG4gIGlucHV0LmRpc2FibGVkID0gIWlucHV0LmRpc2FibGVkXG59IFxuXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEsIGNoaWxkKSA9PiB7XG4gIGNvbnN0IG1haW5FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhcnRpY2xlXCIpO1xuICBjYXJkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgY2FyZC0ke2RhdGEuaWR9YCk7XG4gIGNhcmRFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FyZFwiKTtcbiAgY2FyZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBkYXRhLl9pZCk7XG4gIGNvbnN0IGh0bWwgPSBidWlsZENhcmQoZGF0YSk7XG4gIGNhcmRFbGVtZW50LmlubmVySFRNTCA9IGh0bWw7IFxuXG4gIGNoaWxkXG4gICAgPyBtYWluRWxlbWVudC5yZXBsYWNlQ2hpbGQoY2FyZEVsZW1lbnQsIGNoaWxkKVxuICAgIDogbWFpbkVsZW1lbnQuYXBwZW5kQ2hpbGQoY2FyZEVsZW1lbnQpO1xufTtcblxuY29uc3QgdXBkYXRlV2lkZ2V0VUkgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBvbGRDaGlsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjYXJkLSR7ZGF0YS5pZH1gKTtcbiAgY3JlYXRlQ2FyZChkYXRhLCBvbGRDaGlsZCk7XG59OyBcblxuY29uc3QgbG9hZFdpZGdldFVJID0gKGRhdGEpID0+IHsgXG4gIGNyZWF0ZUNhcmQoZGF0YSk7IFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGxvYWRXaWRnZXRVSSxcbiAgdXBkYXRlV2lkZ2V0VUksXG59O1xuIiwiaW1wb3J0IHsgZ2V0QWxsV2lkZ2V0IH0gZnJvbSBcIi4uL2xvY2FsU3RvcmFnZVwiO1xuaW1wb3J0IHtsb2FkV2lkZ2V0VUl9IGZyb20gXCIuL2xvYWRXaWRnZXRcIjtcbmltcG9ydCB7bWVudUV2ZW50fSBmcm9tIFwiLi9tZW51Q2FyZFwiO1xuXG5jb25zdCBsb2FkQWxsV2lkZ2V0cyA9ICgpID0+IHtcbiAgY29uc3QgbGlzdFdpZGdldHMgPSBnZXRBbGxXaWRnZXQoKTsgXG4gIFxuICBsaXN0V2lkZ2V0cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgbG9hZFdpZGdldFVJKGVsZW1lbnQpO1xuICB9KTtcbiAgbWVudUV2ZW50KCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsb2FkQWxsV2lkZ2V0cztcbiIsImltcG9ydCB7IHJlbW92ZVdpZGdldCxnZXRBbGxXaWRnZXQgfSBmcm9tIFwiLi4vbG9jYWxTdG9yYWdlXCI7XG5pbXBvcnQgVG9hc3QgZnJvbSBcIi4uL3RvYXN0XCI7XG5pbXBvcnQgY29ubmVjdGlvbnMgZnJvbSBcIi4uL2Nvbm5lY3Rpb25zXCI7XG5pbXBvcnQgeyByZW5kZXJNb2RhbCB9IGZyb20gXCIuL2NhcmRBZGRcIjtcblxuY29uc3QgZGVsZXRlQ2FyZCA9IChpZCkgPT4ge1xuICBjb25zdCBjYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNhcmQtd2lkZ2V0LSR7aWR9YCk7XG4gIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4ucmVtb3ZlQ2hpbGQoY2FyZCk7XG4gIHJlbW92ZVdpZGdldChpZCk7XG4gIFRvYXN0KFwiV2lkZ2V0IGRlbGV0ZWRcIik7XG59O1xuXG5jb25zdCByZW1vdmVNZW51ID0gKCkgPT4ge1xuICBjb25zdCBtZW51cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZF9faGVhZGVyX19tZW51X19jb250YWluZXJcIik7XG4gIG1lbnVzLmZvckVhY2goKG1lbnUpID0+IHtcbiAgICBtZW51LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gIH0pO1xufTtcblxuY29uc3QgbWVudUV2ZW50ID0gKCkgPT4ge1xuICBhZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQuZGF0YXNldC5tZW51KSB7XG4gICAgICBpZiAoZS50YXJnZXQuZGF0YXNldC5tZW51ID09IFwibWVudVwiKSB7XG4gICAgICAgIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICBgY2FyZC1tZW51LWxpc3QtJHtlLnRhcmdldC5kYXRhc2V0LmlkfWBcbiAgICAgICAgKTtcbiAgICAgICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xuICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5kYXRhc2V0Lm1lbnUgPT0gXCJlZGl0XCIpIHsgXG4gICAgICAgIGNvbnN0IHdpZGdldHMgPSBnZXRBbGxXaWRnZXQoKSBcbiAgICAgICAgd2lkZ2V0cy5mb3JFYWNoKHdpZGdldCA9PntcbiAgICAgICAgICBpZih3aWRnZXQuX2lkID09IGUudGFyZ2V0LmRhdGFzZXQuaWQpe1xuICAgICAgICAgICAgcmVtb3ZlTWVudSgpOyBcbiAgICAgICAgICAgIHJlbmRlck1vZGFsKHdpZGdldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSBcbiAgICAgICAgXG4gICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmRhdGFzZXQubWVudSA9PSBcImRlbGV0ZVwiKSB7XG4gICAgICAgIGRlbGV0ZUNhcmQoZS50YXJnZXQuZGF0YXNldC5pZCk7XG4gICAgICAgIGNvbm5lY3Rpb25zLnN1YnNjcmlwdGlvbigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtYWluXCIpKSB7XG4gICAgICByZW1vdmVNZW51KCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge21lbnVFdmVudCwgcmVtb3ZlTWVudX07XG4iLCJpbXBvcnQgdWlkIGZyb20gXCJ1aWRcIjtcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIHJldHVybiBcInhpenV0aC1cIiArIHVpZCgpO1xufTtcbiIsIi8qKlxuICogR2V0IGhvc3QgZnJvbSBVSVxuICovXG5cbmNvbnN0IGdldEhvc3QgPSAoaG9zdCkgPT4ge1xuICBpZiAoaG9zdCA9PSBudWxsIHx8IGhvc3QgPT0gXCJcIikge1xuICAgIHRocm93IFwiV2l0aG91dCBIT1NUXCJcbiAgfVxuICBjb25zdCBwb3NpdGlvblBvcnQgPSBob3N0LmluZGV4T2YoXCI6XCIpO1xuICBsZXQgcG9ydCA9IDgwODA7XG5cbiAgaWYgKHBvc2l0aW9uUG9ydCAhPSAtMSkge1xuICAgIHBvcnQgPSBOdW1iZXIoaG9zdC5zbGljZShwb3NpdGlvblBvcnQgKyAxKSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBob3N0OiBob3N0LnNsaWNlKDAsIHBvc2l0aW9uUG9ydCksXG4gICAgcG9ydDogcG9ydCxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0SG9zdDtcbiIsImV4cG9ydCBjb25zdCBnZXRJbnB1dCA9IChkYXRhKSA9PiB7XG4gIGxldCBpbnB1dCA9IFwiXCI7XG4gIGlmIChkYXRhLmljb24uaW5wdXQgPT0gXCJ0ZXh0YXJlYVwiKSB7IFxuICAgIGlucHV0ID0gYDx0ZXh0YXJlYSBjbGFzcz1cIiR7ZGF0YS5jbGFzcyA/IGRhdGEuY2xhc3MgOiBcIlwifVwiIGRhdGEtaWQ9XCIkeyBkYXRhLl9pZCB9XCIgZGF0YS13aWRnZXQ9XCJ3aWRnZXRcIiBjb2xzPVwiMzBcIiByb3dzPVwiMTBcIiBpZD1cImlucHV0LSR7ZGF0YS5faWR9XCIgJHshZGF0YS5zdGF0dXMgfHwgZGF0YS50aGluZz09XCJsb2dnZXJcIj8gXCJkaXNhYmxlZFwiOiBcIlwifT48L3RleHRhcmVhPmA7XG4gIH0gZWxzZSB7XG4gICAgaW5wdXQgPSBgPGlucHV0IGNsYXNzPVwiaW5wdXQtZGF0YVwiIGRhdGEtaW5wdXQ9XCIke2RhdGEuaWNvbi5pbnB1dH1cIiB0eXBlPVwiJHtkYXRhLmljb24uaW5wdXR9XCIgaWQ9XCJpbnB1dC0ke2RhdGEuX2lkfVwiIGRhdGEtaWQ9XCIke2RhdGEuX2lkfVwiICR7IWRhdGEuc3RhdHVzPyBcImRpc2FibGVkXCI6IFwiXCJ9IGRhdGEtd2lkZ2V0PVwid2lkZ2V0XCI+YDtcbiAgfVxuICByZXR1cm4gaW5wdXQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAoZGF0YSkgPT4ge1xuICByZXR1cm4gLypodG1sKi8gYCBcbjxoZWFkZXIgY2xhc3M9XCJjYXJkX19oZWFkZXJcIj5cbiAgICA8aDMgY2xhc3M9XCJjYXJkX19oZWFkZXJfX3BpbiBjdXJzb3JcIiBpZD1cImNhcmQtcGluXCI+JHtkYXRhLnBpbn08L2gzPlxuICAgIDxoMyBjbGFzcz1cImNhcmRfX2hlYWRlcl9fcGluIGN1cnNvclwiIGlkPVwiY2FyZC1ib2FyZFwiPiR7ZGF0YS5ib2FyZH08L2gzPlxuICAgIDxpIGNsYXNzPVwiY2FyZF9faGVhZGVyX19tZW51IGljb24tbWVudVwiIGRhdGEtaWQ9XCIke1xuICAgICAgZGF0YS5faWRcbiAgICB9XCIgZGF0YS1tZW51PVwibWVudVwiIGlkPVwiY2FyZC1tZW51LWJ0bi0ke2RhdGEuX2lkfVwiPjwvaT5cbiAgICA8dWwgY2xhc3M9XCJjYXJkX19oZWFkZXJfX21lbnVfX2NvbnRhaW5lciAgaGlkZGVuXCIgZGF0YS1pZD1cIiR7XG4gICAgICBkYXRhLl9pZFxuICAgIH1cIiBpZD1cImNhcmQtbWVudS1saXN0LSR7ZGF0YS5faWR9XCI+XG4gICAgICA8bGkgY2xhc3M9XCJjYXJkX19oZWFkZXJfX21lbnVfX2l0ZW0gcG9pbnRlclwiIGRhdGEtaWQ9XCIke1xuICAgICAgICBkYXRhLl9pZFxuICAgICAgfVwiIGRhdGEtbWVudT1cImVkaXRcIj5FZGl0PC9saT5cbiAgICAgIDxsaSBjbGFzcz1cImNhcmRfX2hlYWRlcl9fbWVudV9faXRlbSBwb2ludGVyXCIgZGF0YS1pZD1cIiR7XG4gICAgICAgIGRhdGEuX2lkXG4gICAgICB9XCIgZGF0YS1tZW51PVwiZGVsZXRlXCI+RGVsZXRlPC9saT5cbiAgICA8L3VsPlxuPC9oZWFkZXI+XG48ZGl2IGNsYXNzPVwiY2FyZF9fYm9keVwiIGlkPVwiYm9keS0ke2RhdGEuX2lkfVwiIGRhdGEtaWQ9XCIke2RhdGEuX2lkfSBcIj5cbiAgICA8ZGl2IHN0eWxlPVwiY29sb3I6ICR7XG4gICAgICBkYXRhLnN0YXR1cyA/IGRhdGEudGhpbmdDb2xvci5jb2xvck9uIDogZGF0YS50aGluZ0NvbG9yLmNvbG9yT2ZmXG4gICAgfTtcIiBjbGFzcz1cImNhcmRfX2JvZHlfX2ljb24gcG9pbnRlciBpY29ucy1zaXplICR7XG4gICAgZGF0YS5pY29uLmljb24gPyBkYXRhLmljb24uaWNvbiA6IFwiXCJcbiAgfVwiIGlkPVwiY2FyZC1pY29uLSR7ZGF0YS5faWR9XCIgZGF0YS1pZD1cIiR7ZGF0YS5faWR9XCIgZGF0YS13aWRnZXQ9XCJ3aWRnZXRcIiA+XG4gICAgICAke2RhdGEuaWNvbi5pbnB1dCA/IGdldElucHV0KGRhdGEpIDogXCJcIn1cbiAgICAgIDxzcGFuIGlkPVwidmFsdWUtJHtkYXRhLl9pZH1cIiBkYXRhLWlkPVwiJHtkYXRhLl9pZH1cIiBkYXRhLXdpZGdldD1cIndpZGdldFwiPiR7IGRhdGEudGhpbmcgPT0gXCJ2YWx1ZVwiID8gXCItXCIgOiBcIlwiIH08L3NwYW4+IFxuICAgICAgPHNwYW4gaWQ9XCJzdWJmaWplLSR7ZGF0YS5faWR9XCIgZGF0YS1pZD1cIiR7ZGF0YS5faWR9XCIgZGF0YS13aWRnZXQ9XCJ3aWRnZXRcIj4ke1xuICAgIGRhdGEuc3ViZmlqZSA/IGRhdGEuc3ViZmlqZSA6IFwiXCJcbiAgfTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICAgIDxoMiBjbGFzcz1cImNhcmRfX2JvZHlfX2Rlc2NyaXB0aW9uIHBvaW50ZXJcIiB0aXRsZT1cIkRlc2NyaXB0aW9uOiAke1xuICAgICAgICBkYXRhLmRlc2NyaXB0aW9uXG4gICAgICB9XCIgaWQ9XCJjYXJkLWRlc2NyaXB0aW9uLSR7ZGF0YS5faWR9XCIgZGF0YS1pZD1cIiR7XG4gICAgZGF0YS5faWRcbiAgfVwiIGRhdGEtd2lkZ2V0PVwid2lkZ2V0XCI+JHtkYXRhLmRlc2NyaXB0aW9ufTwvaDI+XG4gICAgPC9kaXY+XG48Zm9vdGVyIGNsYXNzPVwiY2FyZF9fZm9vdGVyXCI+XG4gIDxkaXYgY2xhc3M9XCJjYXJkX19mb290ZXJfX3RvcGljXCI+PGlucHV0IGNsYXNzPVwiY2FyZF9fZm9vdGVyX191cmxcIiB0eXBlPVwidXJsXCIgdGl0bGU9XCJTdWJzY3JpYmUgdG86ICR7XG4gICAgZGF0YS50b3BpYy5zdWJzY3JpYmUudG9waWNcbiAgfVwiIGRpc2FibGVkIHBsYWNlaG9sZGVyPVwiJHtcbiAgICBkYXRhLnRvcGljLnN1YnNjcmliZS50b3BpY1xuICAgICAgPyBkYXRhLnRvcGljLnN1YnNjcmliZS50b3BpY1xuICAgICAgOiBcIm5vIHRvcGljIHN1YnNjcmliZVwiXG4gIH1cIiB2YWx1ZT1cIiR7ZGF0YS50b3BpYy5zdWJzY3JpYmUudG9waWN9XCIgaWQ9XCJjYXJkLXRvcGljLXN1YnNjcmliZS0ke1xuICAgIGRhdGEudG9waWMuc3Vic2NyaWJlLnRvcGljXG4gIH1cIi8+PGlucHV0IGNsYXNzPVwiY2FyZF9fZm9vdGVyX191cmxcIiB0eXBlPVwidXJsXCIgdGl0bGU9XCJQdWJsaXNoIHRvOiAke1xuICAgIGRhdGEudG9waWMucHVibGlzaC50b3BpY1xuICB9XCIgZGlzYWJsZWQgcGxhY2Vob2xkZXI9XCIke1xuICAgIGRhdGEudG9waWMucHVibGlzaC50b3BpYyA/IGRhdGEudG9waWMucHVibGlzaC50b3BpYyA6IFwibm8gdG9waWMgcHVibGlzaFwiXG4gIH1cIiBpZD1cImNhcmQtdG9waWMtcHVibGlzaC0ke2RhdGEuaWR9XCIgdmFsdWU9XCIke2RhdGEudG9waWMucHVibGlzaC50b3BpY31cIi8+IFxuICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY2FyZF9fZm9vdGVyX19idG5cIj4gPGxhYmVsIGNsYXNzPVwic3dpdGNoXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiICR7XG4gICAgICBkYXRhLnN0YXR1cyA/IFwiY2hlY2tlZFwiIDogXCJcIlxuICAgIH0gZGF0YS1pZD1cIiR7ZGF0YS5faWR9XCIgaWQ9XCJjYXJkLWJ0bi1zdGF0dXMtJHtcbiAgICBkYXRhLl9pZFxuICB9XCIvPjxzcGFuIGNsYXNzPVwic2xpZGVyIHJvdW5kXCI+PC9zcGFuPjwvbGFiZWw+XG4gICAgPC9kaXY+XG48L2Zvb3Rlcj5cbmA7XG59O1xuIiwiY29uc3QgaHRtbCA9IHJlcXVpcmUoXCIuL2h0bWxDYXJkXCIpO1xuY29uc3QgZ2V0SW5wdXQgPSBodG1sLmdldElucHV0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IChkYXRhKSA9PiB7XG4gIHJldHVybiAvKmh0bWwqLyBgXG48ZGl2IGNsYXNzPVwibW9kYWxcIiBpZD1cIm1vZGFsXCIgZGF0YS1lZGl0PVwiJHtkYXRhID8gMSA6IDB9XCIgZGF0YS1pZD1cIiR7IGRhdGEgPyBkYXRhLl9pZCA6IFwiXCIgfVwiPlxuPGRpdiBjbGFzcz1cImNhcmQgbW9kYWxfX2NhcmRcIj5cbiAgICA8aGVhZGVyIGNsYXNzPVwiY2FyZF9faGVhZGVyXCI+XG4gICAgICAgIDxpbnB1dCBjbGFzcz1cIm1vZGFsX191cmxcIiBsaXN0PVwibW9kYWwtcGluZXNcIiBwbGFjZWhvbGRlcj1cIlBpblwiIGlkPVwibW9kYWwtcGluXCIgdmFsdWU9XCIke1xuICAgICAgICAgIGRhdGEgJiYgZGF0YS5waW4gPyBkYXRhLnBpbiA6IFwiXCJcbiAgICAgICAgfVwiLz5cbiAgICAgICAgPGRhdGFsaXN0IGNsYXNzPVwibW9kYWxfX2RhdGFsaXN0XCIgaWQ9XCJtb2RhbC1waW5lc1wiPlxuICAgICAgICAgICAgPG9wdGlvbj5BMDwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5BMTwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5BMjwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5BMzwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5BNDwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5BNTwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5BNjwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5BNzwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5BODwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5BOTwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5EMDwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5EMTwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5EMjwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5EMzwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5ENDwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5ENTwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5ENjwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5ENzwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5EODwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5EOTwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5EMTA8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24+RDExPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uPkQxMjwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5EMTM8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24+REFDMDwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5EQUMxPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uPkRBQzM8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24+UFdNPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uPlBXTTE8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24+UFdNMjwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5QV00zPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uPlBXTTQ8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24+UFdNNTwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbj5QV002PC9vcHRpb24+XG4gICAgICAgIDwvZGF0YWxpc3Q+XG4gICAgICAgIDxpbnB1dCBjbGFzcz1cIm1vZGFsX191cmxcIiBsaXN0PVwibW9kYWwtYm9hcmRzXCIgcGxhY2Vob2xkZXI9XCJCb2FyZFwiIGlkPVwibW9kYWwtYm9hcmRcIiB2YWx1ZT1cIiR7XG4gICAgICAgICAgZGF0YSAmJiBkYXRhLmJvYXJkID8gZGF0YS5ib2FyZCA6IFwiXCJcbiAgICAgICAgfVwiIC8+XG4gICAgICAgIDxkYXRhbGlzdCBjbGFzcz1cIm1vZGFsX19kYXRhbGlzdFwiIGlkPVwibW9kYWwtYm9hcmRzXCI+XG4gICAgICAgICAgICA8b3B0aW9uPkVTUDgyNjY8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24+RVNQMzI8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24+QXJkdWlubyBVbm88L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24+QXJkdWlubyBNZWdhPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uPkFyZHVpbm8gTWluaSA8L29wdGlvbj5cbiAgICAgICAgPC9kYXRhbGlzdD5cbiAgICA8L2hlYWRlcj5cbiAgICA8ZGl2IGNsYXNzPVwiY2FyZF9fYm9keSBtb2RhbF9fYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWxfX2JvZHlfX3RvcFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0X19jb2xvclwiPlxuICAgICAgICAgICAgICA8ZGl2PjxsYWJlbCBmb3I9XCJtb2RhbC1jb2xvci1vblwiPk9OPC9sYWJlbD48aW5wdXQgdHlwZT1cImNvbG9yXCIgbmFtZT1cIlwiIHZhbHVlPVwiJHtcbiAgICAgICAgICAgICAgICBkYXRhICYmIGRhdGEudGhpbmdDb2xvci5jb2xvck9uXG4gICAgICAgICAgICAgICAgICA/IGRhdGEudGhpbmdDb2xvci5jb2xvck9uXG4gICAgICAgICAgICAgICAgICA6IFwiI0ZGRDYwMFwiXG4gICAgICAgICAgICAgIH1cIiBpZD1cIm1vZGFsLWNvbG9yLW9uXCIgLz48L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj48bGFiZWwgZm9yPVwibW9kYWwtY29sb3Itb2ZmXCI+T0ZGPC9sYWJlbD48aW5wdXQgdHlwZT1cImNvbG9yXCIgbmFtZT1cIlwiIHZhbHVlPVwiJHtcbiAgICAgICAgICAgICAgICBkYXRhICYmIGRhdGEudGhpbmdDb2xvci5jb2xvck9mZlxuICAgICAgICAgICAgICAgICAgPyBkYXRhLnRoaW5nQ29sb3IuY29sb3JPZmZcbiAgICAgICAgICAgICAgICAgIDogXCIjQkRCREJEXCJcbiAgICAgICAgICAgICAgfVwiIGlkPVwibW9kYWwtY29sb3Itb2ZmXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PiA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke1xuICAgICAgICAgICAgICBkYXRhICYmIGRhdGEuaWNvbiA/IGRhdGEuaWNvbi5pY29uT24gOiBcImljb24tYnVsYlwiXG4gICAgICAgICAgICB9IGljb25zLXNpemUgaWNucy15ZWxsb3dcIiBpZD1cIm1vZGFsLWljb25cIiBzdHlsZT1cImNvbG9yOiR7XG4gICAgZGF0YSAmJiBkYXRhLnRoaW5nQ29sb3IuY29sb3JPbiA/IGRhdGEudGhpbmdDb2xvci5jb2xvck9uIDogXCJcIlxuICB9XCI+XG4gICAgICAgICAgICAgICR7ZGF0YSAmJiBkYXRhLmljb24uaW5wdXQgPyBnZXRJbnB1dChkYXRhKSA6IFwiXCJ9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cIm1vZGFsX191cmxcIiBsaXN0PVwibW9kYWwtc3ViZmlqZXNcIiBpZD1cIm1vZGFsLXN1YmZpamVcIiAke1xuICAgICAgICAgICAgICBkYXRhICYmIGRhdGEuc3ViZmlqZSA/IGRhdGEuc3ViZmlqZSA6IFwiXCJcbiAgICAgICAgICAgIH0gLz5cbiAgICAgICAgICAgIDxkYXRhbGlzdCBjbGFzcz1cIm1vZGFsX19kYXRhbGlzdFwiIGlkPVwibW9kYWwtc3ViZmlqZXNcIj5cbiAgICAgICAgICAgICAgPG9wdGlvbj4oRW1wdHkpPC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24+wrpDPC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24+wrpGPC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24+bVY8L29wdGlvbj5cbiAgICAgICAgICAgICAgPG9wdGlvbj5WPC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24+bUE8L29wdGlvbj5cbiAgICAgICAgICAgICAgPG9wdGlvbj5BPC9vcHRpb24+XG4gICAgICAgICAgICA8L2RhdGFsaXN0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsX19ib2R5X19idXR0b25cIj5cbjxzZWxlY3QgY2xhc3M9XCJtb2RhbF9fc2VsZWN0XCIgbmFtZT1cIlwiIGlkPVwibW9kYWwtdGhpbmdcIj5cbiAgPG9wdGlvbiAke1xuICAgIGRhdGEgJiYgZGF0YS50aGluZyAmJiBkYXRhLnRoaW5nID09IFwiYnVsYlwiID8gXCJzZWxlY3RlZFwiIDogXCJcIlxuICB9IGRhdGEtaW5wdXQ9XCJcIiBkYXRhLWNvbG9yPVwiI0ZGRDYwMFwiIGRhdGEtaWNvbi1vZmY9XCJcIiBkYXRhLWljb24tb249XCJpY29uLWJ1bGJcIiBkYXRhLWNsYXNzPVwiXCIgdmFsdWU9XCJidWxiXCI+QnVsYjwvb3B0aW9uPiBcbiAgPG9wdGlvbiAke1xuICAgIGRhdGEgJiYgZGF0YS50aGluZyAmJiBkYXRhLnRoaW5nID09IFwiZmFuXCIgPyBcInNlbGVjdGVkXCIgOiBcIlwiXG4gIH0gZGF0YS1pbnB1dD1cIlwiIGRhdGEtY29sb3I9XCJcIiBkYXRhLWljb24tb2ZmPVwiXCIgZGF0YS1pY29uLW9uPVwiaWNvbi1mYW5cIiBkYXRhLWNsYXNzPVwiYW5pbWF0ZS1zcGluXCIgdmFsdWU9XCJmYW5cIj5GYW48L29wdGlvbj5cbiAgPG9wdGlvbiAke1xuICAgIGRhdGEgJiYgZGF0YS50aGluZyAmJiBkYXRhLnRoaW5nID09IFwiY2FtXCIgPyBcInNlbGVjdGVkXCIgOiBcIlwiXG4gIH0gZGF0YS1pbnB1dD1cIlwiIGRhdGEtY29sb3I9XCJcIiBkYXRhLWljb24tb2ZmPVwiXCIgZGF0YS1pY29uLW9uPVwiaWNvbi12aWRlb2NhbVwiIGRhdGEtY2xhc3M9XCJcIiB2YWx1ZT1cImNhbVwiPkNhbTwvb3B0aW9uPlxuICA8b3B0aW9uICR7XG4gICAgZGF0YSAmJiBkYXRhLnRoaW5nICYmIGRhdGEudGhpbmcgPT0gXCJjdXJyZW50XCIgPyBcInNlbGVjdGVkXCIgOiBcIlwiXG4gIH0gZGF0YS1pbnB1dD1cIlwiIGRhdGEtY29sb3I9XCJcIiBkYXRhLWljb24tb2ZmPVwiXCIgZGF0YS1pY29uLW9uPVwiaWNvbi1mbGFzaFwiIGRhdGEtY2xhc3M9XCJcIiB2YWx1ZT1cImN1cnJlbnRcIj5DdXJyZW50PC9vcHRpb24+XG4gIDxvcHRpb24gJHtcbiAgICBkYXRhICYmIGRhdGEudGhpbmcgJiYgZGF0YS50aGluZyA9PSBcImxvY2tcIiA/IFwic2VsZWN0ZWRcIiA6IFwiXCJcbiAgfSBkYXRhLWlucHV0PVwiXCIgZGF0YS1jb2xvcj1cIlwiIGRhdGEtaWNvbi1vZmY9XCJpY29uLWxvY2stb3BlblwiIGRhdGEtaWNvbi1vbj1cImljb24tbG9ja1wiIGRhdGEtY2xhc3M9XCJcIiB2YWx1ZT1cImxvY2tcIj5Mb2NrPC9vcHRpb24+XG4gIDxvcHRpb24gJHtcbiAgICBkYXRhICYmIGRhdGEudGhpbmcgJiYgZGF0YS50aGluZyA9PSBcInBlcnNvblwiID8gXCJzZWxlY3RlZFwiIDogXCJcIlxuICB9IGRhdGEtaW5wdXQ9XCJcIiBkYXRhLWNvbG9yPVwiXCIgZGF0YS1pY29uLW9mZj1cIlwiIGRhdGEtaWNvbi1vbj1cImljb24tYWNjb3VudC1hbGVydFwiIGRhdGEtY2xhc3M9XCJcIiB2YWx1ZT1cInBlcnNvblwiPlBlcnNvbjwvb3B0aW9uPlxuICA8b3B0aW9uICR7XG4gICAgZGF0YSAmJiBkYXRhLnRoaW5nICYmIGRhdGEudGhpbmcgPT0gXCJzd2l0Y2hcIiA/IFwic2VsZWN0ZWRcIiA6IFwiXCJcbiAgfSBkYXRhLWlucHV0PVwiXCIgZGF0YS1jb2xvcj1cIlwiIGRhdGEtaWNvbi1vZmY9XCJpY29uLXRvZ2dsZS1zd2l0Y2gtb2ZmXCIgZGF0YS1pY29uLW9uPVwiaWNvbi10b2dnbGUtc3dpdGNoXCIgZGF0YS1jbGFzcz1cIlwiIHZhbHVlPVwic3dpdGNoXCI+U3dpdGNoPC9vcHRpb24+XG4gIDxvcHRpb24gJHtcbiAgICBkYXRhICYmIGRhdGEudGhpbmcgJiYgZGF0YS50aGluZyA9PSBcInRvZ2dsZVwiID8gXCJzZWxlY3RlZFwiIDogXCJcIlxuICB9IGRhdGEtaW5wdXQ9XCJcIiBkYXRhLWNvbG9yPVwiXCIgZGF0YS1pY29uLW9mZj1cImljb24tdG9nZ2xlLW9mZlwiIGRhdGEtaWNvbi1vbj1cImljb24tdG9nZ2xlLW9uXCIgZGF0YS1jbGFzcz1cIlwiIHZhbHVlPVwidG9nZ2xlXCI+VG9nZ2xlPC9vcHRpb24+XG4gIDxvcHRpb24gJHtcbiAgICBkYXRhICYmIGRhdGEudGhpbmcgJiYgZGF0YS50aGluZyA9PSBcImtleVwiID8gXCJzZWxlY3RlZFwiIDogXCJcIlxuICB9IGRhdGEtaW5wdXQ9XCJcIiBkYXRhLWNvbG9yPVwiXCIgZGF0YS1pY29uLW9mZj1cIlwiIGRhdGEtaWNvbi1vbj1cImljb24ta2V5XCIgZGF0YS1jbGFzcz1cIlwiIHZhbHVlPVwia2V5XCI+S2V5PC9vcHRpb24+XG4gIDxvcHRpb24gJHtcbiAgICBkYXRhICYmIGRhdGEudGhpbmcgJiYgZGF0YS50aGluZyA9PSBcImJhdGVyeVwiID8gXCJzZWxlY3RlZFwiIDogXCJcIlxuICB9IGRhdGEtaW5wdXQ9XCJcIiBkYXRhLWNvbG9yPVwiXCIgZGF0YS1pY29uLW9mZj1cImljb24tYmF0dGVyeS0wXCIgZGF0YS1pY29uLW9uPVwiaWNvbi1iYXR0ZXJ5LTRcIiBkYXRhLWNsYXNzPVwiXCIgdmFsdWU9XCJiYXRlcnlcIj5CYXRlcnk8L29wdGlvbj5cbiAgPG9wdGlvbiAke1xuICAgIGRhdGEgJiYgZGF0YS50aGluZyAmJiBkYXRhLnRoaW5nID09IFwiYmx1ZXRvb3RoXCIgPyBcInNlbGVjdGVkXCIgOiBcIlwiXG4gIH0gZGF0YS1pbnB1dD1cIlwiIGRhdGEtY29sb3I9XCIjMzk0OUFCXCIgZGF0YS1pY29uLW9mZj1cIlwiIGRhdGEtaWNvbi1vbj1cImljb24tYmx1ZXRvb3RoXCIgZGF0YS1jbGFzcz1cIlwiIHZhbHVlPVwiYmx1ZXRvb3RoXCI+Qmx1ZXRvb3RoPC9vcHRpb24+XG4gIDxvcHRpb24gJHtcbiAgICBkYXRhICYmIGRhdGEudGhpbmcgJiYgZGF0YS50aGluZyA9PSBcInRoZXJtb21ldGVyXCIgPyBcInNlbGVjdGVkXCIgOiBcIlwiXG4gIH0gZGF0YS1pbnB1dD1cIlwiIGRhdGEtY29sb3I9XCJcIiBkYXRhLWljb24tb2ZmPVwiXCIgZGF0YS1pY29uLW9uPVwiaWNvbi10aGVybW9tZXRlclwiIGRhdGEtY2xhc3M9XCJcIiB2YWx1ZT1cInRoZXJtb21ldGVyXCI+VGhlcm1vbWV0ZXI8L29wdGlvbj5cbiAgPG9wdGlvbiAke1xuICAgIGRhdGEgJiYgZGF0YS50aGluZyAmJiBkYXRhLnRoaW5nID09IFwiYS9jXCIgPyBcInNlbGVjdGVkXCIgOiBcIlwiXG4gIH0gZGF0YS1pbnB1dD1cIlwiIGRhdGEtY29sb3I9XCJcIiBkYXRhLWljb24tb2ZmPVwiXCIgZGF0YS1pY29uLW9uPVwiaWNvbi1zbm93XCIgZGF0YS1jbGFzcz1cIlwiIHZhbHVlPVwiYS9jXCI+QS9DPC9vcHRpb24+XG4gIDxvcHRpb24gJHtcbiAgICBkYXRhICYmIGRhdGEudGhpbmcgJiYgZGF0YS50aGluZyA9PSBcIm1vdG9yXCIgPyBcInNlbGVjdGVkXCIgOiBcIlwiXG4gIH0gZGF0YS1pbnB1dD1cIlwiIGRhdGEtY29sb3I9XCJcIiBkYXRhLWljb24tb2ZmPVwiaWNuLW1vdG9yLWRjXCIgZGF0YS1pY29uLW9uPVwiaWNuLW1vdG9yLWRjLWZpbGxcIiBkYXRhLWNsYXNzPVwiXCIgdmFsdWU9XCJtb3RvclwiPk1vdG9yPC9vcHRpb24+XG4gIDxvcHRpb24gJHtcbiAgICBkYXRhICYmIGRhdGEudGhpbmcgJiYgZGF0YS50aGluZyA9PSBcImNhclwiID8gXCJzZWxlY3RlZFwiIDogXCJcIlxuICB9IGRhdGEtaW5wdXQ9XCJcIiBkYXRhLWNvbG9yPVwiXCIgZGF0YS1pY29uLW9mZj1cIlwiIGRhdGEtaWNvbi1vbj1cImljb24tY2FyXCIgZGF0YS1jbGFzcz1cIlwiIHZhbHVlPVwiY2FyXCI+Q2FyPC9vcHRpb24+XG4gIDxvcHRpb24gJHtcbiAgICBkYXRhICYmIGRhdGEudGhpbmcgJiYgZGF0YS50aGluZyA9PSBcInZhbHVlXCIgPyBcInNlbGVjdGVkXCIgOiBcIlwiXG4gIH0gZGF0YS1pbnB1dD1cIlwiIGRhdGEtY29sb3I9XCJcIiBkYXRhLWljb24tb2ZmPVwiXCIgZGF0YS1pY29uLW9uPVwiaWNvbi10ZXh0XCIgZGF0YS1jbGFzcz1cIlwiIHZhbHVlPVwidmFsdWVcIj5WYWx1ZTwvb3B0aW9uPlxuICA8b3B0aW9uICR7XG4gICAgZGF0YSAmJiBkYXRhLnRoaW5nICYmIGRhdGEudGhpbmcgPT0gXCJ0ZXh0YXJlYVwiID8gXCJzZWxlY3RlZFwiIDogXCJcIlxuICB9IGRhdGEtaW5wdXQ9XCJ0ZXh0YXJlYVwiIGRhdGEtY29sb3I9XCJcIiBkYXRhLWljb24tb2ZmPVwiXCIgZGF0YS1pY29uLW9uPVwiXCIgZGF0YS1jbGFzcz1cIlwiIHZhbHVlPVwidGV4dGFyZWFcIj5UZXh0IEFyZWE8L29wdGlvbj5cbiAgPG9wdGlvbiAke1xuICAgIGRhdGEgJiYgZGF0YS50aGluZyAmJiBkYXRhLnRoaW5nID09IFwic2xpZGVyXCIgPyBcInNlbGVjdGVkXCIgOiBcIlwiXG4gIH0gZGF0YS1pbnB1dD1cInJhbmdlXCIgZGF0YS1jb2xvcj1cIlwiIGRhdGEtaWNvbi1vZmY9XCJcIiBkYXRhLWljb24tb249XCJcIiBkYXRhLWNsYXNzPVwiXCIgdmFsdWU9XCJzbGlkZXJcIj5TbGlkZXI8L29wdGlvbj5cbiAgPG9wdGlvbiAke1xuICAgIGRhdGEgJiYgZGF0YS50aGluZyAmJiBkYXRhLnRoaW5nID09IFwiaW5wdXRcIiA/IFwic2VsZWN0ZWRcIiA6IFwiXCJcbiAgfSBkYXRhLWlucHV0PVwidGV4dFwiIGRhdGEtY29sb3I9XCJcIiBkYXRhLWljb24tb2ZmPVwiXCIgZGF0YS1pY29uLW9uPVwiXCIgZGF0YS1jbGFzcz1cIlwiIHZhbHVlPVwiaW5wdXRcIj5JbnB1dCBUZXh0PC9vcHRpb24+XG4gIDxvcHRpb24gJHtcbiAgICBkYXRhICYmIGRhdGEudGhpbmcgJiYgZGF0YS50aGluZyA9PSBcImNvbG9yXCIgPyBcInNlbGVjdGVkXCIgOiBcIlwiXG4gIH0gZGF0YS1pbnB1dD1cImNvbG9yXCIgZGF0YS1jb2xvcj1cIlwiIGRhdGEtaWNvbi1vZmY9XCJcIiBkYXRhLWljb24tb249XCJcIiBkYXRhLWNsYXNzPVwiXCIgdmFsdWU9XCJjb2xvclwiPkNvbG9yIHBpY2tlcjwvb3B0aW9uPlxuICA8b3B0aW9uICR7XG4gICAgZGF0YSAmJiBkYXRhLnRoaW5nICYmIGRhdGEudGhpbmcgPT0gXCJsb2dnZXJcIiA/IFwic2VsZWN0ZWRcIiA6IFwiXCJcbiAgfSBkYXRhLWlucHV0PVwidGV4dGFyZWFcIiBkYXRhLWNvbG9yPVwiXCIgZGF0YS1pY29uLW9mZj1cIlwiIGRhdGEtaWNvbi1vbj1cIlwiIGRhdGEtY2xhc3M9XCJsb2dnZXJcIiB2YWx1ZT1cImxvZ2dlclwiPkxvZ2dlcjwvb3B0aW9uPlxuPC9zZWxlY3Q+XG4gICAgICAgICAgPGlucHV0IGNsYXNzPVwibW9kYWxfX3VybFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJMaWd0aCBSb29tXCIgaWQ9XCJtb2RhbC1pbnB1dC1kZXNjcmlwdGlvblwiIHZhbHVlPVwiJHtcbiAgICAgICAgICAgIGRhdGEgJiYgZGF0YS5kZXNjcmlwdGlvbiA/IGRhdGEuZGVzY3JpcHRpb24gOiBcIlwiXG4gICAgICAgICAgfVwiLz5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGZvb3RlciBjbGFzcz1cImNhcmRfX2Zvb3RlciBtb2RhbF9fY2FyZF9fZm9vdGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbF9fY2FyZF9fZm9vdGVyX190b3BpY1wiPlxuICAgICAgICAgIDxpbnB1dCBjbGFzcz1cIm1vZGFsX191cmxcIiB0eXBlPVwidXJsXCIgcGxhY2Vob2xkZXI9XCJTdWJzY3JpYmUgVG9waWNcIiB0aXRsZT1cInRvcGljXCIgaWQ9XCJ0b3BpYy1zdWJzY3JpYmVcIiB2YWx1ZT1cIiR7XG4gICAgICAgICAgICBkYXRhICYmIGRhdGEudG9waWMuc3Vic2NyaWJlLnRvcGljID8gZGF0YS50b3BpYy5zdWJzY3JpYmUudG9waWMgOiBcIlwiXG4gICAgICAgICAgfVwiLz5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsX19jYXJkX19mb290ZXJfX3BsYXlsb2FkXCI+PGlucHV0IGNsYXNzPVwibW9kYWxfX3VybFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJwbGF5bG9hZCBvblwiIGlkPVwicGF5bG9hZC1zdWJzY3JpYmUtb25cIiB2YWx1ZT1cIiR7XG4gICAgICAgICAgZGF0YSAmJiBkYXRhLnRvcGljLnN1YnNjcmliZS5wYXlsb2FkT25cbiAgICAgICAgICAgID8gZGF0YS50b3BpYy5zdWJzY3JpYmUucGF5bG9hZE9uXG4gICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgfVwiLz48aW5wdXQgY2xhc3M9XCJtb2RhbF9fdXJsXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cInBheWxvYWQgb2ZmXCIgaWQ9XCJwYXlsb2FkLXN1YnNjcmliZS1vZmZcIiB2YWx1ZT1cIiR7XG4gICAgZGF0YSAmJiBkYXRhLnRvcGljLnN1YnNjcmliZS5wYXlsb2FkT2ZmXG4gICAgICA/IGRhdGEudG9waWMuc3Vic2NyaWJlLnBheWxvYWRPZmZcbiAgICAgIDogXCJcIlxuICB9XCIvPjwvZGl2PlxuICAgICAgICA8aW5wdXQgY2xhc3M9XCJtb2RhbF9fdXJsXCIgdHlwZT1cInVybFwiIHBsYWNlaG9sZGVyPVwiUHViaXNoIFRvcGljXCIgdGl0bGU9XCJ0b3BpY1wiIGlkPVwidG9waWMtcHVibGlzaFwiIHZhbHVlPVwiJHtcbiAgICAgICAgICBkYXRhICYmIGRhdGEudG9waWMucHVibGlzaC50b3BpYyA/IGRhdGEudG9waWMucHVibGlzaC50b3BpYyA6IFwiXCJcbiAgICAgICAgfVwiLz5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsX19jYXJkX19mb290ZXJfX3BsYXlsb2FkXCI+PGlucHV0IGNsYXNzPVwibW9kYWxfX3VybFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJwYXlsb2FkIG9uXCIgaWQ9XCJwYXlsb2FkLXB1Ymxpc2gtb25cIiB2YWx1ZT1cIiR7XG4gICAgICAgICAgZGF0YSAmJiBkYXRhLnRvcGljLnB1Ymxpc2gucGF5bG9hZE9uXG4gICAgICAgICAgICA/IGRhdGEudG9waWMucHVibGlzaC5wYXlsb2FkT25cbiAgICAgICAgICAgIDogXCJcIlxuICAgICAgICB9XCIvPjxpbnB1dCBjbGFzcz1cIm1vZGFsX191cmxcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwicGF5bG9hZCBvZmZcIiBpZD1cInBheWxvYWQtcHVibGlzaC1vZmZcIiB2YWx1ZT1cIiR7XG4gICAgZGF0YSAmJiBkYXRhLnRvcGljLnN1YnNjcmliZS5wYXlsb2FkT2ZmXG4gICAgICA/IGRhdGEudG9waWMuc3Vic2NyaWJlLnBheWxvYWRPZmZcbiAgICAgIDogXCJcIlxuICB9XCIvPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmRfX2Zvb3Rlcl9fYnRuXCI+PGxhYmVsIGNsYXNzPVwic3dpdGNoXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiICR7XG4gICAgICAgICAgZGF0YSA/IChkYXRhLnN0YXR1cyA/IFwiY2hlY2tlZFwiIDogXCJcIikgOiBcImNoZWNrZWRcIlxuICAgICAgICB9IGNoZWNrZWQgaWQ9XCJtb2RhbC1zdWJzY3JpYmVcIiAvPjxzcGFuIGNsYXNzPVwic2xpZGVyIHJvdW5kXCI+IDwvc3Bhbj48L2xhYmVsPjwvZGl2PlxuICAgIDwvZm9vdGVyPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbF9fYnRuc1wiPlxuICAgICAgPGEgY2xhc3M9XCJidG4gYnRuX19jYW5jZWxcIiBocmVmPVwiL1wiIGlkPVwibW9kYWwtY2FuY2VsXCI+Q2FuY2VsPC9hPlxuICAgICAgPGEgY2xhc3M9XCJidG4gYnRuX19va1wiIGhyZWY9XCIvXCIgaWQ9XCJtb2RhbC1va1wiPkFncmVnYXI8L2E+XG4gICAgPC9kaXY+XG48L2Rpdj5cbjwvZGl2PlxuYDtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCAobWVzc2FnZSwgY29sb3IpID0+IHtcbiAgcmV0dXJuIC8qaHRtbCovIGBcbjxkaXYgY2xhc3M9XCJ0b2FzdFwiPlxuICAgIDxkaXYgY2xhc3M9XCJ0b2FzdF9fbWVzc2FnZVwiICR7XG4gICAgICBjb2xvciA/IGBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6JHtjb2xvcn1cImAgOiBcIlwiXG4gICAgfT4ke21lc3NhZ2V9PC9kaXY+XG48L2Rpdj5cbmA7XG59O1xuIiwiY29uc3QgaG9zdElkID0gXCJob3N0XCI7XG5jb25zdCB1c2VySWQgPSBcInhpenV0aC1pZFwiO1xuY29uc3Qgd2lkZ2V0TGlzdElkID0gXCJ3aWRnZXRzXCI7XG5cbmNvbnN0IHVwZGF0ZVdpZGdldCA9ICh3aWRnZXQpID0+IHtcbiAgbGV0IHdpZGdldHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHdpZGdldExpc3RJZCkpIHx8IG5ldyBBcnJheSgpOyBcblxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgd2lkZ2V0cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBpZiAod2lkZ2V0c1tpbmRleF0uaWQgPT0gd2lkZ2V0LmlkKSB7XG4gICAgICB3aWRnZXRzW2luZGV4XSA9IHdpZGdldDtcbiAgICB9XG4gIH1cbiAgc2V0QWxsV2lkZ2V0cyh3aWRnZXRzKTtcbn07XG5cbmNvbnN0IHNhdmVVc2VyU3RvcmFnZSA9ICh1c2VyID0ge30pID0+IHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odXNlcklkLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7XG59O1xuXG5jb25zdCBnZXRVc2VyU3RvcmFnZSA9ICgpID0+IHtcbiAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odXNlcklkKSk7XG59O1xuXG5jb25zdCBkZWxldGVBbGwgPSAoKSA9PiB7XG4gIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xufTtcblxuY29uc3Qgc2F2ZUhvc3RTdG9yYWdlID0gKGhvc3QgPSB7IGhvc3QsIHBvcnQgfSkgPT4ge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShob3N0SWQsIEpTT04uc3RyaW5naWZ5KGhvc3QpKTtcbn07XG5cbmNvbnN0IGdldEhvc3RTdG9yYWdlID0gKCkgPT4ge1xuICBjb25zdCBob3N0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oaG9zdElkKTtcblxuICByZXR1cm4gSlNPTi5wYXJzZShob3N0KSB8fCBudWxsO1xufTtcblxuY29uc3Qgc2V0QWxsV2lkZ2V0cyA9ICh3aWRnZXRzKSA9PiB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHdpZGdldExpc3RJZCwgSlNPTi5zdHJpbmdpZnkod2lkZ2V0cykpO1xufTtcblxuY29uc3QgaW5zZXJ0V2lkZ2V0ID0gKHdpZGdldCkgPT4ge1xuICBsZXQgd2lkZ2V0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0od2lkZ2V0TGlzdElkKSkgfHwgbmV3IEFycmF5KCk7XG4gIHdpZGdldHMucHVzaCh3aWRnZXQpO1xuICBzZXRBbGxXaWRnZXRzKHdpZGdldHMpO1xufTtcblxuY29uc3QgcmVtb3ZlV2lkZ2V0ID0gKHdpZGdldElkKSA9PiB7XG4gIGxldCB3aWRnZXRzID0gZ2V0QWxsV2lkZ2V0KCk7XG5cbiAgaWYgKCF3aWRnZXRzLmxlbmd0aCkgcmV0dXJuO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB3aWRnZXRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGlmICh3aWRnZXRzW2luZGV4XS5faWQgPT0gd2lkZ2V0SWQpIHtcbiAgICAgIHdpZGdldHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cbiAgc2V0QWxsV2lkZ2V0cyh3aWRnZXRzKTtcbn07XG5cbmNvbnN0IGdldEFsbFdpZGdldCA9ICgpID0+IHtcbiAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0od2lkZ2V0TGlzdElkKSkgfHwgW107XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2F2ZVVzZXJTdG9yYWdlLFxuICBnZXRVc2VyU3RvcmFnZSxcbiAgZGVsZXRlQWxsLFxuICBzYXZlSG9zdFN0b3JhZ2UsXG4gIGdldEhvc3RTdG9yYWdlLFxuICBpbnNlcnRXaWRnZXQsXG4gIHVwZGF0ZVdpZGdldCxcbiAgcmVtb3ZlV2lkZ2V0LFxuICBnZXRBbGxXaWRnZXQsXG59O1xuIiwiaW1wb3J0IGh0bWwgZnJvbSBcIi4vaHRtbC9odG1sVG9hc3RcIjtcblxuY29uc3QgVG9hc3QgPSAobWVzc2FnZSwgY29sb3IpID0+IHtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIGNvbnN0IHRvYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdG9hc3QuaW5uZXJIVE1MID0gaHRtbChtZXNzYWdlLCBjb2xvcik7XG4gIGJvZHkuYXBwZW5kQ2hpbGQodG9hc3QpO1xuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGJvZHkucmVtb3ZlQ2hpbGQodG9hc3QpO1xuICB9LCAyMDAwKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRvYXN0O1xuIl19\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","global","factory","this","hookCallback","some","hooks","apply","arguments","isArray","input","Array","Object","prototype","toString","isObject","hasOwnProp","b","hasOwnProperty","isObjectEmpty","obj","getOwnPropertyNames","k","isUndefined","isNumber","isDate","Date","map","arr","fn","res","push","extend","valueOf","createUTC","format","locale","strict","createLocalOrUTC","utc","getParsingFlags","m","_pf","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidEra","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","era","meridiem","rfc2822","weekdayMismatch","isValid","_isValid","flags","parsedParts","isNowValid","isNaN","_d","getTime","invalidWeekday","_strict","undefined","bigHour","isFrozen","createInvalid","NaN","fun","len","momentProperties","updateInProgress","copyConfig","to","from","prop","val","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","Moment","config","updateOffset","isMoment","warn","msg","suppressDeprecationWarnings","console","deprecate","firstTime","deprecationHandler","arg","key","args","slice","join","stack","keys","deprecations","deprecateSimple","name","isFunction","Function","mergeConfigs","parentConfig","childConfig","Locale","set","zeroFill","number","targetLength","forceSign","absNumber","Math","abs","zerosToFill","pow","max","substr","formattingTokens","localFormattingTokens","formatFunctions","formatTokenFunctions","addFormatToken","token","padded","ordinal","callback","func","localeData","formatMoment","expandFormat","array","match","replace","mom","output","makeFormatFunction","invalidDate","replaceLongDateFormatTokens","longDateFormat","lastIndex","test","aliases","addUnitAlias","unit","shorthand","lowerCase","toLowerCase","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","priorities","addUnitPriority","priority","isLeapYear","year","absFloor","ceil","floor","toInt","argumentForCoercion","coercedNumber","value","isFinite","makeGetSet","keepTime","set$1","get","month","date","daysInMonth","regexes","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchWord","addRegexToken","regex","strictRegex","isStrict","getParseRegexForToken","RegExp","regexEscape","matched","p1","p2","p3","p4","s","tokens","addParseToken","addWeekParseToken","_w","indexOf","YEAR","MONTH","DATE","HOUR","MINUTE","SECOND","MILLISECOND","WEEK","WEEKDAY","x","modMonth","monthsShort","months","monthsShortRegex","monthsRegex","monthsParse","defaultLocaleMonths","split","defaultLocaleMonthsShort","MONTHS_IN_FORMAT","defaultMonthsShortRegex","defaultMonthsRegex","setMonth","dayOfMonth","min","getSetMonth","computeMonthsParse","cmpLenRev","shortPieces","longPieces","mixedPieces","sort","_monthsRegex","_monthsShortRegex","_monthsStrictRegex","_monthsShortStrictRegex","daysInYear","y","parseTwoDigitYear","parseInt","getSetYear","createUTCDate","UTC","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","getUTCDay","dayOfYearFromWeeks","week","weekday","resYear","dayOfYear","resDayOfYear","weekOfYear","resWeek","weekOffset","weeksInYear","weekOffsetNext","shiftWeekdays","ws","concat","weekdaysMin","weekdaysShort","weekdays","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","weekdaysParse","d","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","defaultWeekdaysRegex","defaultWeekdaysShortRegex","defaultWeekdaysMinRegex","computeWeekdaysParse","minp","shortp","longp","minPieces","day","_weekdaysRegex","_weekdaysShortRegex","_weekdaysMinRegex","_weekdaysStrictRegex","_weekdaysShortStrictRegex","_weekdaysMinStrictRegex","hFormat","hours","lowercase","minutes","matchMeridiem","_meridiemParse","seconds","kInput","_isPm","isPM","_meridiem","pos","pos1","pos2","getSetHour","globalLocale","baseConfig","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","LTS","LT","L","LL","LLL","LLLL","dayOfMonthOrdinalParse","relativeTime","future","past","ss","mm","h","hh","dd","w","ww","M","MM","yy","meridiemParse","locales","localeFamilies","commonPrefix","arr1","arr2","minl","normalizeLocale","loadLocale","oldLocale","_abbr","getSetGlobalLocale","values","data","getLocale","defineLocale","abbr","_config","parentLocale","forEach","names","j","next","chooseLocale","checkOverflow","_a","_overflowDayOfYear","_overflowWeeks","_overflowWeekday","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","configFromISO","l","allowTime","dateFormat","timeFormat","tzFormat","string","exec","configFromStringAndFormat","extractFromRFC2822Strings","yearStr","monthStr","dayStr","hourStr","minuteStr","secondStr","result","untruncateYear","configFromRFC2822","parsedArray","weekdayStr","parsedInput","getDay","obsOffset","militaryOffset","numOffset","hm","calculateOffset","setUTCMinutes","getUTCMinutes","defaults","configFromArray","currentDate","expectedWeekday","yearToUse","nowValue","now","_useUTC","getUTCMonth","getUTCDate","getFullYear","getMonth","getDate","weekYear","temp","weekdayOverflow","curWeek","GG","W","E","createLocal","_week","gg","_dayOfYear","dayOfYearFromWeekInfo","_nextDay","ms","setFullYear","ISO_8601","RFC_2822","skipped","stringLength","totalParsedInputLength","hour","isPm","meridiemHour","meridiemFixWrap","erasConvertYear","prepareConfig","preparse","tempConfig","bestMoment","scoreToBeat","currentScore","validFormatFound","bestFormatIsValid","score","configFromStringAndArray","createFromInputFallback","configFromString","dayOrDate","minute","second","millisecond","configFromObject","isUTC","add","prototypeMin","other","prototypeMax","pickBy","moments","ordering","Duration","duration","years","quarters","quarter","weeks","isoWeek","days","milliseconds","unitHasDecimal","parseFloat","isDurationValid","_milliseconds","_days","_months","_data","_bubble","isDuration","absRound","round","offset","separator","utcOffset","sign","offsetFromString","chunkOffset","matcher","parts","matches","cloneWithOffset","model","diff","clone","setTime","local","getDateOffset","getTimezoneOffset","isUtc","aspNetRegex","isoRegex","createDuration","ret","diffRes","parseIso","base","isBefore","positiveMomentsDifference","momentsDifference","inp","isAfter","createAdder","direction","period","tmp","addSubtract","isAdding","invalid","subtract","isString","String","isMomentInput","arrayTest","dataTypeTest","filter","item","isNumberOrStringArray","property","objectTest","propertyTest","properties","isMomentInputObject","monthDiff","wholeMonthDiff","anchor","adjust","newLocaleData","defaultFormat","defaultFormatUtc","lang","MS_PER_400_YEARS","mod$1","dividend","divisor","localStartOfDate","utcStartOfDate","matchEraAbbr","erasAbbrRegex","computeErasParse","abbrPieces","namePieces","narrowPieces","eras","narrow","_erasRegex","_erasNameRegex","_erasAbbrRegex","_erasNarrowRegex","addWeekYearFormatToken","getter","getSetWeekYearHelper","weeksTarget","dayOfYearData","erasNameRegex","erasNarrowRegex","erasParse","_eraYearOrdinalRegex","eraYearOrdinalParse","isoWeekYear","_dayOfMonthOrdinalParse","_ordinalParse","_dayOfMonthOrdinalParseLenient","getSetDayOfMonth","getSetMinute","getSetMillisecond","getSetSecond","parseMs","proto","preParsePostFormat","time","formats","isCalendarSpec","sod","startOf","calendarFormat","asFloat","that","zoneDelta","endOf","startOfDate","isoWeekday","inputString","postformat","withoutSuffix","humanize","fromNow","toNow","invalidAt","localInput","isBetween","inclusivity","localFrom","localTo","isSame","inputMs","isSameOrAfter","isSameOrBefore","parsingFlags","prioritized","unitsObj","getPrioritizedUnits","toArray","toObject","toDate","toISOString","keepOffset","inspect","prefix","suffix","zone","isLocal","Symbol","for","toJSON","unix","creationData","eraName","since","until","eraNarrow","eraAbbr","eraYear","dir","isoWeeks","weekInfo","weeksInWeekYear","isoWeeksInYear","isoWeeksInISOWeekYear","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","parseZone","tZone","hasAlignedHourOffset","isDST","isUtcOffset","zoneAbbr","zoneName","dates","isDSTShifted","_isDSTShifted","array1","array2","dontConvert","lengthDiff","diffs","compareArrays","proto$1","get$1","index","field","setter","listMonthsImpl","out","listWeekdaysImpl","localeSorted","shift","_calendar","_longDateFormat","formatUpper","toUpperCase","tok","_invalidDate","_ordinal","isFuture","_relativeTime","pastFuture","source","_eras","Infinity","isFormat","_monthsShort","monthName","_monthsParseExact","ii","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","firstDayOfYear","firstDayOfWeek","_weekdays","_weekdaysMin","_weekdaysShort","weekdayName","_weekdaysParseExact","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","_fullWeekdaysParse","charAt","isLower","langData","mathAbs","addSubtract$1","absCeil","daysToMonths","monthsToDays","makeAs","alias","as","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asQuarters","asYears","makeGetter","thresholds","relativeTime$1","posNegDuration","abs$1","toISOString$1","totalSign","ymSign","daysSign","hmsSign","total","toFixed","proto$2","monthsFromDays","argWithSuffix","argThresholds","withSuffix","th","assign","toIsoString","version","updateLocale","tmpLocale","relativeTimeRounding","roundingFunction","relativeTimeThreshold","threshold","limit","myMoment","HTML5_FMT","DATETIME_LOCAL","DATETIME_LOCAL_SECONDS","DATETIME_LOCAL_MS","TIME","TIME_SECONDS","TIME_MS","define","amd","moment","2","root","validate","errorStr","validKey","ERROR","INVALID_TYPE","scope","localStorage","setItem","getItem","removeItem","MESSAGE_TYPE","CONNECT","CONNACK","PUBLISH","PUBACK","PUBREC","PUBREL","PUBCOMP","SUBSCRIBE","SUBACK","UNSUBSCRIBE","UNSUBACK","PINGREQ","PINGRESP","DISCONNECT","OK","text","CONNECT_TIMEOUT","SUBSCRIBE_TIMEOUT","UNSUBSCRIBE_TIMEOUT","PING_TIMEOUT","INTERNAL_ERROR","CONNACK_RETURNCODE","SOCKET_ERROR","SOCKET_CLOSE","MALFORMED_UTF","UNSUPPORTED","INVALID_STATE","INVALID_ARGUMENT","UNSUPPORTED_OPERATION","INVALID_STORED_DATA","INVALID_MQTT_MESSAGE_TYPE","MALFORMED_UNICODE","BUFFER_FULL","CONNACK_RC","0","3","4","5","error","substitutions","part1","part2","start","substring","MqttProtoIdentifierv3","MqttProtoIdentifierv4","WireMessage","type","options","decodeMessage","first","digit","startingPos","messageInfo","remLength","multiplier","endPos","wireMessage","sessionPresent","returnCode","qos","readUint16","topicName","parseUTF8","messageIdentifier","message","Message","subarray","retained","duplicate","destinationName","payloadMessage","writeUint16","buffer","writeString","utf8Length","stringToUTF8","UTF8Length","charCode","charCodeAt","lowCharCode","utf16","byte1","byte2","byte3","byte4","fromCharCode","encode","willMessagePayloadBytes","topicStrLength","destinationNameLength","mqttVersion","clientId","willMessage","payloadBytes","Uint8Array","byteLength","userName","password","topics","requestedQos","ArrayBuffer","mbi","numBytes","encodeMBI","byteStream","connectFlags","cleanSession","keepAliveInterval","Pinger","client","doTimeout","pinger","doPing","_client","_keepAliveInterval","isReset","pingReq","_trace","socket","send","timeout","setTimeout","_disconnected","reset","clearTimeout","cancel","Timeout","timeoutSeconds","action","ClientImpl","uri","host","port","path","WebSocket","_wsuri","_localKey","_msg_queue","_buffered_msg_queue","_sentMessages","_receivedMessages","_notify_msg_sent","_message_identifier","_sequence","restore","connected","maxMessageIdentifier","connectOptions","hostIndex","onConnected","onConnectionLost","onMessageDelivered","onMessageArrived","traceFunction","_connectTimeout","sendPinger","receivePinger","_reconnectInterval","_reconnecting","_reconnectTimeout","disconnectedPublishing","disconnectedBufferSize","receiveBuffer","_traceBuffer","_MAX_TRACE_ENTRIES","connect","connectOptionsMasked","_traceMask","uris","_doConnect","subscribe","subscribeOptions","constructor","onSuccess","grantedQos","invocationContext","onFailure","errorCode","errorMessage","timeOut","_requires_ack","_schedule_message","unsubscribe","unsubscribeOptions","sequence","unshift","disconnect","getTraceLog","startTrace","stopTrace","wsurl","uriParts","useSSL","binaryType","onopen","_on_socket_open","onmessage","_on_socket_message","onerror","_on_socket_error","onclose","_on_socket_close","_process_queue","store","storedMessage","pubRecReceived","hex","messageBytes","payloadHex","JSON","stringify","parse","pop","_socket_send","messageCount","event","messages","_deframeMessages","_handleMessage","newData","byteArray","errorStack","sentMessage","receivedMessage","sequencedMessages","msgId","pubRelMessage","reconnected","_connected","_receivePublish","_receiveMessage","pubCompMessage","wireMessageMasked","pubAckMessage","pubRecMessage","reconnect","_reconnect","errorText","readyState","close","mqttVersionExplicit","splice","record","severity","traceObject","masked","traceObjectMasked","attr","newPayload","payload","isView","DataView","defineProperties","payloadString","enumerable","newDestinationName","newQos","newRetained","topic","newTopic","newDuplicate","Client","clientIdLength","newOnConnected","newDisconnectedPublishing","newDisconnectedBufferSize","newOnConnectionLost","newOnMessageDelivered","newOnMessageArrived","trace","hosts","ports","stringPayload","usingURIs","ipv6","publish","isConnected","self","window","Paho","IDX","HEX","str","num","random","_header","_interopRequireDefault","_cardAdd","_loadWidgets","_evetDocument","__esModule","default","addCardEvents","./modules/events/cardAdd","./modules/events/evetDocument","./modules/events/header","./modules/events/loadWidgets","_localStorage","_connections","_toast","disabledHeader","status","document","getElementById","disabled","btnConnect","classList","remove","innerText","onConnect","log","subscriptions","publishers","responseObject","messageArrived","user","connectionSettings","getUserStorage","getHostStorage","Number","alert","username","pwd","./connections","./localStorage","./toast","paho-mqtt","6","_moment","loadSubscriptions","widget","listWidgets","getAllWidget","topicsSubscribeList","widgetsList","_id","eventPublish","target","dataset","id","trim","thing","icon","textContent","payloadOn","payloadOff","updateLogger","checked","subscription","addEventListener","querySelectorAll","subfije","changeValue","style","color","thingColor","colorOn","iconOn","iconOff","colorOff","updateCard","7","_uid","_loadWidget","removeCardAddFromUI","modal","body","removeChild","getColorPickerModalOn","getElementIconFromModal","getParametersFromCard","pinInput","boardInput","colorOnInput","colorOffInput","subfijeInput","thingInput","subscribeInput","publishInput","payloadSubscribeOn","payloadSubscribeOff","payloadPublishOn","payloadPublishOff","descriptionInput","dataModal","statusModal","edit","pin","board","iconFeature","firstElementChild","getDataIcon","iconsList","icons","element","hasIcon","search","hasIcon2","getIconFromModal","class","description","renderModal","html","modalContainer","createElement","setAttribute","innerHTML","appendChild","btn","eventsModal","preventDefault","updateWidgetUI","updateWidget","loadWidgetUI","insertWidget","selectIcon","childrens","children","changeColorIconModal","changeIconModal","loadIconModal","selectedIndex","contains","../connections","../events/loadWidget","../html/htmlCardAdd","../localStorage","uid","8","defineProperty","_menuCard","keyCode","removeMenu","tagName","../toast","./cardAdd","./menuCard","9","_connection","_host","_generateClientId","getLoadSaveClient","userLocal","saveHostUI","hostInput","focus","saveHostStorage","saveUserUI","saveUserStorage","../connection","../generateClientId","../host","10","_htmlCard","disabeInputCard","createCard","child","mainElement","cardElement","replaceChild","oldChild","../html/htmlCard","11","_default","menuEvent","./loadWidget","12","menu","card","toggle","removeWidget","13","14","positionPort","15","getInput","16","./htmlCard","17","18","userId","widgetListId","setAllWidgets","widgets","deleteAll","clear","widgetId","19","_htmlToast","toast","./html/htmlToast"],"mappings":"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"}